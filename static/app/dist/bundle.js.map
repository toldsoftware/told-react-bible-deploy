{"version":3,"sources":["webpack:///bundle.js","webpack:///./src/app/components/pages/page-selector.tsx","webpack:///./src/app/extensions/storage/autoDeviceStorage.ts","webpack:///./src/app/components/common/icons/icon-base.tsx","webpack:///./src/app/app.tsx","webpack:///./src/app/components/bible/passage-parts-generator.ts","webpack:///./src/app/components/bible/passage.tsx","webpack:///./src/app/components/common/account/facebook-sdk-web.ts","webpack:///./src/app/components/common/icons/book.tsx","webpack:///./src/app/components/common/icons/clear.tsx","webpack:///./src/app/components/common/icons/facebook.tsx","webpack:///./src/app/components/common/icons/feedback.tsx","webpack:///./src/app/components/common/icons/menu.tsx","webpack:///./src/app/components/common/icons/rocket.tsx","webpack:///./src/app/components/common/icons/search.tsx","webpack:///./src/app/components/common/layout/main-layout.tsx","webpack:///./src/app/components/common/simple-component-base.tsx","webpack:///./src/app/components/page/page-layout-common.tsx","webpack:///./src/app/components/page/root.tsx","webpack:///./src/app/components/pages/interact-page.tsx","webpack:///./src/app/components/pages/page-names.ts","webpack:///./src/app/components/pages/read-page.tsx","webpack:///./src/app/components/pages/settings-page.tsx","webpack:///./src/app/components/smart/feedbackButton.tsx","webpack:///./src/app/extensions/storage/storage.native.tsx","webpack:///./src/app/extensions/storage/storage.tsx","webpack:///./src/app/routes.ts","webpack:///./src/app/server-access/bible-data.ts","webpack:///./src/app/settings.dev.ts","webpack:///./src/app/settings.ts","webpack:///./src/app/store/account-store.ts","webpack:///./src/app/store/bible-store.ts","webpack:///./src/app/store/helpers.ts","webpack:///./src/app/store/store.ts","webpack:///./src/index.tsx","webpack:///./src/app/styles.ts","webpack:///./src/app/components/common/store-component-base.tsx","webpack:///./src/app/components/page/page-layout.tsx","webpack:///./src/app/components/bible/passage-chooser.tsx","webpack:///./src/app/components/common/account/facebook-login.tsx","webpack:///./src/app/components/common/utils/auto-timeout.ts"],"names":["webpackJsonp","100","module","exports","__webpack_require__","Object","defineProperty","value","RX","menu_1","page_layout_1","settings_page_1","book_1","rocket_1","interact_page_1","read_page_1","PageSelector","props","pageName","createElement","EmptyPage","store","ReadPage","InteractPage","SettingsPage","PageIcon","BookIcon","style","iconStyle","RocketIcon","MenuIcon","PageLayout","postsStore","View","101","autoDeviceStorage","defaultValue","classStorageKey","targetPrototype","propertyKey","propKey","version","descriptor","get","self","this","key","undefined","startLoading","storage_1","Storage","getItem_noMemCache","then","x","endLoading","JSON","parse","trigger","set","v","setItem_noMemCache","stringify","18","createIconStyle","reactxp_imagesvg_1","IconBase","default","height","fontSize","padding","width","viewBox","children","183","store_1","routes_1","root_1","Store","handleRoute","App","Root","184","getChoices","correct","altWords","choices","simple","simplify","attempts","length","TARGET_COUNT","c","Math","floor","random","s","indexOf","push","makeConsistent","randomize","map","text","isCorrect","isMistake","isCollapsed","array","source","result","apply","splice","replace","toLowerCase","m","match","prefix","content","suffix","isCapitalized","toUpperCase","hasPossessive","cm","ca","cb","substr","cc","MIN_CHOICE_SPACING","MAX_CHOICE_SPACING","PassagePartsGenerator","_iToChoice","ceil","_nextKey","prototype","createParts","verseData","shouldMakeChoices","_this","parts","verseID","_key","kind","isActive","chapterID","words","split","wordParts","w","altWords_1","p","trim","correctChoice","filter","concat","185","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","hasOwnProperty","__","constructor","create","__assign","assign","t","i","n","arguments","call","colors","back_viewer","text_marker","back_choice","text_choice","back_choice_disabled","text_choice_disabled","back_wrong","text_wrong","back_correct","text_correct","sizes","choiceHeight","lineHeight","choice_padding","styles","active","Styles","createViewStyle","inactive","opacity","viewer","flexDirection","flexWrap","alignItems","backgroundColor","chapterMarker","createTextStyle","marginRight","marginLeft","color","verseMarker","paddingBottom","textPart_view","justifyContent","textPart","choicesPart_wrapper","overflow","choicesPart","choice","marginTop","marginBottom","choice_default","margin","textAlign","choice_disabled","choice_correct","choice_wrong","textDecorationLine","textDecorationColor","textDecorationStyle","choice_collapsed","PassageViewer","allParts","passage","previousParts","part","onPartDone","activeParts","nextParts","PassagePartViewer","Text","PassageChoicesViewer","_super","initState","state","choiceStates","wasDone","isWrong","selectChoice","forEach","shiftAnimation_1","Animated","timing","_animatedTranslateValue","toValue","duration","easing","Easing","InOut","setTimeout","start","setState","Value","_shiftStyle","createAnimatedViewStyle","transform","translateY","render","PassageChoiceViewer","onPress","hasOnPartDoneHandler","Component","Button","186","loadFacebookSdk","Promise","resolve","reject","fb","resolves","hasStartedLoading","console","log","window","fbAsyncInit","FB","init","appId","settings_1","facebookAppId","cookie","xfbml","resolveAll","id","js","fjs","getElementsByTagName","getElementById","src","parentNode","insertBefore","document","auto_timeout_1","getFacebookSdk","getLoginStatus","force","autoTimeout","timeoutErrorMessage","errorMessage","r","login","logout","f","187","icon_base_1","SvgPath","strokeColor","fillColor","188","ClearIcon","189","FacebookIcon","190","FeedbackIcon","191","192","193","SearchIcon","194","simple_component_base_1","fullRow","flex","fullColumn","MainLayout","onScroll","body","html","documentElement","contentHeight","max","scrollHeight","offsetHeight","clientHeight","scrollTop","onScrollReachEnd","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","headerContent","footerHeight","AutoHideHeader","footerContent","SimpleComponentBase","_lastScrollY","handleScroll","e","scrollY","dy","isVisible","abs","clonedChildren","Children","195","196","styles_1","store_component_base_1","search_1","clear_1","feedbackButton_1","page_names_1","page_selector_1","TabBar","tabBar","PageTabList","PageTab","name","storeComp","getPage","uiActions","gotoPage","buttonStyle","tab_button_active","tab_button","textStyle","tab_text_active","tab_text","tabIcon_active","tabIcon","icon","center_content","title","Loader","isLoading","getIsLoading","loader","ActivityIndicator","size","MiniLoader","isWeb","Platform","getType","mini_loader","mini_loader_container_web","mini_loader_web","deferTime","mini_loader_native","AppIconImage","headerBar_appIconImage_view","Image","headerBar_appIconImage","AppImage","appImage_view","appImage","HeaderBar","hasSearch","getSearch","search","searchTimeoutId","setSearch","clearTimeout","onDone","clearSearch","headerBar","searchBox_view","searchIcon","SearchTextBox","setValue","flex1","headerButtons","FeedbackButton","TextInput","searchBox_text","onChangeText","onSubmitEditing","onBlur","placeholder","placeholderTextColor","searchBox_text_placeholder_color","197","page","198","passage_1","passage_chooser_1","bibleStore","InteractView","getPassage","PassageChooser","completePart","199","200","201","facebook_login_1","loginError","account","getError","isLoggedIn","getIsFacebookLoggedIn","accountMessage","getFacebookAccessToken","platform","warning_text","heading","heading_text","postPanel","FacebookLogin","onLoginFinished","onError","setLoginError","202","feedback_1","postIcon_action","actionIcons","e_yellow","feedbackOnPress","Linking","openUrl","203","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","done","__generator","verb","op","TypeError","_","y","label","ops","pop","trys","g","sent","throw","return","Symbol","iterator","XP","StorageClass","hasItem","_a","getItem","setItem","204","testLocalStorage","localStorage","isOk","removeItem","err","storage_native_1","_supportsLocalStorage","_memCache","enumerable","configurable","_b","_c","supportsLocalStorage","205","query","location","qPath","path","pathname","206","downloadBibleMetadata","versionKey","url","obj","fetch","json","data","downloadBibleChapterData","bookNumber","bookKey","chapterNumber","bookNumberPad2","chapterNumberPad3","207","208","209","__decorate","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","resub_1","AccountStoreClass","_isFacebookLoggedIn","_error","message","_accessToken","error","load","err_1","getFacebookAccessToken_async","accessToken","FacebookAccess","getCurrentAccessToken","StoreBase","autoSubscribe","AutoSubscribeStore","AccountStore","210","autoDeviceStorage_1","passage_parts_generator_1","bible_data_1","helpers_1","BibleStoreClass","_isLoading","ensureLoad","val","_selectedBookKey","_selectedChapterNumber","_selectedVerseNumber","getPassageMetadata_async","_bibleMetadata","downloadMetadata","getPassageMetadata_inner","selectBook","reloadPassage","selectChapter","selectVerse","verseNumber","generatePassage","_passage","_isDone","every","gotoAndGenerateNextPassage","_passageGenerator","_d","_e","_f","_g","_h","_j","books","bookID","getVerseDataAtOffset","gotoNextVerseReference","slice","verseIndex","verseCount","chapterIndex","chapterCount","verseOffset","vCount","getPassageMetadata","getVerseData","bookIndex","warn","chapters","_bibleData","hasChapterDownloadStarted","delay","verses","_downloadMetadata_busy","bookMetadata","chapterMetadata","bookName","BibleStore","211","isMatch","item","k","time","injectAds","items","adItems","merged","bItems","order","sort","a","itemsPerBusiness","iFirstBusiness","bIndex","212","account_store_1","bible_store_1","StoreClass","_isLoadingChangeId","fast","_page","213","app_1","initialize","UserInterface","setMainView","23","pallette","primary_0","primary_1","primary_2","primary_3","primary_4","secondary_1_0","secondary_1_1","secondary_1_2","secondary_1_3","secondary_1_4","secondary_2_0","secondary_2_1","secondary_2_2","secondary_2_3","secondary_2_4","complement_0","complement_1","complement_2","complement_3","complement_4","iconColors_sections","a_purple","b_red","c_orange","d_orange_yellow","f_yellow_green","g_green","h_teal","iconColors_actions","pageColors","back_heading_default","text_heading_default","back_heading1","text_heading1","back_heading2","text_heading2","text_listItem","sectionIcons","mini_loader_background","icon_disabled","text_main","icon_main","back_main","text_modal","back_modal","text_title","text_title_edit","back_title_edit","text_button","back_button_action","back_button_warning","back_button_filter","back_button_nav","text_warning","back_warning","border_headerBar","back_headerBar","text_search","text_search_placeholder","back_search","border_tabBar","back_tabBar","text_tab","text_tab_active","back_page","back_panel","back_sponsored","icon_post","icon_post_action","text_post_title","text_post_subTitle","text_post_content","text_post_content_caption","text_post_content_details","text_post_info","back_post_image","border_post_content_section","pageSizes","padding_heading_default","font_heading_default","padding_heading1","font_heading1","padding_heading2","font_heading2","marginTop_paragraph","marginBottom_paragraph","margin_loneLink","paddingTop_loneLink","paddingBottom_loneLink","paddingLeft_loneLink","paddingRight_loneLink","paddingTop_listItem","paddingBottom_listItem","paddingLeft_listItem","paddingRight_listItem","icon_listItem","padding_button_tab","icon_button_tab","font_button_tab","footer_height","width_miniLoader","height_appIconImage","width_appIconImage","marginLeft_appIconImage","marginRight_appIconImage","height_appImage","width_appImage","margin_search","padding_search","paddingLeft_search","font_search","icon_search","radius_search","padding_page","marginBottom_panel","padding_panel","paddingLeft_heading","font_heading","padding_action_button","icon_list","paddingRight_postIcon","padding_icon_post_action","icon_post_section","icon_post_content","font_post_title","font_post_subTitle","font_post_content","font_post_content_caption","font_post_content_details","font_post_info","font_post_comment","marginLeft_post_section","marginBottom_post_section","marginTop_post_section","image_post_height","font_button","icon_button","font_stats","icon_stats","pageStyles","headings","section","view","fontWeight","maxWidth","paragraph","inlineLink","createButtonStyle","paddingLeft","paddingRight","inlineLink_text","loneLink_view","loneLink_link","paddingTop","loneLink_text","list","listItem_view","listItem","listItem_icon","row","space_around_content","center_text","right_content","minWidth","minHeight","borderRadius","createImageStyle","borderColor","borderBottomWidth","borderStyle","borderWidth","pageBackground","action_button","action_button_text","facebook_button","facebook_button_text","facebook_icon","listIcon","postList","postItem","sponsored","postContent_wrapper","borderLeftWidth","borderTopWidth","postIcon_padding","postIcon","postIcon_action_disabled","postTitle_text","postSubTitle_text","postContent_section","postContent_section_text","postContent_section_caption_text","postContent_section_details_text","postContent_action","postInfo_text","postContent_comment_name_text","postContent_comment_message_text","postContent_comment_info_text","postStats_view","postStats_icon","postStats_text","postImage_maxWidth","postImage","postProfilePicture","41","buildStateCallback","renderCallback","StoreComponentBase","_buildState","initialBuild","ComponentBase","42","main_layout_1","page_layout_common_1","428","getNumbersList","min","localStyles","chooser","selector","picker","createPickerStyle","Selector","onChoice","Picker","selectedValue","onValueChange","98","facebook_1","facebook_sdk_web_1","onLoginPress","status","onLogoutPress","err_2","FacebookAccessClass","token","authResponse","99","options","process","id_1","catch"],"mappings":"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","file":"bundle.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 100:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar menu_1 = __webpack_require__(191);\r\nvar page_layout_1 = __webpack_require__(42);\r\nvar settings_page_1 = __webpack_require__(201);\r\n// import { NewsPage } from \"./news-page\";\r\nvar book_1 = __webpack_require__(187);\r\nvar rocket_1 = __webpack_require__(192);\r\nvar interact_page_1 = __webpack_require__(198);\r\nvar read_page_1 = __webpack_require__(200);\r\nexports.PageSelector = function (props) {\r\n    switch (props.pageName) {\r\n        case 'Empty': return RX.createElement(exports.EmptyPage, { store: props.store });\r\n        // case 'Newsfeed': return <NewsPage store={props.store} />\r\n        case 'Read': return RX.createElement(read_page_1.ReadPage, { store: props.store });\r\n        case 'Interact': return RX.createElement(interact_page_1.InteractPage, { store: props.store });\r\n        default: return RX.createElement(settings_page_1.SettingsPage, { store: props.store });\r\n    }\r\n};\r\nexports.PageIcon = function (props) {\r\n    switch (props.pageName) {\r\n        // case 'Newsfeed': return <NewsIcon style={props.iconStyle} />\r\n        case 'Read': return RX.createElement(book_1.BookIcon, { style: props.iconStyle });\r\n        case 'Interact': return RX.createElement(rocket_1.RocketIcon, { style: props.iconStyle });\r\n        default: return RX.createElement(menu_1.MenuIcon, { style: props.iconStyle });\r\n    }\r\n};\r\nexports.EmptyPage = function (props) { return (RX.createElement(page_layout_1.PageLayout, { store: props.store, postsStore: props.store },\r\n    RX.createElement(RX.View, null))); };\r\n\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar storage_1 = __webpack_require__(204);\r\nvar version = 'v0_1';\r\nfunction autoDeviceStorage(defaultValue, classStorageKey) {\r\n    if (defaultValue === void 0) { defaultValue = null; }\r\n    if (classStorageKey === void 0) { classStorageKey = ''; }\r\n    return function (targetPrototype, propertyKey) {\r\n        var propKey = version + classStorageKey + propertyKey + '__value';\r\n        var descriptor = {};\r\n        descriptor.get = function () {\r\n            var self = this;\r\n            // const key = propKey + (self['_store_instance_name'] || '');\r\n            var key = propKey;\r\n            var value = self[key];\r\n            // console.log('get from self', { key, propKey, self, value: self[key] });\r\n            if (value === undefined) {\r\n                self[key] = null;\r\n                value = defaultValue;\r\n                // Get value from storage\r\n                if (self.startLoading) {\r\n                    self.startLoading();\r\n                }\r\n                var prom = storage_1.Storage.getItem_noMemCache(key);\r\n                prom.then(function (x) {\r\n                    if (self.endLoading) {\r\n                        self.endLoading();\r\n                    }\r\n                    if (x == null) {\r\n                        return;\r\n                    }\r\n                    self[key] = JSON.parse(x);\r\n                    // console.log('get from storage', { key, self, value: self[key] });\r\n                    self.trigger();\r\n                });\r\n            }\r\n            return value;\r\n        };\r\n        descriptor.set = function (v) {\r\n            var self = this;\r\n            //const key = propKey + (self['_store_instance_name'] || '');\r\n            var key = propKey;\r\n            self[key] = v;\r\n            storage_1.Storage.setItem_noMemCache(key, JSON.stringify(v));\r\n        };\r\n        return descriptor;\r\n    };\r\n}\r\nexports.autoDeviceStorage = autoDeviceStorage;\r\n\n\n/***/ }),\n\n/***/ 18:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar reactxp_imagesvg_1 = __webpack_require__(22);\r\nfunction createIconStyle(style) { return style; }\r\nexports.createIconStyle = createIconStyle;\r\n// {props.style.strokeColor}\r\n// {props.style.fillColor} \r\nexports.IconBase = function (props) {\r\n    // console.log('IconBase', props.children);\r\n    return (RX.createElement(reactxp_imagesvg_1.default, { height: props.style.fontSize + props.style.padding * 2, width: props.style.fontSize + props.style.padding * 2, viewBox: props.viewBox }, props.children));\r\n};\r\n\n\n/***/ }),\n\n/***/ 183:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar store_1 = __webpack_require__(212);\r\nvar routes_1 = __webpack_require__(205);\r\nvar root_1 = __webpack_require__(197);\r\nvar store = store_1.Store;\r\nroutes_1.handleRoute();\r\nexports.App = function () { return (RX.createElement(root_1.Root, { store: store })); };\r\n\n\n/***/ }),\n\n/***/ 184:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MIN_CHOICE_SPACING = 2;\r\nvar MAX_CHOICE_SPACING = 5;\r\nvar TARGET_COUNT = 3;\r\nvar PassagePartsGenerator = (function () {\r\n    function PassagePartsGenerator() {\r\n        this._iToChoice = MIN_CHOICE_SPACING + Math.ceil((MAX_CHOICE_SPACING - MIN_CHOICE_SPACING) * Math.random());\r\n        this._nextKey = 0;\r\n    }\r\n    PassagePartsGenerator.prototype.createParts = function (verseData, shouldMakeChoices) {\r\n        var _this = this;\r\n        if (shouldMakeChoices === void 0) { shouldMakeChoices = true; }\r\n        if (!verseData || !verseData.text.length) {\r\n            return [];\r\n        }\r\n        var parts = [];\r\n        if (verseData.verseID === \"1\") {\r\n            parts.push({\r\n                _key: '' + this._nextKey++,\r\n                kind: 'chapterMarker',\r\n                isActive: false,\r\n                text: verseData.chapterID\r\n            });\r\n        }\r\n        parts.push({\r\n            _key: '' + this._nextKey++,\r\n            kind: 'verseMarker',\r\n            isActive: false,\r\n            text: verseData.verseID\r\n        });\r\n        var words = verseData.text.replace(/\\n/g, ' \\n ').replace(/ +/g, ' ').split(' ');\r\n        var wordParts = words.map(function (w) { return ({\r\n            _key: '' + _this._nextKey++,\r\n            kind: w.indexOf('\\n') >= 0 ? 'lineBreak' : 'text',\r\n            isActive: false,\r\n            text: w\r\n        }); });\r\n        // Convert some words to choices\r\n        if (shouldMakeChoices) {\r\n            var altWords_1 = wordParts.map(function (w) { return w.text; });\r\n            wordParts = wordParts.map(function (p) {\r\n                if (p.text.trim().length <= 0) {\r\n                    return p;\r\n                }\r\n                _this._iToChoice--;\r\n                if (_this._iToChoice > 0) {\r\n                    return p;\r\n                }\r\n                _this._iToChoice = MIN_CHOICE_SPACING + Math.ceil((MAX_CHOICE_SPACING - MIN_CHOICE_SPACING) * Math.random());\r\n                var choices = getChoices(p.text, altWords_1);\r\n                var part = {\r\n                    _key: '' + _this._nextKey++,\r\n                    kind: 'choice',\r\n                    isActive: false,\r\n                    text: p.text,\r\n                    correctChoice: choices.filter(function (c) { return c.text == p.text; })[0],\r\n                    choices: choices\r\n                };\r\n                return part;\r\n            });\r\n        }\r\n        parts = parts.concat(wordParts);\r\n        return parts;\r\n    };\r\n    return PassagePartsGenerator;\r\n}());\r\nexports.PassagePartsGenerator = PassagePartsGenerator;\r\nfunction getChoices(correct, altWords) {\r\n    var choices = [correct];\r\n    var simple = [simplify(correct)];\r\n    var attempts = 0;\r\n    while (attempts < 10 && choices.length < TARGET_COUNT) {\r\n        var c = altWords[Math.floor(altWords.length * Math.random())];\r\n        var s = simplify(c);\r\n        if (s.length > 0 && simple.indexOf(s) < 0) {\r\n            choices.push(c);\r\n            simple.push(s);\r\n        }\r\n        attempts++;\r\n    }\r\n    choices = makeConsistent(correct, choices);\r\n    // Randomize\r\n    choices = randomize(choices);\r\n    return choices.map(function (c) { return { text: c, isCorrect: false, isMistake: false, isCollapsed: false }; });\r\n}\r\nfunction randomize(array) {\r\n    var source = array.map(function (x) { return x; });\r\n    var result = [];\r\n    while (source.length > 0) {\r\n        result.push.apply(result, source.splice(Math.floor(Math.random() * source.length), 1));\r\n    }\r\n    return result;\r\n}\r\nfunction simplify(text) {\r\n    return text.replace(/\\W+/g, \"\").toLowerCase();\r\n}\r\nfunction markParts(parts, isActive) {\r\n    parts.forEach(function (p) { return p.isActive = isActive; });\r\n}\r\nfunction makeConsistent(correct, choices) {\r\n    var m = correct.match(/^([\\W]*)(.*\\w)([\\W]*)$/);\r\n    var prefix = m[1];\r\n    var content = m[2];\r\n    var suffix = m[3];\r\n    var isCapitalized = content[0] === content[0].toUpperCase();\r\n    var hasPossessive = content.match(/'s$/);\r\n    return choices.map(function (x) {\r\n        if (x === correct) {\r\n            return x;\r\n        }\r\n        var cm = x.match(/^([\\W]*)(.*\\w)([\\W]*)$/);\r\n        var ca = cm[2];\r\n        var cb = isCapitalized ? ca[0].toUpperCase() + ca.substr(1) : ca[0].toLowerCase() + ca.substr(1);\r\n        var cc = hasPossessive ? (cb + \"'s\").replace(\"s's\", \"s'\") : cb;\r\n        return prefix + cc + suffix;\r\n    });\r\n}\r\n\n\n/***/ }),\n\n/***/ 185:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar colors = {\r\n    back_viewer: '#FFFFFF',\r\n    text_marker: '#387ef5',\r\n    back_choice: '#387ef5',\r\n    text_choice: '#FFFFFF',\r\n    back_choice_disabled: '#CCCCCC',\r\n    text_choice_disabled: '#000000',\r\n    back_wrong: '#f53d3d',\r\n    text_wrong: '#FFFFFF',\r\n    back_correct: '#32db64',\r\n    text_correct: '#000000',\r\n};\r\nvar sizes = {\r\n    choiceHeight: 36,\r\n    lineHeight: 108,\r\n    choice_padding: 8,\r\n};\r\nvar styles = {\r\n    active: RX.Styles.createViewStyle({}),\r\n    inactive: RX.Styles.createViewStyle({\r\n        opacity: 0.75,\r\n    }),\r\n    viewer: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        alignItems: 'center',\r\n        backgroundColor: colors.back_viewer,\r\n        padding: 8,\r\n    }),\r\n    chapterMarker: RX.Styles.createTextStyle({\r\n        marginRight: 2,\r\n        marginLeft: 2,\r\n        fontSize: 48,\r\n        color: colors.text_marker,\r\n    }),\r\n    verseMarker: RX.Styles.createTextStyle({\r\n        marginRight: 2,\r\n        marginLeft: 2,\r\n        fontSize: 14,\r\n        color: colors.text_marker,\r\n        paddingBottom: 6,\r\n    }),\r\n    textPart_view: RX.Styles.createViewStyle({\r\n        // height: sizes.lineHeight,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }),\r\n    textPart: RX.Styles.createTextStyle({\r\n        marginRight: 2,\r\n        marginLeft: 2,\r\n        fontSize: 16,\r\n    }),\r\n    choicesPart_wrapper: RX.Styles.createViewStyle({\r\n        height: sizes.lineHeight,\r\n        overflow: 'hidden',\r\n        justifyContent: 'center',\r\n    }),\r\n    choicesPart: RX.Styles.createViewStyle({\r\n        alignItems: 'stretch',\r\n        justifyContent: 'center',\r\n    }),\r\n    choice: RX.Styles.createViewStyle({\r\n        height: sizes.choiceHeight - 2,\r\n        marginRight: 2,\r\n        marginLeft: 2,\r\n        marginTop: 1,\r\n        marginBottom: 1,\r\n    }),\r\n    choice_default: RX.Styles.createTextStyle({\r\n        margin: 0,\r\n        padding: sizes.choice_padding,\r\n        fontSize: 16,\r\n        textAlign: 'center',\r\n        color: colors.text_choice,\r\n        backgroundColor: colors.back_choice,\r\n    }),\r\n    choice_disabled: RX.Styles.createTextStyle({\r\n        margin: 0,\r\n        padding: sizes.choice_padding,\r\n        fontSize: 16,\r\n        textAlign: 'center',\r\n        color: colors.text_choice_disabled,\r\n        backgroundColor: colors.back_choice_disabled,\r\n    }),\r\n    choice_correct: RX.Styles.createTextStyle({\r\n        margin: 0,\r\n        padding: sizes.choice_padding,\r\n        fontSize: 16,\r\n        textAlign: 'center',\r\n        color: colors.text_correct,\r\n        backgroundColor: colors.back_correct,\r\n    }),\r\n    choice_wrong: RX.Styles.createTextStyle({\r\n        margin: 0,\r\n        padding: sizes.choice_padding,\r\n        fontSize: 16,\r\n        textAlign: 'center',\r\n        color: colors.text_wrong,\r\n        backgroundColor: colors.back_wrong,\r\n        textDecorationLine: 'line-through',\r\n        textDecorationColor: '#FF0000',\r\n        textDecorationStyle: 'solid',\r\n    }),\r\n    choice_collapsed: RX.Styles.createTextStyle({\r\n        margin: 0,\r\n        padding: sizes.choice_padding,\r\n        fontSize: 16,\r\n        textAlign: 'center',\r\n        opacity: 0.1,\r\n    }),\r\n};\r\nexports.PassageViewer = function (props) {\r\n    var allParts = props.passage.previousParts.map(function (x) { return ({ isActive: false, part: x, onPartDone: null }); }).concat(props.passage.activeParts.map(function (x) { return ({ isActive: true, part: x, onPartDone: function () { return props.onPartDone(x); } }); }), props.passage.nextParts.map(function (x) { return ({ isActive: false, part: x, onPartDone: null }); }));\r\n    return (RX.createElement(RX.View, { style: styles.viewer }, allParts.map(function (x) { return (RX.createElement(RX.View, { key: x.part._key, style: x.isActive ? styles.active : styles.inactive },\r\n        RX.createElement(exports.PassagePartViewer, { part: x.part, onPartDone: x.onPartDone }))); })));\r\n    // return (\r\n    //     <RX.View style={styles.viewer}>\r\n    //         {props.passage.previousParts.map(x => <RX.View key={x._key} style={styles.inactive}><PassagePartViewer part={x} /></RX.View>)}\r\n    //         {props.passage.activeParts.map(x => <PassagePartViewer key={x._key} part={x} onPartDone={() => props.onPartDone(x)} />)}\r\n    //         {props.passage.nextParts.map(x => <RX.View key={x._key} style={styles.inactive}><PassagePartViewer part={x} /></RX.View>)}\r\n    //     </RX.View>\r\n    // );\r\n};\r\nexports.PassagePartViewer = function (props) {\r\n    switch (props.part.kind) {\r\n        case 'chapterMarker': return (RX.createElement(RX.Text, { style: styles.chapterMarker }, props.part.text));\r\n        case 'verseMarker': return (RX.createElement(RX.Text, { style: styles.verseMarker }, props.part.text));\r\n        case 'choice': return (RX.createElement(PassageChoicesViewer, { part: props.part, onPartDone: props.onPartDone }));\r\n        case 'text':\r\n        default: return (RX.createElement(RX.View, { style: styles.textPart_view },\r\n            RX.createElement(RX.Text, { style: styles.textPart }, props.part.text)));\r\n    }\r\n};\r\nvar PassageChoicesViewer = (function (_super) {\r\n    __extends(PassageChoicesViewer, _super);\r\n    function PassageChoicesViewer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.initState = function () {\r\n            if (_this.state && _this.state.choiceStates) {\r\n                return;\r\n            }\r\n            _this.state = {\r\n                wasDone: false,\r\n                choiceStates: _this.state.choiceStates || _this.props.part.choices.map(function (x) { return ({\r\n                    isCorrect: false,\r\n                    isWrong: false,\r\n                    isCollapsed: false,\r\n                }); }),\r\n            };\r\n            // if (this.state.wasDone) {\r\n            //     const i = 0;\r\n            //     this._animatedTranslateValue.setValue(-(i - 1) * sizes.choiceHeight);\r\n            // }\r\n        };\r\n        _this.selectChoice = function (i) {\r\n            // Ignore if no onPartDone handler\r\n            if (!_this.props.onPartDone) {\r\n                return;\r\n            }\r\n            var s = _this.state.choiceStates;\r\n            var p = _this.props.part.choices[i];\r\n            var isCorrect = p === _this.props.part.correctChoice;\r\n            if (isCorrect) {\r\n                // Correct choice\r\n                s[i].isCorrect = true;\r\n                s.forEach(function (c) {\r\n                    c.isCollapsed = !c.isCorrect; // !c.isWrong && !c.isCorrect;\r\n                });\r\n                // Shift animation\r\n                var shiftAnimation_1 = RX.Animated.timing(_this._animatedTranslateValue, {\r\n                    toValue: -(i - 1) * sizes.choiceHeight,\r\n                    duration: 1000,\r\n                    easing: RX.Animated.Easing.InOut(),\r\n                });\r\n                setTimeout(function () {\r\n                    shiftAnimation_1.start();\r\n                });\r\n                _this.props.onPartDone();\r\n            }\r\n            else {\r\n                s[i].isWrong = true;\r\n            }\r\n            _this.setState({ choiceStates: s });\r\n        };\r\n        _this._animatedTranslateValue = new RX.Animated.Value(0.0);\r\n        _this._shiftStyle = RX.Styles.createAnimatedViewStyle({\r\n            transform: [{\r\n                    translateY: _this._animatedTranslateValue,\r\n                }]\r\n        });\r\n        return _this;\r\n    }\r\n    PassageChoicesViewer.prototype.render = function () {\r\n        var _this = this;\r\n        this.initState();\r\n        if (!this.state.wasDone) {\r\n            return (RX.createElement(RX.View, { style: styles.choicesPart_wrapper },\r\n                RX.createElement(RX.Animated.View, { style: [styles.choicesPart, this._shiftStyle] }, this.props.part.choices.map(function (x, i) {\r\n                    var s = _this.state.choiceStates[i];\r\n                    return (RX.createElement(RX.View, { style: styles.choice },\r\n                        RX.createElement(exports.PassageChoiceViewer, __assign({ part: x }, s, { onPress: function () { return _this.selectChoice(i); }, hasOnPartDoneHandler: !!_this.props.onPartDone }))));\r\n                }))));\r\n        }\r\n        else {\r\n            var x = this.props.part.correctChoice;\r\n            var s = { isCorrect: true, isWrong: false, isCollapsed: false };\r\n            return (RX.createElement(RX.View, { style: styles.choicesPart_wrapper },\r\n                RX.createElement(RX.View, { style: styles.choicesPart },\r\n                    RX.createElement(RX.View, { style: styles.choice },\r\n                        RX.createElement(exports.PassageChoiceViewer, __assign({ part: x }, s))))));\r\n        }\r\n    };\r\n    return PassageChoicesViewer;\r\n}(RX.Component));\r\nexports.PassageChoicesViewer = PassageChoicesViewer;\r\nexports.PassageChoiceViewer = function (props) {\r\n    if (props.isCorrect) {\r\n        return RX.createElement(RX.Text, { style: styles.choice_correct }, props.part.text);\r\n    }\r\n    else if (props.isCollapsed && props.isWrong) {\r\n        return RX.createElement(RX.Text, { style: [styles.choice_collapsed, styles.choice_wrong] }, props.part.text);\r\n    }\r\n    else if (props.isCollapsed) {\r\n        return RX.createElement(RX.Text, { style: styles.choice_collapsed }, props.part.text);\r\n    }\r\n    else if (props.isWrong) {\r\n        return RX.createElement(RX.Text, { style: styles.choice_wrong }, props.part.text);\r\n    }\r\n    else if (props.hasOnPartDoneHandler) {\r\n        return RX.createElement(RX.Button, { style: styles.choice_default, onPress: props.onPress }, props.part.text);\r\n    }\r\n    else {\r\n        return RX.createElement(RX.Text, { style: styles.choice_disabled }, props.part.text);\r\n    }\r\n};\r\n//   <div *ngFor=\"let part of verseParts\" class=\"versePart\" [style.color]=\"part.color\" [class.isActiveVersePart]=\"part.isActive\"\r\n//     [class.isNonActiveVersePart]=\"!part.isActive\" [class.lineBreak]=\"part.isLineBreak\">\r\n//     <span id=\"activeVerse\" *ngIf=\"part.isVerseID && part.isActive\"></span>\r\n//     <span class=\"activeChoice\" *ngIf=\"part.isChoice && part.isActive\"></span>\r\n//     <span *ngIf=\"part.isChapterID\" class=\"chapterID\">{{part.text}}&nbsp;</span>\r\n//     <span *ngIf=\"part.isVerseID\" class=\"verseID\">{{part.text}}&nbsp;</span>\r\n//     <span *ngIf=\"part.isText\" class=\"verseText\">{{part.text}}&nbsp;</span>\r\n//     <div *ngIf=\"part.isChoice\" class=\"choices\" [class.inactiveChoices]=\"part.choices.length <= 1\">\r\n//       <button *ngFor=\"let choice of part.choices\" class=\"choice\" [disabled]=\"!part.isActive\" [class.correct]=\"choice.isCorrect\"\r\n//         [class.mistake]=\"choice.isMistake\" [class.collapsed]=\"choice.isCollapsed\" (click)=\"makeChoice(part, choice)\">{{choice.text}}</button>\r\n//     </div>\r\n//   </div>\r\n\n\n/***/ }),\n\n/***/ 186:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar settings_1 = __webpack_require__(208);\r\nvar auto_timeout_1 = __webpack_require__(99);\r\nvar hasStartedLoading = false;\r\nvar fb;\r\nvar getFacebookSdk = function () {\r\n    return fb = fb || {\r\n        getLoginStatus: function (force) {\r\n            return auto_timeout_1.autoTimeout({\r\n                timeoutErrorMessage: 'Timeout: FacebookSdk.getLoginStatus',\r\n                errorMessage: 'Error: FacebookSdk.getLoginStatus',\r\n            }, function () {\r\n                return new Promise(function (resolve, reject) {\r\n                    FB.getLoginStatus(function (r) {\r\n                        resolve(r);\r\n                    }, force || false);\r\n                });\r\n            });\r\n        },\r\n        login: function () {\r\n            return auto_timeout_1.autoTimeout({\r\n                timeoutErrorMessage: 'Timeout: FacebookSdk.getLoginStatus',\r\n                errorMessage: 'Error: FacebookSdk.getLoginStatus',\r\n            }, function () {\r\n                return new Promise(function (resolve, reject) {\r\n                    FB.login(function (r) {\r\n                        resolve(r);\r\n                    });\r\n                });\r\n            });\r\n        },\r\n        logout: function () {\r\n            return auto_timeout_1.autoTimeout({\r\n                timeoutErrorMessage: 'Timeout: FacebookSdk.getLoginStatus',\r\n                errorMessage: 'Error: FacebookSdk.getLoginStatus',\r\n            }, function () {\r\n                return new Promise(function (resolve, reject) {\r\n                    FB.logout(function (r) {\r\n                        resolve(r);\r\n                    });\r\n                });\r\n            });\r\n        },\r\n    };\r\n};\r\nvar resolves = [];\r\nvar resolveAll = function () {\r\n    var f = getFacebookSdk();\r\n    var r = resolves;\r\n    resolves = [];\r\n    r.forEach(function (x) { return x(f); });\r\n};\r\nfunction loadFacebookSdk() {\r\n    return new Promise(function (resolve, reject) {\r\n        if (fb) {\r\n            resolve(fb);\r\n            return;\r\n        }\r\n        resolves.push(resolve);\r\n        if (hasStartedLoading) {\r\n            return;\r\n        }\r\n        hasStartedLoading = true;\r\n        console.log('START loadFacebookSdk');\r\n        window.fbAsyncInit = function () {\r\n            FB.init({\r\n                appId: settings_1.facebookAppId,\r\n                cookie: true,\r\n                // the session\r\n                xfbml: false,\r\n                version: 'v2.8' // use graph api version 2.8\r\n            });\r\n            // FB.getLoginStatus((response) => {\r\n            //     // statusChangeCallback(response);\r\n            // });\r\n            resolveAll();\r\n            console.log('END loadFacebookSdk');\r\n        };\r\n        // Load the SDK asynchronously\r\n        (function (d, s, id) {\r\n            var js, fjs = d.getElementsByTagName(s)[0];\r\n            if (d.getElementById(id))\r\n                return;\r\n            js = d.createElement(s);\r\n            js.id = id;\r\n            js.src = \"//connect.facebook.net/en_US/sdk.js\";\r\n            fjs.parentNode.insertBefore(js, fjs);\r\n        }(document, 'script', 'facebook-jssdk'));\r\n    });\r\n}\r\nexports.loadFacebookSdk = loadFacebookSdk;\r\n\n\n/***/ }),\n\n/***/ 187:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar reactxp_imagesvg_1 = __webpack_require__(22);\r\nvar icon_base_1 = __webpack_require__(18);\r\nexports.BookIcon = function (props) { return (RX.createElement(icon_base_1.IconBase, __assign({ viewBox: '0 0 40 40' }, props),\r\n    RX.createElement(reactxp_imagesvg_1.SvgPath, { strokeColor: props.style.strokeColor, fillColor: props.style.fillColor, \r\n        // tslint:disable-next-line:max-line-length\r\n        d: 'm38.1 10.7q0.9 1.2 0.4 2.9l-6.1 20.2q-0.5 1.4-1.8 2.4t-2.7 0.9h-20.6q-1.7 0-3.3-1.2t-2.2-2.9q-0.6-1.5-0.1-2.8 0-0.1 0.1-0.6t0.1-0.9q0-0.1-0.1-0.4t-0.1-0.5q0.1-0.2 0.2-0.4t0.4-0.6 0.4-0.5q0.5-0.8 1-2t0.6-2.1q0.1-0.2 0-0.6t0-0.7q0.1-0.2 0.4-0.6t0.4-0.5q0.5-0.8 0.9-2.1t0.6-2q0-0.2-0.1-0.7t0-0.6q0.1-0.3 0.5-0.7t0.5-0.5q0.4-0.6 1-1.9t0.6-2.1q0-0.2-0.1-0.6t0-0.6q0-0.2 0.2-0.4t0.4-0.5 0.4-0.5q0.1-0.2 0.3-0.6t0.4-0.8 0.3-0.8 0.5-0.7 0.5-0.6 0.9-0.2 1 0.1l0 0.1q0.8-0.2 1.1-0.2h17q1.7 0 2.6 1.2t0.4 2.9l-6.2 20.2q-0.8 2.7-1.6 3.5t-2.8 0.7h-19.4q-0.6 0-0.9 0.4-0.2 0.3 0 0.9 0.5 1.6 3.2 1.6h20.6q0.7 0 1.3-0.4t0.8-0.9l6.7-22q0.1-0.5 0.1-1.3 0.8 0.3 1.3 1z m-23.8 0q-0.1 0.3 0.1 0.5t0.4 0.2h13.6q0.3 0 0.6-0.2t0.3-0.5l0.5-1.4q0.1-0.3 0-0.5t-0.5-0.2h-13.6q-0.2 0-0.5 0.2t-0.4 0.5z m-1.8 5.7q-0.1 0.3 0 0.5t0.5 0.2h13.5q0.3 0 0.6-0.2t0.4-0.5l0.5-1.4q0-0.3-0.1-0.5t-0.4-0.2h-13.6q-0.3 0-0.6 0.2t-0.4 0.5z' }))); };\r\n\n\n/***/ }),\n\n/***/ 188:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar reactxp_imagesvg_1 = __webpack_require__(22);\r\nvar icon_base_1 = __webpack_require__(18);\r\nexports.ClearIcon = function (props) { return (RX.createElement(icon_base_1.IconBase, __assign({ viewBox: '0 0 40 40' }, props),\r\n    RX.createElement(reactxp_imagesvg_1.SvgPath, { strokeColor: props.style.strokeColor, fillColor: props.style.fillColor, \r\n        // tslint:disable-next-line:max-line-length\r\n        d: 'm31.6 10.7l-9.3 9.3 9.3 9.3-2.3 2.3-9.3-9.3-9.3 9.3-2.3-2.3 9.3-9.3-9.3-9.3 2.3-2.3 9.3 9.3 9.3-9.3z' }))); };\r\n\n\n/***/ }),\n\n/***/ 189:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar reactxp_imagesvg_1 = __webpack_require__(22);\r\nvar icon_base_1 = __webpack_require__(18);\r\nexports.FacebookIcon = function (props) { return (RX.createElement(icon_base_1.IconBase, __assign({ viewBox: '0 0 40 40' }, props),\r\n    RX.createElement(reactxp_imagesvg_1.SvgPath, { strokeColor: props.style.strokeColor, fillColor: props.style.fillColor, \r\n        // tslint:disable-next-line:max-line-length\r\n        d: 'm35.4 2.9q0.8 0 1.3 0.5t0.6 1.4v30.4q0 0.8-0.6 1.4t-1.3 0.5h-8.7v-13.2h4.4l0.7-5.2h-5.1v-3.3q0-1.3 0.5-1.9t2-0.6l2.7 0v-4.7q-1.4-0.2-3.9-0.2-3.1 0-4.9 1.8t-1.8 5.1v3.8h-4.5v5.2h4.5v13.2h-16.4q-0.8 0-1.3-0.5t-0.6-1.4v-30.4q0-0.8 0.6-1.4t1.3-0.5h30.5z' }))); };\r\n\n\n/***/ }),\n\n/***/ 190:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar reactxp_imagesvg_1 = __webpack_require__(22);\r\nvar icon_base_1 = __webpack_require__(18);\r\nexports.FeedbackIcon = function (props) { return (RX.createElement(icon_base_1.IconBase, __assign({ viewBox: '0 0 40 40' }, props),\r\n    RX.createElement(reactxp_imagesvg_1.SvgPath, { strokeColor: props.style.strokeColor, fillColor: props.style.fillColor, \r\n        // tslint:disable-next-line:max-line-length\r\n        d: 'm21.6 16.6v-6.6h-3.2v6.6h3.2z m0 6.8v-3.4h-3.2v3.4h3.2z m11.8-20q1.3 0 2.3 0.9t0.9 2.3v20q0 1.4-0.9 2.4t-2.3 1h-23.4l-6.6 6.6v-30q0-1.3 0.9-2.3t2.3-0.9h26.8z' }))); };\r\n\n\n/***/ }),\n\n/***/ 191:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar reactxp_imagesvg_1 = __webpack_require__(22);\r\nvar icon_base_1 = __webpack_require__(18);\r\nexports.MenuIcon = function (props) { return (RX.createElement(icon_base_1.IconBase, __assign({ viewBox: '0 0 40 40' }, props),\r\n    RX.createElement(reactxp_imagesvg_1.SvgPath, { strokeColor: props.style.strokeColor, fillColor: props.style.fillColor, \r\n        // tslint:disable-next-line:max-line-length\r\n        d: 'm5 10h30v3.4h-30v-3.4z m0 11.6v-3.2h30v3.2h-30z m0 8.4v-3.4h30v3.4h-30z' }))); };\r\n\n\n/***/ }),\n\n/***/ 192:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar reactxp_imagesvg_1 = __webpack_require__(22);\r\nvar icon_base_1 = __webpack_require__(18);\r\nexports.RocketIcon = function (props) { return (RX.createElement(icon_base_1.IconBase, __assign({ viewBox: '0 0 40 40' }, props),\r\n    RX.createElement(reactxp_imagesvg_1.SvgPath, { strokeColor: props.style.strokeColor, fillColor: props.style.fillColor, \r\n        // tslint:disable-next-line:max-line-length\r\n        d: 'm33.1 10q0-0.9-0.6-1.5t-1.5-0.6-1.5 0.6-0.6 1.5 0.6 1.5 1.5 0.6 1.5-0.6 0.6-1.5z m5-6.4q0 5.5-1.6 9.6t-5.7 8q-1.8 1.8-4.4 4l-0.4 8.4q0 0.4-0.4 0.6l-8.5 5q-0.2 0.1-0.4 0.1-0.3 0-0.5-0.2l-1.4-1.4q-0.3-0.4-0.2-0.8l1.9-6.1-6.3-6.3-6.1 1.9q-0.1 0-0.2 0-0.4 0-0.6-0.2l-1.4-1.4q-0.4-0.4-0.1-0.9l5-8.5q0.2-0.4 0.6-0.4l8.4-0.4q2.2-2.6 4-4.4 4.2-4.2 8-5.8t9.6-1.5q0.3 0 0.5 0.2t0.2 0.5z' }))); };\r\n\n\n/***/ }),\n\n/***/ 193:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar reactxp_imagesvg_1 = __webpack_require__(22);\r\nvar icon_base_1 = __webpack_require__(18);\r\nexports.SearchIcon = function (props) { return (RX.createElement(icon_base_1.IconBase, __assign({ viewBox: '0 0 40 40' }, props),\r\n    RX.createElement(reactxp_imagesvg_1.SvgPath, { strokeColor: props.style.strokeColor, fillColor: props.style.fillColor, \r\n        // tslint:disable-next-line:max-line-length\r\n        d: 'm27.2 18.6q0-4.2-2.9-7.1t-7.1-2.9-7 2.9-3 7.1 2.9 7 7.1 3 7.1-3 2.9-7z m11.4 18.5q0 1.2-0.8 2.1t-2 0.8q-1.2 0-2-0.8l-7.7-7.7q-4 2.8-8.9 2.8-3.2 0-6.1-1.3t-5-3.3-3.4-5-1.2-6.1 1.2-6.1 3.4-5.1 5-3.3 6.1-1.2 6.1 1.2 5 3.3 3.4 5.1 1.2 6.1q0 4.9-2.7 8.9l7.6 7.6q0.8 0.9 0.8 2z' }))); };\r\n\n\n/***/ }),\n\n/***/ 194:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar simple_component_base_1 = __webpack_require__(195);\r\nvar styles = {\r\n    fullRow: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flex: 1,\r\n    }),\r\n    fullColumn: RX.Styles.createViewStyle({\r\n        flexDirection: 'column',\r\n        flex: 1,\r\n    }),\r\n};\r\nvar MainLayout = (function (_super) {\r\n    __extends(MainLayout, _super);\r\n    function MainLayout() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.onScroll = function () {\r\n            // From: https://stackoverflow.com/questions/1145850/how-to-get-height-of-entire-document-with-javascript\r\n            var body = document.body;\r\n            var html = document.documentElement;\r\n            var contentHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\r\n            var yTop = document.body.scrollTop;\r\n            var viewHeight = document.body.clientHeight;\r\n            var yBottom = yTop + viewHeight;\r\n            // console.log('onScroll', { yBottom, contentHeight, viewHeight, yTop });\r\n            if (yBottom > contentHeight - 100) {\r\n                _this.props.onScrollReachEnd && _this.props.onScrollReachEnd();\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    MainLayout.prototype.componentDidMount = function () {\r\n        if (this.props.onScrollReachEnd) {\r\n            window.addEventListener('scroll', this.onScroll);\r\n            this.onScroll();\r\n        }\r\n    };\r\n    MainLayout.prototype.componentWillUnmount = function () {\r\n        if (this.props.onScrollReachEnd) {\r\n            window.removeEventListener('scroll', this.onScroll);\r\n        }\r\n    };\r\n    MainLayout.prototype.render = function () {\r\n        return (RX.createElement(\"div\", { style: \"width:100%; height: 100%; background-color: \" + this.props.backgroundColor },\r\n            RX.createElement(\"div\", { style: 'width:100%' }, this.props.headerContent),\r\n            RX.createElement(\"div\", { style: 'width:100%; display:flex;' },\r\n                RX.createElement(RX.View, { style: styles.fullColumn }, this.props.children)),\r\n            RX.createElement(\"div\", { style: \"height:\" + this.props.footerHeight + \"px;\" }),\r\n            RX.createElement(AutoHideHeader, null, this.props.headerContent),\r\n            RX.createElement(\"div\", { style: 'position:fixed; bottom: 0; width: 100%;' }, this.props.footerContent)));\r\n    };\r\n    return MainLayout;\r\n}(simple_component_base_1.SimpleComponentBase));\r\nexports.MainLayout = MainLayout;\r\nvar AutoHideHeader = (function (_super) {\r\n    __extends(AutoHideHeader, _super);\r\n    function AutoHideHeader() {\r\n        var _this = _super.call(this) || this;\r\n        _this._lastScrollY = 0;\r\n        _this.handleScroll = function (e) {\r\n            var scrollY = window.scrollY;\r\n            var dy = scrollY - _this._lastScrollY;\r\n            var isVisible = _this.state.isVisible;\r\n            // Make invisible if negative scroll (mobile web)\r\n            if (scrollY < 0) {\r\n                if (isVisible) {\r\n                    _this.setState({\r\n                        isVisible: false\r\n                    });\r\n                }\r\n                return;\r\n            }\r\n            // Ignore small changes\r\n            if (Math.abs(dy) < 100) {\r\n                return;\r\n            }\r\n            _this._lastScrollY = scrollY;\r\n            if (!isVisible && dy < 0) {\r\n                _this.setState({\r\n                    isVisible: true\r\n                });\r\n            }\r\n            else if (isVisible && dy > 0) {\r\n                _this.setState({\r\n                    isVisible: false\r\n                });\r\n            }\r\n        };\r\n        setTimeout(function () {\r\n            _this.state = {\r\n                isVisible: false,\r\n                clonedChildren: RX.Children.map(_this.props.children, function (c) { return c; }),\r\n            };\r\n        });\r\n        return _this;\r\n    }\r\n    AutoHideHeader.prototype.componentDidMount = function () {\r\n        window.addEventListener('scroll', this.handleScroll);\r\n    };\r\n    AutoHideHeader.prototype.componentWillUnmount = function () {\r\n        window.removeEventListener('scroll', this.handleScroll);\r\n    };\r\n    AutoHideHeader.prototype.render = function () {\r\n        return (this.state.isVisible &&\r\n            RX.createElement(\"div\", { style: 'position:fixed; top: 0; width: 100%;' }, this.state.clonedChildren));\r\n    };\r\n    return AutoHideHeader;\r\n}(simple_component_base_1.SimpleComponentBase));\r\nexports.AutoHideHeader = AutoHideHeader;\r\n\n\n/***/ }),\n\n/***/ 195:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar SimpleComponentBase = (function (_super) {\r\n    __extends(SimpleComponentBase, _super);\r\n    function SimpleComponentBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return SimpleComponentBase;\r\n}(RX.Component));\r\nexports.SimpleComponentBase = SimpleComponentBase;\r\n\n\n/***/ }),\n\n/***/ 196:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar styles_1 = __webpack_require__(23);\r\nvar store_component_base_1 = __webpack_require__(41);\r\nvar search_1 = __webpack_require__(193);\r\nvar clear_1 = __webpack_require__(188);\r\nvar feedbackButton_1 = __webpack_require__(202);\r\nvar page_names_1 = __webpack_require__(199);\r\nvar page_selector_1 = __webpack_require__(100);\r\nexports.TabBar = function (props) {\r\n    return (RX.createElement(RX.View, { style: [styles_1.styles.tabBar] }, page_names_1.PageTabList.map(function (x) { return (RX.createElement(PageTab, { name: x, store: props.store })); })));\r\n};\r\nvar PageTab = function (props) { return store_component_base_1.storeComp(function () { return ({\r\n    active: props.store.getPage()\r\n}); }, function (state) {\r\n    // Cache Action in Store    \r\n    var s = props.store.uiActions;\r\n    var n = 'PageTab_onPress_' + props.name;\r\n    var onPress = s[n] = s[n] || (function () { return props.store.gotoPage(props.name); });\r\n    // Creates an arrow function every render\r\n    // const onPress = () => props.store.gotoPage(props.name);\r\n    var active = state.active;\r\n    var buttonStyle = props.name === active ? styles_1.styles.tab_button_active : styles_1.styles.tab_button;\r\n    var textStyle = props.name === active ? styles_1.styles.tab_text_active : styles_1.styles.tab_text;\r\n    var iconStyle = props.name === active ? styles_1.styles.tabIcon_active : styles_1.styles.tabIcon;\r\n    var icon = (RX.createElement(page_selector_1.PageIcon, { pageName: props.name, iconStyle: iconStyle }));\r\n    return (RX.createElement(RX.Button, { style: buttonStyle, onPress: onPress },\r\n        RX.createElement(RX.View, { style: styles_1.styles.center_content }, icon),\r\n        RX.createElement(RX.Text, { style: textStyle }, props.title || props.name)));\r\n}); };\r\nexports.Loader = function (props) { return store_component_base_1.storeComp(function () { return ({\r\n    isLoading: props.store.getIsLoading(),\r\n}); }, function (state) {\r\n    // console.log('Loader.render', state.isLoading);\r\n    return state.isLoading && (RX.createElement(RX.View, { style: styles_1.styles.loader },\r\n        RX.createElement(RX.ActivityIndicator, { size: 'medium', color: styles_1.colors.loader })));\r\n}); };\r\nexports.MiniLoader = function (props) { return store_component_base_1.storeComp(function () { return ({\r\n    isLoading: props.store.getIsLoading(),\r\n    isWeb: RX.Platform.getType() === 'web'\r\n}); }, function (state) {\r\n    // console.log('Loader.render', state.isLoading);\r\n    return (RX.createElement(RX.View, { style: styles_1.styles.mini_loader }, state.isLoading && (state.isWeb ? (RX.createElement(RX.View, { style: styles_1.styles.mini_loader_container_web },\r\n        RX.createElement(RX.ActivityIndicator, { size: 'tiny', color: styles_1.colors.mini_loader_web, deferTime: 0 }))) : (RX.createElement(RX.ActivityIndicator, { size: 'tiny', color: styles_1.colors.mini_loader_native, deferTime: 0 })))));\r\n}); };\r\nexports.AppIconImage = function () { return (RX.createElement(RX.View, { style: styles_1.styles.headerBar_appIconImage_view },\r\n    RX.createElement(RX.Image, { style: styles_1.styles.headerBar_appIconImage, source: '/static/images/icon_24.png' }))); };\r\nexports.AppImage = function () { return (RX.createElement(RX.View, { style: styles_1.styles.appImage_view },\r\n    RX.createElement(RX.Image, { style: styles_1.styles.appImage, source: '/static/images/icon_128.png' }))); };\r\nexports.HeaderBar = function (props) { return store_component_base_1.storeComp(function () { return ({\r\n    hasSearch: props.store.getSearch,\r\n    search: props.store.getSearch && props.store.getSearch(),\r\n}); }, function (state) {\r\n    var s = state.search;\r\n    var searchTimeoutId = null;\r\n    var setSearch = function (value) {\r\n        s = value;\r\n        clearTimeout(searchTimeoutId);\r\n        searchTimeoutId = setTimeout(onDone, 1000);\r\n    };\r\n    var clearSearch = function () {\r\n        clearTimeout(searchTimeoutId);\r\n        props.store.setSearch('');\r\n    };\r\n    var onDone = function () {\r\n        clearTimeout(searchTimeoutId);\r\n        props.store.setSearch(s);\r\n    };\r\n    return (RX.createElement(RX.View, { style: styles_1.styles.headerBar },\r\n        RX.createElement(exports.AppIconImage, null),\r\n        RX.createElement(exports.MiniLoader, { store: props.store }),\r\n        state.hasSearch ? (RX.createElement(RX.View, { style: styles_1.styles.searchBox_view },\r\n            RX.createElement(search_1.SearchIcon, { style: styles_1.styles.searchIcon }),\r\n            RX.createElement(SearchTextBox, { value: state.search, setValue: setSearch, onDone: onDone }),\r\n            RX.createElement(RX.Button, { onPress: clearSearch },\r\n                RX.createElement(clear_1.ClearIcon, { style: styles_1.styles.searchIcon })))) : (RX.createElement(RX.View, { style: styles_1.styles.flex1 })),\r\n        RX.createElement(RX.View, { style: styles_1.styles.headerButtons },\r\n            RX.createElement(feedbackButton_1.FeedbackButton, null))));\r\n}); };\r\nvar SearchTextBox = function (props) { return (RX.createElement(RX.TextInput, { style: styles_1.styles.searchBox_text, value: props.value, onChangeText: props.setValue, onSubmitEditing: props.onDone, onBlur: props.onDone, placeholder: 'Search', placeholderTextColor: styles_1.styles.searchBox_text_placeholder_color })); };\r\n\n\n/***/ }),\n\n/***/ 197:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar store_component_base_1 = __webpack_require__(41);\r\nvar RX = __webpack_require__(3);\r\nvar page_selector_1 = __webpack_require__(100);\r\nexports.Root = function (props) { return store_component_base_1.storeComp(function () { return ({\r\n    page: props.store.getPage()\r\n}); }, function (state) { return (RX.createElement(page_selector_1.PageSelector, { store: props.store, pageName: state.page })); }); };\r\n\n\n/***/ }),\n\n/***/ 198:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar store_component_base_1 = __webpack_require__(41);\r\nvar page_layout_1 = __webpack_require__(42);\r\nvar styles_1 = __webpack_require__(23);\r\nvar passage_1 = __webpack_require__(185);\r\nvar passage_chooser_1 = __webpack_require__(428);\r\nexports.InteractPage = function (props) { return (RX.createElement(page_layout_1.PageLayout, { store: props.store, postsStore: props.store.bibleStore },\r\n    RX.createElement(RX.View, { style: styles_1.styles.page },\r\n        RX.createElement(exports.InteractView, { store: props.store })))); };\r\nexports.InteractView = function (props) { return store_component_base_1.storeComp(function () { return ({\r\n    passage: props.store.bibleStore.getPassage(),\r\n}); }, function (state) {\r\n    // console.log('InteractView  RENDER', { state, passage: state.passage, active: state.passage.activeParts });\r\n    return (RX.createElement(RX.View, null,\r\n        RX.createElement(passage_chooser_1.PassageChooser, { bibleStore: props.store.bibleStore }),\r\n        RX.createElement(passage_1.PassageViewer, { passage: state.passage, onPartDone: props.store.bibleStore.completePart })));\r\n}); };\r\n// TODO: Debug not refreshing UI (but state is changing) \r\n\n\n/***/ }),\n\n/***/ 199:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PageTabList = [\r\n    // 'Newsfeed',\r\n    // 'Read',\r\n    'Interact',\r\n    'Settings',\r\n];\r\n\n\n/***/ }),\n\n/***/ 200:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar styles_1 = __webpack_require__(23);\r\nvar page_layout_1 = __webpack_require__(42);\r\nexports.ReadPage = function (props) { return (RX.createElement(page_layout_1.PageLayout, { store: props.store },\r\n    RX.createElement(RX.View, { style: styles_1.styles.page },\r\n        RX.createElement(RX.Text, null, \"Read\")))); };\r\n\n\n/***/ }),\n\n/***/ 201:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar styles_1 = __webpack_require__(23);\r\nvar facebook_login_1 = __webpack_require__(98);\r\nvar store_component_base_1 = __webpack_require__(41);\r\nvar page_layout_1 = __webpack_require__(42);\r\nexports.SettingsPage = function (props) { return store_component_base_1.storeComp(function () { return ({\r\n    loginError: props.store.account.getError(),\r\n    isLoggedIn: props.store.account.getIsFacebookLoggedIn(),\r\n    accountMessage: \"accessToken = '\" + ((props.store.account.getFacebookAccessToken() || '').substr(0, 10) + '...') + \"'\",\r\n    platform: RX.Platform.getType(),\r\n}); }, function (state) { return (RX.createElement(page_layout_1.PageLayout, { store: props.store },\r\n    RX.createElement(RX.View, { style: styles_1.styles.page },\r\n        !!state.loginError && RX.createElement(RX.Text, { style: styles_1.styles.warning_text }, state.loginError),\r\n        RX.createElement(RX.View, { style: styles_1.styles.heading },\r\n            RX.createElement(RX.Text, { style: styles_1.styles.heading_text }, \"Settings\")),\r\n        RX.createElement(RX.View, { style: styles_1.styles.postPanel },\r\n            RX.createElement(RX.View, { style: [styles_1.styles.fullRow, styles_1.styles.center_content] },\r\n                RX.createElement(RX.View, { style: styles_1.styles.flex1 },\r\n                    RX.createElement(RX.Text, null, \"Facebook: \")),\r\n                RX.createElement(facebook_login_1.FacebookLogin, { onLoginFinished: props.store.account.onLoginFinished, onError: props.store.account.setLoginError }))),\r\n        RX.createElement(RX.View, { style: styles_1.styles.heading },\r\n            RX.createElement(RX.Text, { style: styles_1.styles.heading_text }, \"Other Pages\")),\r\n        RX.createElement(RX.View, { style: styles_1.styles.heading },\r\n            RX.createElement(RX.Text, { style: styles_1.styles.heading_text }, \"Debug\")),\r\n        RX.createElement(RX.View, { style: styles_1.styles.postPanel },\r\n            RX.createElement(RX.View, { style: styles_1.styles.center_content },\r\n                RX.createElement(RX.Text, null, state.accountMessage),\r\n                RX.createElement(RX.Text, null,\r\n                    \"Platform: '\",\r\n                    state.platform,\r\n                    \"'\")))))); }); };\r\nvar PageLink = function (props) { return (RX.createElement(RX.View, { style: styles_1.styles.postPanel },\r\n    RX.createElement(RX.View, { style: [styles_1.styles.fullRow, styles_1.styles.center_content] },\r\n        RX.createElement(RX.View, { style: styles_1.styles.flex1 },\r\n            RX.createElement(RX.Text, null, props.title)),\r\n        RX.createElement(RX.Button, { style: styles_1.styles.action_button, onPress: function () { return props.store.gotoPage(props.pageName); } },\r\n            RX.createElement(RX.Text, { style: styles_1.styles.action_button_text },\r\n                \"Open \",\r\n                props.title))))); };\r\n\n\n/***/ }),\n\n/***/ 202:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar styles_1 = __webpack_require__(23);\r\nvar feedback_1 = __webpack_require__(190);\r\nvar formLinkUrl = 'https://goo.gl/forms/FORM_URL?';\r\nvar style = __assign({}, styles_1.styles.postIcon_action, { fillColor: styles_1.colors.actionIcons.e_yellow });\r\nvar feedbackOnPress = function () {\r\n    RX.Linking.openUrl(formLinkUrl);\r\n};\r\nexports.FeedbackButton = function () { return (RX.createElement(RX.Button, { onPress: feedbackOnPress },\r\n    RX.createElement(feedback_1.FeedbackIcon, { style: style }))); };\r\n\n\n/***/ }),\n\n/***/ 203:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar XP = __webpack_require__(3);\r\nvar StorageClass = (function () {\r\n    function StorageClass() {\r\n        var _this = this;\r\n        this.hasItem = function (key) { return __awaiter(_this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, XP.Storage.getItem(key)];\r\n                    case 1: return [2 /*return*/, (_a.sent()) != null];\r\n                }\r\n            });\r\n        }); };\r\n        console.log('Using StorageClass (native)');\r\n    }\r\n    StorageClass.prototype.getItem = function (key) {\r\n        return XP.Storage.getItem(key);\r\n    };\r\n    StorageClass.prototype.getItem_noMemCache = function (key) {\r\n        return XP.Storage.getItem(key);\r\n    };\r\n    StorageClass.prototype.setItem = function (key, value) {\r\n        return XP.Storage.setItem(key, value);\r\n    };\r\n    StorageClass.prototype.setItem_noMemCache = function (key, value) {\r\n        return XP.Storage.setItem(key, value);\r\n    };\r\n    return StorageClass;\r\n}());\r\nexports.Storage = new StorageClass();\r\n\n\n/***/ }),\n\n/***/ 204:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar XP = __webpack_require__(3);\r\nvar storage_native_1 = __webpack_require__(203);\r\nvar StorageClass = (function () {\r\n    function StorageClass() {\r\n        this._supportsLocalStorage = undefined;\r\n        this._memCache = {};\r\n        console.log('Using StorageClass (web-memStorage/localStorage)');\r\n    }\r\n    Object.defineProperty(StorageClass.prototype, \"supportsLocalStorage\", {\r\n        get: function () {\r\n            return this._supportsLocalStorage !== undefined ? this._supportsLocalStorage\r\n                : this._supportsLocalStorage = testLocalStorage();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    StorageClass.prototype.getItem = function (key) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a, _b;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        if (!(this._memCache[key] === undefined)) return [3 /*break*/, 2];\r\n                        _a = this._memCache;\r\n                        _b = key;\r\n                        return [4 /*yield*/, this.getItem_noMemCache(key)];\r\n                    case 1:\r\n                        _a[_b] = _c.sent();\r\n                        _c.label = 2;\r\n                    case 2: return [2 /*return*/, this._memCache[key]];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    StorageClass.prototype.getItem_noMemCache = function (key) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                // console.log('getItem_noMemCache', { key });\r\n                if (this.supportsLocalStorage) {\r\n                    return [2 /*return*/, localStorage.getItem(key)];\r\n                }\r\n                else {\r\n                    return [2 /*return*/, null];\r\n                }\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    StorageClass.prototype.setItem = function (key, value) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                this._memCache[key] = value;\r\n                this.setItem_noMemCache(key, value);\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    StorageClass.prototype.setItem_noMemCache = function (key, value) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                // console.log('setItem_noMemCache', { key, value });\r\n                if (this.supportsLocalStorage) {\r\n                    return [2 /*return*/, localStorage.setItem(key, value)];\r\n                }\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    StorageClass.prototype.hasItem = function (key) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, this.getItem(key) !== undefined];\r\n            });\r\n        });\r\n    };\r\n    return StorageClass;\r\n}());\r\nfunction testLocalStorage() {\r\n    try {\r\n        if (typeof localStorage === undefined) {\r\n            return false;\r\n        }\r\n        var key = '___test' + Math.random();\r\n        var value = 'Test Value';\r\n        localStorage[key] = value;\r\n        var isOk = localStorage[key] === value;\r\n        localStorage.removeItem(key);\r\n        return isOk;\r\n    }\r\n    catch (err) {\r\n        return false;\r\n    }\r\n}\r\nexports.Storage = XP.Platform.getType() === 'web' ? new StorageClass()\r\n    : storage_native_1.Storage;\r\n\n\n/***/ }),\n\n/***/ 205:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nfunction handleRoute() {\r\n    if (RX.Platform.getType() !== 'web') {\r\n        return;\r\n    }\r\n    var query = location.search;\r\n    var m = query.match(/\\Wpath=([^&]+)(?:&|$)/);\r\n    var qPath = m && m[1];\r\n    var path = qPath || location.pathname;\r\n    console.log('handleRoute', { path: path });\r\n    var parts = path.replace(/^\\//, '').split('/');\r\n    var page = (parts[0] || '').toLowerCase();\r\n    // if (page === 'custom') {\r\n    //     const id = parts[1];\r\n    //     if (id) {\r\n    //         Store.route_openCustomPage(id);\r\n    //         return;\r\n    //     }\r\n    // }\r\n}\r\nexports.handleRoute = handleRoute;\r\n\n\n/***/ }),\n\n/***/ 206:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// https://toldreactbible.blob.core.windows.net/bibles/WEB/WEB_01_Gen_001.json\r\nfunction downloadBibleMetadata(versionKey) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var url, result, obj;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    url = \"https://toldreactbible.blob.core.windows.net/bibles/\" + versionKey + \"/\" + versionKey + \"__bible.meta.json\";\r\n                    return [4 /*yield*/, fetch(url)];\r\n                case 1:\r\n                    result = _a.sent();\r\n                    return [4 /*yield*/, result.json()];\r\n                case 2:\r\n                    obj = _a.sent();\r\n                    console.log('downloadBibleMetadata', { data: obj.data, obj: obj, result: result });\r\n                    return [2 /*return*/, obj.data];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.downloadBibleMetadata = downloadBibleMetadata;\r\n// https://toldreactbible.blob.core.windows.net/bibles/WEB/WEB_01_Gen_001.json\r\nfunction downloadBibleChapterData(versionKey, bookNumber, bookKey, chapterNumber) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var bookNumberPad2, chapterNumberPad3, url, result, obj;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    bookNumberPad2 = ('00' + bookNumber).substr(-2);\r\n                    chapterNumberPad3 = ('000' + chapterNumber).substr(-3);\r\n                    url = \"https://toldreactbible.blob.core.windows.net/bibles/\" + versionKey + \"/\" + versionKey + \"_\" + bookNumberPad2 + \"_\" + bookKey + \"_\" + chapterNumberPad3 + \".json\";\r\n                    return [4 /*yield*/, fetch(url)];\r\n                case 1:\r\n                    result = _a.sent();\r\n                    return [4 /*yield*/, result.json()];\r\n                case 2:\r\n                    obj = _a.sent();\r\n                    return [2 /*return*/, obj.data];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.downloadBibleChapterData = downloadBibleChapterData;\r\n\n\n/***/ }),\n\n/***/ 207:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.facebookAppId = '12345'; // localhost:3100\r\n\n\n/***/ }),\n\n/***/ 208:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(__webpack_require__(207));\r\n// export * from './settings.prod'; \r\n\n\n/***/ }),\n\n/***/ 209:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar resub_1 = __webpack_require__(62);\r\nvar facebook_login_1 = __webpack_require__(98);\r\nvar AccountStoreClass = (function (_super) {\r\n    __extends(AccountStoreClass, _super);\r\n    function AccountStoreClass() {\r\n        var _this = _super.call(this) || this;\r\n        // @autoDeviceStorage(false, 'AccountStore')\r\n        _this._isFacebookLoggedIn = false;\r\n        _this._error = null;\r\n        _this.setLoginError = function (message, data) {\r\n            try {\r\n                _this._error = message + ': ' + JSON.stringify(data);\r\n            }\r\n            catch (err) {\r\n                _this._error = message + ': ' + data;\r\n            }\r\n            // Erase the access token on error?\r\n            _this._accessToken = null;\r\n            _this._isFacebookLoggedIn = false;\r\n            _this.trigger();\r\n            console.error(message, data);\r\n        };\r\n        _this.load = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var err_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4 /*yield*/, this.getFacebookAccessToken_async()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this._isFacebookLoggedIn = this._accessToken != null;\r\n                        this.trigger();\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        err_1 = _a.sent();\r\n                        // this._accessToken = null;\r\n                        // this._isFacebookLoggedIn = false;\r\n                        // this.trigger();\r\n                        console.log('Facebook did not return an access token on load', err_1);\r\n                        return [3 /*break*/, 3];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        _this.getFacebookAccessToken_async = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var accessToken;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, facebook_login_1.FacebookAccess.getCurrentAccessToken()];\r\n                    case 1:\r\n                        accessToken = _a.sent();\r\n                        console.log('getFacebookAccessToken_async', { accessToken: accessToken });\r\n                        this._accessToken = accessToken;\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        _this.onLoginFinished = function (accessToken) {\r\n            console.log('onLoginFinished', { accessToken: accessToken });\r\n            _this._accessToken = accessToken;\r\n            _this._isFacebookLoggedIn = true;\r\n            _this.trigger();\r\n        };\r\n        return _this;\r\n        // setTimeout(this.load, 5);\r\n    }\r\n    AccountStoreClass.prototype.getError = function () {\r\n        return this._error;\r\n    };\r\n    AccountStoreClass.prototype.getIsFacebookLoggedIn = function () {\r\n        return this._isFacebookLoggedIn;\r\n    };\r\n    AccountStoreClass.prototype.getFacebookAccessToken = function () {\r\n        console.log('getFacebookAccessToken', { accessToken: this._accessToken });\r\n        return this._accessToken;\r\n    };\r\n    return AccountStoreClass;\r\n}(resub_1.StoreBase));\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], AccountStoreClass.prototype, \"getError\", null);\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], AccountStoreClass.prototype, \"getIsFacebookLoggedIn\", null);\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], AccountStoreClass.prototype, \"getFacebookAccessToken\", null);\r\nAccountStoreClass = __decorate([\r\n    resub_1.AutoSubscribeStore\r\n], AccountStoreClass);\r\nexports.AccountStoreClass = AccountStoreClass;\r\nexports.AccountStore = new AccountStoreClass();\r\n\n\n/***/ }),\n\n/***/ 210:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar resub_1 = __webpack_require__(62);\r\nvar autoDeviceStorage_1 = __webpack_require__(101);\r\nvar passage_parts_generator_1 = __webpack_require__(184);\r\nvar bible_data_1 = __webpack_require__(206);\r\nvar helpers_1 = __webpack_require__(211);\r\nvar BibleStoreClass = (function (_super) {\r\n    __extends(BibleStoreClass, _super);\r\n    function BibleStoreClass() {\r\n        var _this = _super.call(this) || this;\r\n        _this._isLoading = false;\r\n        _this.ensureLoad = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var val;\r\n            return __generator(this, function (_a) {\r\n                val = null;\r\n                val = this._selectedBookKey;\r\n                val = this._selectedChapterNumber;\r\n                val = this._selectedVerseNumber;\r\n                return [2 /*return*/];\r\n            });\r\n        }); };\r\n        _this.startLoading = function () {\r\n            _this._isLoading = true;\r\n            _this.trigger();\r\n        };\r\n        _this.endLoading = function () {\r\n            _this._isLoading = false;\r\n            _this.trigger();\r\n        };\r\n        _this.getPassageMetadata_async = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!!this._bibleMetadata) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.downloadMetadata()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/, this.getPassageMetadata_inner()];\r\n                }\r\n            });\r\n        }); };\r\n        _this.selectBook = function (bookKey) {\r\n            _this._selectedBookKey = bookKey;\r\n            _this._selectedChapterNumber = null;\r\n            _this._selectedVerseNumber = null;\r\n            _this.reloadPassage();\r\n        };\r\n        _this.selectChapter = function (chapterNumber) {\r\n            _this._selectedChapterNumber = 1 * chapterNumber;\r\n            _this._selectedVerseNumber = null;\r\n            _this.reloadPassage();\r\n        };\r\n        _this.selectVerse = function (verseNumber) {\r\n            _this._selectedVerseNumber = 1 * verseNumber;\r\n            _this.reloadPassage();\r\n        };\r\n        _this.reloadPassage = function () {\r\n            setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this.startLoading();\r\n                            return [4 /*yield*/, this.generatePassage()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            console.log('getPassage ASYNC TRIGGERING', { _passage: this._passage });\r\n                            this.endLoading();\r\n                            console.log('getPassage ASYNC END', { _passage: this._passage });\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n        };\r\n        _this.completePart = function (part) { return __awaiter(_this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        console.log('completePart', { part: part, _passage: this._passage });\r\n                        part._isDone = true;\r\n                        if (!this._passage.activeParts.every(function (x) { return x._isDone || x.kind !== 'choice'; })) return [3 /*break*/, 2];\r\n                        console.log('completePart ActiveParts DONE', { part: part, _passage: this._passage });\r\n                        this.startLoading();\r\n                        return [4 /*yield*/, this.gotoAndGenerateNextPassage()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.endLoading();\r\n                        console.log('completePart TRIGGER', { part: part, _passage: this._passage });\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        console.log('completePart END', { part: part, _passage: this._passage });\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        _this._passageGenerator = new passage_parts_generator_1.PassagePartsGenerator();\r\n        _this.generatePassage = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var _a, _b, _c, _d, _e, _f, _g, _h;\r\n            return __generator(this, function (_j) {\r\n                switch (_j.label) {\r\n                    case 0:\r\n                        console.log('generatePassage START', { _passage: this._passage });\r\n                        if (!!this._bibleMetadata) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.downloadMetadata()];\r\n                    case 1:\r\n                        _j.sent();\r\n                        _j.label = 2;\r\n                    case 2:\r\n                        this._selectedBookKey = this._selectedBookKey || this._bibleMetadata.books[0].bookID;\r\n                        this._selectedChapterNumber = this._selectedChapterNumber || 1;\r\n                        this._selectedVerseNumber = this._selectedVerseNumber || 1;\r\n                        _a = this;\r\n                        _b = {};\r\n                        _d = (_c = this._passageGenerator).createParts;\r\n                        return [4 /*yield*/, this.getVerseDataAtOffset(-1)];\r\n                    case 3:\r\n                        _b.previousParts = _d.apply(_c, [_j.sent(), false]);\r\n                        _f = (_e = this._passageGenerator).createParts;\r\n                        return [4 /*yield*/, this.getVerseDataAtOffset(0)];\r\n                    case 4:\r\n                        _b.activeParts = _f.apply(_e, [_j.sent(), true]);\r\n                        _h = (_g = this._passageGenerator).createParts;\r\n                        return [4 /*yield*/, this.getVerseDataAtOffset(1)];\r\n                    case 5:\r\n                        _a._passage = (_b.nextParts = _h.apply(_g, [_j.sent(), true]),\r\n                            _b);\r\n                        console.log('generatePassage END', { _passage: this._passage });\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        _this.gotoAndGenerateNextPassage = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var _a, _b, _c, _d;\r\n            return __generator(this, function (_e) {\r\n                switch (_e.label) {\r\n                    case 0:\r\n                        console.log('gotoAndGenerateNextPassage START', { _passage: this._passage });\r\n                        return [4 /*yield*/, this.gotoNextVerseReference()];\r\n                    case 1:\r\n                        _e.sent();\r\n                        _a = this;\r\n                        _b = {\r\n                            //previousParts: [...this._passage.previousParts, ...this._passage.activeParts.map(x => { x._key += 'done'; return x; })],\r\n                            previousParts: this._passage.previousParts.concat(this._passage.activeParts),\r\n                            activeParts: this._passage.nextParts.slice()\r\n                        };\r\n                        _d = (_c = this._passageGenerator).createParts;\r\n                        return [4 /*yield*/, this.getVerseDataAtOffset(1)];\r\n                    case 2:\r\n                        _a._passage = (_b.nextParts = _d.apply(_c, [_e.sent(), true]),\r\n                            _b);\r\n                        console.log('gotoAndGenerateNextPassage END', { _passage: this._passage });\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        _this.gotoNextVerseReference = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var m;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.getPassageMetadata_async()];\r\n                    case 1:\r\n                        m = _a.sent();\r\n                        if (m.verseIndex + 1 <= m.verseCount) {\r\n                            this._selectedVerseNumber++;\r\n                            return [2 /*return*/];\r\n                        }\r\n                        if (m.chapterIndex < m.chapterCount) {\r\n                            this._selectedVerseNumber = 1;\r\n                            this._selectedChapterNumber++;\r\n                            return [2 /*return*/];\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        _this.getVerseDataAtOffset = function (verseOffset) { return __awaiter(_this, void 0, void 0, function () {\r\n            var m, vCount;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.getPassageMetadata_async()];\r\n                    case 1:\r\n                        m = _a.sent();\r\n                        console.log('getVerseDataAtOffset START', { getPassageMetadata: m });\r\n                        if (!(verseOffset >= 0)) return [3 /*break*/, 6];\r\n                        if (!(m.verseIndex + verseOffset <= m.verseCount)) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, this.getVerseData(m.bookIndex, m.chapterIndex, m.verseIndex + verseOffset)];\r\n                    case 2: return [2 /*return*/, _a.sent()];\r\n                    case 3:\r\n                        if (!(m.chapterIndex < m.chapterCount)) return [3 /*break*/, 5];\r\n                        return [4 /*yield*/, this.getVerseData(m.bookIndex, m.chapterIndex + 1, 0)];\r\n                    case 4: return [2 /*return*/, _a.sent()];\r\n                    case 5:\r\n                        console.warn('getVerseDataAtOffset: Past end of book');\r\n                        return [2 /*return*/, null];\r\n                    case 6:\r\n                        if (!(m.verseIndex + verseOffset >= 0)) return [3 /*break*/, 8];\r\n                        return [4 /*yield*/, this.getVerseData(m.bookIndex, m.chapterIndex, m.verseIndex + verseOffset)];\r\n                    case 7: return [2 /*return*/, _a.sent()];\r\n                    case 8:\r\n                        if (!(m.chapterIndex > 0)) return [3 /*break*/, 10];\r\n                        vCount = this._bibleMetadata.books[m.bookIndex].chapters[m.chapterIndex - 1].verseCount;\r\n                        return [4 /*yield*/, this.getVerseData(m.bookIndex, m.chapterIndex - 1, vCount - 1)];\r\n                    case 9: return [2 /*return*/, _a.sent()];\r\n                    case 10:\r\n                        console.warn('getVerseDataAtOffset: Past beginning of book');\r\n                        return [2 /*return*/, null];\r\n                }\r\n            });\r\n        }); };\r\n        _this.getVerseData = function (bookIndex, chapterIndex, verseIndex) { return __awaiter(_this, void 0, void 0, function () {\r\n            var m, _a, _b;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        if (!!this._bibleMetadata) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.downloadMetadata()];\r\n                    case 1:\r\n                        _c.sent();\r\n                        _c.label = 2;\r\n                    case 2:\r\n                        m = this._bibleMetadata;\r\n                        console.log('getVerseData START', { _bibleData: this._bibleData, _bibleMetadata: this._bibleMetadata });\r\n                        this._bibleData = this._bibleData || { books: [] };\r\n                        this._bibleData.books[bookIndex] = this._bibleData.books[bookIndex] || { chapters: [], hasChapterDownloadStarted: [] };\r\n                        if (!this._bibleData.books[bookIndex].hasChapterDownloadStarted[chapterIndex]) return [3 /*break*/, 5];\r\n                        _c.label = 3;\r\n                    case 3:\r\n                        if (!!this._bibleData.books[bookIndex].chapters[chapterIndex]) return [3 /*break*/, 5];\r\n                        return [4 /*yield*/, helpers_1.delay(500)];\r\n                    case 4:\r\n                        _c.sent();\r\n                        return [3 /*break*/, 3];\r\n                    case 5:\r\n                        if (!!this._bibleData.books[bookIndex].chapters[chapterIndex]) return [3 /*break*/, 7];\r\n                        this._bibleData.books[bookIndex].hasChapterDownloadStarted[chapterIndex] = true;\r\n                        _a = this._bibleData.books[bookIndex].chapters;\r\n                        _b = chapterIndex;\r\n                        return [4 /*yield*/, bible_data_1.downloadBibleChapterData('WEB', bookIndex + 1, m.books[bookIndex].bookID, chapterIndex + 1)];\r\n                    case 6:\r\n                        _a[_b] =\r\n                            _c.sent();\r\n                        _c.label = 7;\r\n                    case 7:\r\n                        console.log('getVerseData END', { _bibleData: this._bibleData, _bibleMetadata: this._bibleMetadata });\r\n                        return [2 /*return*/, this._bibleData.books[bookIndex].chapters[chapterIndex].verses[verseIndex]];\r\n                }\r\n            });\r\n        }); };\r\n        _this._downloadMetadata_busy = false;\r\n        _this.downloadMetadata = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        console.log('downloadMetadata START', { _bibleMetadata: this._bibleMetadata, _downloadMetadata_busy: this._downloadMetadata_busy });\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        if (!(!this._bibleMetadata && this._downloadMetadata_busy)) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, helpers_1.delay(500)];\r\n                    case 2:\r\n                        _b.sent();\r\n                        console.log('downloadMetadata DELAY', { _bibleMetadata: this._bibleMetadata, _downloadMetadata_busy: this._downloadMetadata_busy });\r\n                        return [3 /*break*/, 1];\r\n                    case 3:\r\n                        console.log('downloadMetadata CONTINUE', { _bibleMetadata: this._bibleMetadata, _downloadMetadata_busy: this._downloadMetadata_busy });\r\n                        this._downloadMetadata_busy = true;\r\n                        if (!!this._bibleMetadata) return [3 /*break*/, 5];\r\n                        _a = this;\r\n                        return [4 /*yield*/, bible_data_1.downloadBibleMetadata('WEB')];\r\n                    case 4:\r\n                        _a._bibleMetadata = _b.sent();\r\n                        this._downloadMetadata_busy = false;\r\n                        _b.label = 5;\r\n                    case 5:\r\n                        console.log('downloadMetadata END', { _bibleMetadata: this._bibleMetadata, _downloadMetadata_busy: this._downloadMetadata_busy });\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        setTimeout(function () {\r\n            _this.ensureLoad();\r\n        });\r\n        return _this;\r\n    }\r\n    BibleStoreClass.prototype.getIsLoading = function () {\r\n        return this._isLoading;\r\n    };\r\n    BibleStoreClass.prototype.getPassageMetadata = function () {\r\n        var _this = this;\r\n        if (!this._bibleMetadata) {\r\n            setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this.startLoading();\r\n                            return [4 /*yield*/, this.getPassageMetadata_async()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.endLoading();\r\n                            console.log('getPassageMetadata ASYNC END TRIGGER');\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n        }\r\n        return this.getPassageMetadata_inner();\r\n    };\r\n    BibleStoreClass.prototype.getPassageMetadata_inner = function () {\r\n        var _this = this;\r\n        var bookMetadata = this._bibleMetadata && this._selectedBookKey && this._bibleMetadata.books.filter(function (x) { return x.bookID === _this._selectedBookKey; })[0];\r\n        var chapterMetadata = bookMetadata && this._selectedChapterNumber && bookMetadata.chapters[this._selectedChapterNumber - 1];\r\n        return {\r\n            bookKey: this._selectedBookKey,\r\n            chapterNumber: this._selectedChapterNumber,\r\n            verseNumber: this._selectedVerseNumber,\r\n            bookIndex: bookMetadata && bookMetadata.bookIndex || 0,\r\n            chapterIndex: (this._selectedChapterNumber || 1) - 1,\r\n            verseIndex: (this._selectedVerseNumber || 1) - 1,\r\n            books: this._bibleMetadata && this._bibleMetadata.books,\r\n            bookName: bookMetadata && bookMetadata.bookName,\r\n            chapterCount: bookMetadata && bookMetadata.chapterCount,\r\n            verseCount: chapterMetadata && chapterMetadata.verseCount,\r\n        };\r\n    };\r\n    BibleStoreClass.prototype.getPassage = function () {\r\n        console.log('getPassage START', { _passage: this._passage });\r\n        if (!this._passage) {\r\n            this._passage = {\r\n                previousParts: [],\r\n                activeParts: [],\r\n                nextParts: [],\r\n            };\r\n            this.reloadPassage();\r\n        }\r\n        console.log('getPassage END', { _passage: this._passage });\r\n        return this._passage;\r\n    };\r\n    return BibleStoreClass;\r\n}(resub_1.StoreBase));\r\n__decorate([\r\n    autoDeviceStorage_1.autoDeviceStorage(null, 'Bible')\r\n], BibleStoreClass.prototype, \"_selectedBookKey\", void 0);\r\n__decorate([\r\n    autoDeviceStorage_1.autoDeviceStorage(null, 'Bible')\r\n], BibleStoreClass.prototype, \"_selectedChapterNumber\", void 0);\r\n__decorate([\r\n    autoDeviceStorage_1.autoDeviceStorage(null, 'Bible')\r\n], BibleStoreClass.prototype, \"_selectedVerseNumber\", void 0);\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], BibleStoreClass.prototype, \"getIsLoading\", null);\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], BibleStoreClass.prototype, \"getPassageMetadata\", null);\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], BibleStoreClass.prototype, \"getPassage\", null);\r\nBibleStoreClass = __decorate([\r\n    resub_1.AutoSubscribeStore\r\n], BibleStoreClass);\r\nexports.BibleStoreClass = BibleStoreClass;\r\nexports.BibleStore = new BibleStoreClass();\r\n\n\n/***/ }),\n\n/***/ 211:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction isMatch(search, item) {\r\n    if (!search) {\r\n        return true;\r\n    }\r\n    search = search.toLowerCase();\r\n    for (var k in item) {\r\n        var v = item[k];\r\n        var s = (v + '').toLowerCase();\r\n        if (s.indexOf(search) >= 0) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nexports.isMatch = isMatch;\r\nfunction delay(time) {\r\n    if (time === void 0) { time = 0; }\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            return [2 /*return*/, new Promise(function (resolve) {\r\n                    setTimeout(resolve, time);\r\n                })];\r\n        });\r\n    });\r\n}\r\nexports.delay = delay;\r\nfunction injectAds(items, adItems) {\r\n    var merged = items.slice();\r\n    var bItems = adItems.map(function (x) { return ({ x: x, order: Math.random() }); }).sort(function (a, b) { return a.order - b.order; }).map(function (x) { return x.x; });\r\n    var itemsPerBusiness = 7 + Math.floor(Math.random() * 3);\r\n    var iFirstBusiness = 2 + Math.floor(Math.random() * 5);\r\n    var bIndex = 0;\r\n    for (var i = iFirstBusiness; i < merged.length; i += itemsPerBusiness + 1) {\r\n        if (bIndex >= bItems.length) {\r\n            break;\r\n        }\r\n        merged.splice(i, 0, bItems[bIndex++]);\r\n    }\r\n    merged.push.apply(merged, bItems.slice(bIndex));\r\n    return merged;\r\n}\r\nexports.injectAds = injectAds;\r\n\n\n/***/ }),\n\n/***/ 212:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar resub_1 = __webpack_require__(62);\r\nvar autoDeviceStorage_1 = __webpack_require__(101);\r\nvar helpers_1 = __webpack_require__(211);\r\nvar account_store_1 = __webpack_require__(209);\r\nvar bible_store_1 = __webpack_require__(210);\r\nvar StoreClass = (function (_super) {\r\n    __extends(StoreClass, _super);\r\n    function StoreClass() {\r\n        var _this = _super.call(this) || this;\r\n        // newsFeed = NewsFeedStore;\r\n        _this.account = account_store_1.AccountStore;\r\n        _this.bibleStore = bible_store_1.BibleStore;\r\n        _this.uiActions = [];\r\n        _this._isLoading = true;\r\n        _this._isLoadingChangeId = 0;\r\n        _this.load = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/];\r\n            });\r\n        }); };\r\n        _this.startLoading = function (fast) {\r\n            if (fast === void 0) { fast = false; }\r\n            return __awaiter(_this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (this._isLoading) {\r\n                                return [2 /*return*/];\r\n                            }\r\n                            this._isLoading = true;\r\n                            this._isLoadingChangeId++;\r\n                            if (!!fast) return [3 /*break*/, 2];\r\n                            this.trigger();\r\n                            return [4 /*yield*/, helpers_1.delay(10)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        _this.endLoading = function (fast) {\r\n            if (fast === void 0) { fast = false; }\r\n            return __awaiter(_this, void 0, void 0, function () {\r\n                var id;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            // this.refreshPage();\r\n                            if (!this._isLoading) {\r\n                                return [2 /*return*/];\r\n                            }\r\n                            id = this._isLoadingChangeId;\r\n                            if (!!fast) return [3 /*break*/, 2];\r\n                            return [4 /*yield*/, helpers_1.delay(10)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            if (!this._isLoading) {\r\n                                return [2 /*return*/];\r\n                            }\r\n                            if (id !== this._isLoadingChangeId) {\r\n                                return [2 /*return*/];\r\n                            }\r\n                            this._isLoading = false;\r\n                            this._isLoadingChangeId++;\r\n                            this.trigger();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        _this.gotoPage = function (page) { return __awaiter(_this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        // console.log('gotoPage', { page });\r\n                        this.startLoading(true);\r\n                        // await this.startLoading(true);\r\n                        this._page = 'Empty';\r\n                        this.trigger();\r\n                        return [4 /*yield*/, helpers_1.delay(10)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this._page = page;\r\n                        this.endLoading();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        setTimeout(_this.load, 250);\r\n        return _this;\r\n    }\r\n    StoreClass.prototype.getIsLoading = function () {\r\n        return this._isLoading;\r\n    };\r\n    StoreClass.prototype.getPage = function () {\r\n        return this._page;\r\n    };\r\n    return StoreClass;\r\n}(resub_1.StoreBase));\r\n__decorate([\r\n    autoDeviceStorage_1.autoDeviceStorage('Empty')\r\n], StoreClass.prototype, \"_page\", void 0);\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], StoreClass.prototype, \"getIsLoading\", null);\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], StoreClass.prototype, \"getPage\", null);\r\nStoreClass = __decorate([\r\n    resub_1.AutoSubscribeStore\r\n], StoreClass);\r\nexports.StoreClass = StoreClass;\r\n;\r\nexports.Store = new StoreClass();\r\n\n\n/***/ }),\n\n/***/ 213:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar app_1 = __webpack_require__(183);\r\nRX.App.initialize(true, true);\r\nRX.UserInterface.setMainView(RX.createElement(app_1.App, null));\r\n\n\n/***/ }),\n\n/***/ 23:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar icon_base_1 = __webpack_require__(18);\r\nvar pallette = {\r\n    primary_0: '#3D3783',\r\n    primary_1: '#7B76B6',\r\n    primary_2: '#57529B',\r\n    primary_3: '#29246E',\r\n    primary_4: '#141050',\r\n    secondary_1_0: '#993369',\r\n    secondary_1_1: '#D37DAA',\r\n    secondary_1_2: '#B65286',\r\n    secondary_1_3: '#801C51',\r\n    secondary_1_4: '#5E0634',\r\n    secondary_2_0: '#85AE3A',\r\n    secondary_2_1: '#CBEE8D',\r\n    secondary_2_2: '#A6CF5D',\r\n    secondary_2_3: '#699220',\r\n    secondary_2_4: '#476B07',\r\n    complement_0: '#BC9F3E',\r\n    complement_1: '#FFE797',\r\n    complement_2: '#DFC364',\r\n    complement_3: '#9D8122',\r\n    complement_4: '#735A08',\r\n};\r\n// const iconColors_sections = {\r\n//     a_purple: '#BC403D',\r\n//     b_red: '#852B77',\r\n//     c_orange: '#BC743D',\r\n//     d_orange_yellow: '#BC933D',\r\n//     e_yellow: '#BCB93D',\r\n//     f_yellow_green: '#88B039',\r\n//     g_green: '#419C33',\r\n//     h_teal: '#266F72',\r\n// };\r\nvar iconColors_sections = {\r\n    a_purple: '#880088',\r\n    b_red: '#880000',\r\n    c_orange: '#AA4400',\r\n    d_orange_yellow: '#AA6600',\r\n    e_yellow: '#AA8800',\r\n    f_yellow_green: '#668822',\r\n    g_green: '#008800',\r\n    h_teal: '#4466AA',\r\n};\r\nvar iconColors_actions = {\r\n    a_purple: '#CC00CC',\r\n    b_red: '#CC0000',\r\n    c_orange: '#FF6600',\r\n    d_orange_yellow: '#FF9900',\r\n    e_yellow: '#FFCC00',\r\n    f_yellow_green: '#99CC33',\r\n    g_green: '#00CC00',\r\n    h_teal: '#6699FF',\r\n};\r\nvar pageColors = {\r\n    back_heading_default: '#FFFFFF',\r\n    text_heading_default: pallette.secondary_1_0,\r\n    back_heading1: pallette.primary_4,\r\n    text_heading1: '#FFFFFF',\r\n    back_heading2: '#FFFFFF',\r\n    text_heading2: pallette.primary_0,\r\n    text_listItem: pallette.primary_0,\r\n};\r\nexports.colors = __assign({}, pageColors, { actionIcons: iconColors_actions, sectionIcons: iconColors_sections, \r\n    // BUG: Hex colors don't work\r\n    loader: pallette.primary_0, mini_loader_native: '#FFFFFF', mini_loader_web: pallette.primary_0, mini_loader_background: pallette.primary_1, icon_disabled: '#CCCCCC', text_main: pallette.primary_0, icon_main: pallette.complement_0, back_main: '#FFFFFF', text_modal: pallette.primary_2, back_modal: '#EEEEEE', text_title: pallette.primary_0, text_title_edit: pallette.primary_3, back_title_edit: pallette.secondary_2_1, text_button: '#FFFFFF', back_button_action: pallette.primary_2, back_button_warning: pallette.secondary_1_2, back_button_filter: pallette.secondary_2_2, back_button_nav: pallette.primary_3, text_warning: '#FFFFFF', back_warning: pallette.secondary_1_2, \r\n    // border_headerBar: pallette.primary_1,\r\n    // back_headerBar: '#EEEEEE',\r\n    // text_search: pallette.primary_2,\r\n    // back_search: '#FFFFFF',\r\n    border_headerBar: pallette.primary_1, back_headerBar: pallette.primary_0, text_search: pallette.primary_1, text_search_placeholder: pallette.primary_2, back_search: pallette.primary_4, border_tabBar: pallette.primary_1, back_tabBar: '#EEEEEE', text_tab: '#888888', text_tab_active: pallette.primary_4, back_page: '#EEEEEE', back_panel: '#FFFFFF', back_sponsored: '#F8F8F8', icon_post: pallette.primary_0, icon_post_action: pallette.secondary_2_0, text_post_title: pallette.primary_0, text_post_subTitle: pallette.primary_1, \r\n    // icon_post: pallette.secondary_1_0,\r\n    // text_post_title: pallette.secondary_1_0,\r\n    // text_post_subTitle: pallette.secondary_1_1,\r\n    // icon_post: pallette.secondary_2_0,\r\n    // text_post_title: pallette.secondary_2_0,\r\n    // text_post_subTitle: pallette.secondary_2_1,\r\n    text_post_content: '#000000', text_post_content_caption: '#555555', text_post_content_details: '#777777', text_post_info: '#888888', back_post_image: '#000000', border_post_content_section: pallette.secondary_2_1 });\r\nexports.pageSizes = {\r\n    padding_heading_default: 24,\r\n    font_heading_default: 20,\r\n    padding_heading1: 64,\r\n    font_heading1: 36,\r\n    padding_heading2: 36,\r\n    font_heading2: 28,\r\n    marginTop_paragraph: 8,\r\n    marginBottom_paragraph: 8,\r\n    margin_loneLink: 16,\r\n    paddingTop_loneLink: 8,\r\n    paddingBottom_loneLink: 8,\r\n    paddingLeft_loneLink: 24,\r\n    paddingRight_loneLink: 24,\r\n    paddingTop_listItem: 4,\r\n    paddingBottom_listItem: 4,\r\n    paddingLeft_listItem: 8,\r\n    paddingRight_listItem: 8,\r\n    icon_listItem: 12,\r\n};\r\nexports.sizes = __assign({}, exports.pageSizes, { \r\n    // Sizes\r\n    border_tabBar: 1, padding_button_tab: 4, icon_button_tab: 24, font_button_tab: 12, footer_height: 2 * (1 + 4) + 24 + (12 + 2), width_miniLoader: 24, height_appIconImage: 24, width_appIconImage: 24, marginLeft_appIconImage: 4, marginRight_appIconImage: 4, height_appImage: 128, width_appImage: 128, margin_search: 4, padding_search: 4, paddingLeft_search: 8, font_search: 16, icon_search: 16, radius_search: 8, padding_page: 8, marginBottom_panel: 8, padding_panel: 8, paddingLeft_heading: 16, font_heading: 24, padding_action_button: 8, icon_list: 24, icon_post: 36, paddingRight_postIcon: 8, padding_icon_post_action: 2, icon_post_section: 28, icon_post_content: 14, font_post_title: 18, font_post_subTitle: 14, font_post_content: 14, font_post_content_caption: 13, font_post_content_details: 12, font_post_info: 10, font_post_comment: 12, marginLeft_post_section: 8, marginBottom_post_section: 8, marginTop_post_section: 8, image_post_height: 200, font_button: 18, icon_button: 24, font_stats: 24, icon_stats: 28 });\r\n// Default Provider\r\nexports.pageStyles = {\r\n    headings: [\r\n        // Default (No Heading, Heading 3,4,5, etc.)\r\n        {\r\n            section: RX.Styles.createViewStyle({\r\n                padding: exports.sizes.padding_heading_default,\r\n                backgroundColor: pageColors.back_heading_default,\r\n            }),\r\n            view: RX.Styles.createViewStyle({}),\r\n            text: RX.Styles.createTextStyle({\r\n                fontSize: exports.sizes.font_heading_default,\r\n                color: pageColors.text_heading_default,\r\n                textAlign: 'left',\r\n                fontWeight: 'bold',\r\n            })\r\n        },\r\n        // Heading 1\r\n        {\r\n            section: RX.Styles.createViewStyle({\r\n                padding: exports.sizes.padding_heading1,\r\n                backgroundColor: pageColors.back_heading1,\r\n                alignItems: 'center',\r\n            }),\r\n            view: RX.Styles.createViewStyle({\r\n                maxWidth: 600,\r\n            }),\r\n            text: RX.Styles.createTextStyle({\r\n                fontSize: exports.sizes.font_heading1,\r\n                color: pageColors.text_heading1,\r\n                textAlign: 'center',\r\n                fontWeight: 'bold',\r\n            })\r\n        },\r\n        // Heading 2\r\n        {\r\n            section: RX.Styles.createViewStyle({\r\n                padding: exports.sizes.padding_heading2,\r\n                backgroundColor: pageColors.back_heading2,\r\n                alignItems: 'center',\r\n            }),\r\n            view: RX.Styles.createViewStyle({\r\n                maxWidth: 600,\r\n            }),\r\n            text: RX.Styles.createTextStyle({\r\n                fontSize: exports.sizes.font_heading2,\r\n                color: pageColors.text_heading2,\r\n                textAlign: 'center',\r\n                fontWeight: 'bold',\r\n            })\r\n        },\r\n    ],\r\n    paragraph: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        marginTop: exports.pageSizes.marginTop_paragraph,\r\n        marginBottom: exports.pageSizes.marginBottom_paragraph,\r\n    }),\r\n    text: RX.Styles.createTextStyle({\r\n        flex: -1,\r\n        color: exports.colors.text_main,\r\n    }),\r\n    inlineLink: RX.Styles.createButtonStyle({\r\n        backgroundColor: exports.colors.back_button_action,\r\n        paddingLeft: exports.sizes.padding_action_button,\r\n        paddingRight: exports.sizes.padding_action_button,\r\n    }),\r\n    inlineLink_text: RX.Styles.createTextStyle({\r\n        flex: -1,\r\n        color: exports.colors.text_button,\r\n        textDecorationLine: 'none',\r\n    }),\r\n    loneLink_view: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n    }),\r\n    loneLink_link: RX.Styles.createButtonStyle({\r\n        flex: 1,\r\n        margin: exports.pageSizes.margin_loneLink,\r\n        paddingTop: exports.pageSizes.paddingTop_loneLink,\r\n        paddingBottom: exports.pageSizes.paddingBottom_loneLink,\r\n        paddingLeft: exports.pageSizes.paddingLeft_loneLink,\r\n        paddingRight: exports.pageSizes.paddingRight_loneLink,\r\n        backgroundColor: exports.colors.back_button_action,\r\n    }),\r\n    loneLink_text: RX.Styles.createTextStyle({\r\n        flex: -1,\r\n        color: exports.colors.text_button,\r\n        textDecorationLine: 'none',\r\n        textAlign: 'center',\r\n        fontSize: exports.sizes.font_button,\r\n    }),\r\n    list: RX.Styles.createViewStyle({\r\n        flexDirection: 'column',\r\n    }),\r\n    listItem_view: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n    }),\r\n    listItem: RX.Styles.createTextStyle({\r\n        flex: -1,\r\n        color: pageColors.text_listItem,\r\n        paddingTop: exports.pageSizes.paddingTop_listItem,\r\n        paddingBottom: exports.pageSizes.paddingBottom_listItem,\r\n        paddingLeft: exports.pageSizes.paddingLeft_listItem,\r\n        paddingRight: exports.pageSizes.paddingRight_listItem,\r\n    }),\r\n    listItem_icon: icon_base_1.createIconStyle({\r\n        fillColor: pageColors.text_listItem,\r\n        fontSize: exports.pageSizes.icon_listItem,\r\n        padding: 0,\r\n    }),\r\n};\r\nexports.styles = __assign({}, exports.pageStyles, { row: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n    }), fullRow: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flex: 1,\r\n    }), fullColumn: RX.Styles.createViewStyle({\r\n        flexDirection: 'column',\r\n        flex: 1,\r\n    }), flex1: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n    }), flexWrap: RX.Styles.createViewStyle({\r\n        flexWrap: 'wrap',\r\n    }), \r\n    // flexRow_wrap: RX.Styles.createViewStyle({\r\n    //     flex: 1,\r\n    //     flexDirection: 'row',\r\n    //     flexWrap: 'wrap',\r\n    //     // alignItems: 'stretch',\r\n    // }),\r\n    // flexWrap: RX.Styles.createViewStyle({\r\n    //     flexWrap: 'wrap',\r\n    // }),\r\n    space_around_content: RX.Styles.createViewStyle({\r\n        alignItems: 'center',\r\n        justifyContent: 'space-around',\r\n    }), center_content: RX.Styles.createViewStyle({\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }), center_text: RX.Styles.createTextStyle({\r\n        textAlign: 'center',\r\n    }), right_content: RX.Styles.createTextStyle({\r\n        flexDirection: 'row',\r\n        alignItems: 'flex-end',\r\n        justifyContent: 'flex-end',\r\n    }), loader: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        backgroundColor: exports.colors.back_modal,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }), mini_loader: RX.Styles.createViewStyle({\r\n        minWidth: exports.sizes.width_miniLoader,\r\n        minHeight: exports.sizes.width_miniLoader,\r\n        // flex: 1,\r\n        // backgroundColor: colors.back_modal,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }), mini_loader_container_web: RX.Styles.createViewStyle({\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: exports.colors.mini_loader_background,\r\n        borderRadius: exports.sizes.width_miniLoader,\r\n    }), appImage_view: RX.Styles.createViewStyle({\r\n        width: exports.sizes.width_appImage,\r\n        height: exports.sizes.height_appImage,\r\n    }), appImage: RX.Styles.createImageStyle({\r\n        width: exports.sizes.width_appImage,\r\n        height: exports.sizes.height_appImage,\r\n    }), \r\n    // Header\r\n    headerBar: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flex: 1,\r\n        backgroundColor: exports.colors.back_headerBar,\r\n        borderColor: exports.colors.border_headerBar,\r\n        borderBottomWidth: 1,\r\n        borderStyle: 'solid',\r\n        alignItems: 'center',\r\n    }), headerBar_appIconImage_view: RX.Styles.createViewStyle({\r\n        width: exports.sizes.width_appIconImage,\r\n        height: exports.sizes.height_appIconImage,\r\n        marginLeft: exports.sizes.marginLeft_appIconImage,\r\n        marginRight: exports.sizes.marginRight_appIconImage,\r\n    }), headerBar_appIconImage: RX.Styles.createImageStyle({\r\n        width: exports.sizes.width_appIconImage,\r\n        height: exports.sizes.height_appIconImage,\r\n    }), headerButtons: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }), searchBox_view: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        margin: exports.sizes.margin_search,\r\n        padding: exports.sizes.padding_search,\r\n        backgroundColor: exports.colors.back_search,\r\n        borderRadius: exports.sizes.radius_search,\r\n    }), searchBox_text_placeholder_color: exports.colors.text_search_placeholder, searchBox_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_search,\r\n        color: exports.colors.text_search,\r\n        backgroundColor: 'transparent',\r\n        margin: 0,\r\n        paddingLeft: exports.sizes.paddingLeft_search,\r\n        paddingRight: 0,\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n        flex: 1,\r\n    }), searchIcon: icon_base_1.createIconStyle({\r\n        fontSize: exports.sizes.icon_search,\r\n        padding: 0,\r\n        fillColor: exports.colors.text_search,\r\n    }), \r\n    // Footer\r\n    tabBar: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flex: 1,\r\n        backgroundColor: exports.colors.back_tabBar,\r\n        borderColor: exports.colors.border_tabBar,\r\n        borderWidth: exports.sizes.border_tabBar,\r\n        borderStyle: 'solid',\r\n    }), tab_button: RX.Styles.createButtonStyle({\r\n        flex: 1,\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: exports.sizes.padding_button_tab,\r\n    }), tab_button_active: RX.Styles.createButtonStyle({\r\n        flex: 1,\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: exports.sizes.padding_button_tab,\r\n    }), tab_text: RX.Styles.createTextStyle({\r\n        textAlign: 'center',\r\n        fontSize: exports.sizes.font_button_tab,\r\n        color: exports.colors.text_tab,\r\n    }), tab_text_active: RX.Styles.createTextStyle({\r\n        textAlign: 'center',\r\n        fontSize: exports.sizes.font_button_tab,\r\n        color: exports.colors.text_tab_active,\r\n    }), tabIcon: icon_base_1.createIconStyle({\r\n        fontSize: exports.sizes.icon_button_tab,\r\n        padding: 0,\r\n        fillColor: exports.colors.text_tab,\r\n    }), tabIcon_active: icon_base_1.createIconStyle({\r\n        fontSize: exports.sizes.icon_button_tab,\r\n        padding: 0,\r\n        fillColor: exports.colors.text_tab_active,\r\n    }), \r\n    // Page\r\n    pageBackground: RX.Styles.createViewStyle({\r\n        backgroundColor: exports.colors.back_page,\r\n    }), page: RX.Styles.createViewStyle({\r\n        // padding: sizes.padding_page,\r\n        backgroundColor: exports.colors.back_page,\r\n    }), \r\n    // Headings\r\n    heading: RX.Styles.createViewStyle({\r\n        // alignItems: 'center',\r\n        // justifyContent: 'center',\r\n        paddingLeft: exports.sizes.paddingLeft_heading\r\n    }), heading_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_heading,\r\n    }), \r\n    // Actions\r\n    action_button: RX.Styles.createButtonStyle({\r\n        // // flex: 1,\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }), action_button_text: RX.Styles.createTextStyle({\r\n        padding: exports.sizes.padding_action_button,\r\n        backgroundColor: exports.colors.back_button_action,\r\n        color: exports.colors.text_button,\r\n        fontSize: exports.sizes.font_button,\r\n    }), facebook_button: RX.Styles.createButtonStyle({\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: exports.colors.back_button_action,\r\n        // backgroundColor: '#3b5998',\r\n        padding: exports.sizes.padding_action_button,\r\n    }), facebook_button_text: RX.Styles.createTextStyle({\r\n        color: '#FFFFFF',\r\n        fontSize: exports.sizes.font_button,\r\n        marginLeft: 8,\r\n    }), facebook_icon: icon_base_1.createIconStyle({\r\n        fontSize: exports.sizes.icon_button,\r\n        padding: 0,\r\n        fillColor: '#FFFFFF',\r\n    }), warning_text: RX.Styles.createTextStyle({\r\n        padding: exports.sizes.padding_action_button,\r\n        backgroundColor: exports.colors.back_warning,\r\n        color: exports.colors.text_warning,\r\n    }), \r\n    // List\r\n    listIcon: icon_base_1.createIconStyle({\r\n        fontSize: exports.sizes.icon_list,\r\n        padding: 0,\r\n        fillColor: exports.colors.icon_main,\r\n    }), \r\n    // Post - Wrapping\r\n    // postList: RX.Styles.createViewStyle({\r\n    //     flexDirection: 'row',\r\n    //     flexWrap: 'wrap',\r\n    // }),\r\n    // postItem: RX.Styles.createViewStyle({\r\n    //     flex: 1,\r\n    // }),\r\n    // postPanel: RX.Styles.createViewStyle({\r\n    //     flex: 1,\r\n    //     marginRight: sizes.marginBottom_panel,\r\n    //     marginBottom: sizes.marginBottom_panel,\r\n    //     padding: sizes.padding_panel,\r\n    //     backgroundColor: colors.back_panel,\r\n    // }),\r\n    // Post- Normal\r\n    postList: RX.Styles.createViewStyle({}), postItem: RX.Styles.createViewStyle({}), postPanel: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        marginBottom: exports.sizes.marginBottom_panel,\r\n        padding: exports.sizes.padding_panel,\r\n        backgroundColor: exports.colors.back_panel,\r\n    }), sponsored: RX.Styles.createViewStyle({\r\n        backgroundColor: exports.colors.back_sponsored,\r\n    }), postContent_wrapper: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        flexDirection: 'column',\r\n        borderColor: exports.colors.border_post_content_section,\r\n        borderStyle: 'solid',\r\n        borderLeftWidth: 1,\r\n        borderTopWidth: 1,\r\n        marginTop: 4,\r\n        marginLeft: 4,\r\n        paddingTop: 4,\r\n        paddingLeft: 4,\r\n        minWidth: 150,\r\n    }), postIcon_padding: RX.Styles.createViewStyle({\r\n        paddingRight: exports.sizes.paddingRight_postIcon,\r\n    }), postIcon: icon_base_1.createIconStyle({\r\n        fontSize: exports.sizes.icon_post,\r\n        padding: 0,\r\n        fillColor: exports.colors.icon_post,\r\n    }), postIcon_action: icon_base_1.createIconStyle({\r\n        fontSize: exports.sizes.icon_post_section,\r\n        padding: 0,\r\n        fillColor: exports.colors.icon_post_action,\r\n    }), postIcon_action_disabled: icon_base_1.createIconStyle({\r\n        // TODO: Update\r\n        fontSize: exports.sizes.icon_post_section,\r\n        padding: 0,\r\n        fillColor: exports.colors.icon_disabled,\r\n    }), postTitle_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_post_title,\r\n        color: exports.colors.text_post_title,\r\n    }), postSubTitle_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_post_subTitle,\r\n        color: exports.colors.text_post_subTitle,\r\n    }), postContent_section: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        marginTop: exports.sizes.marginTop_post_section,\r\n        marginBottom: exports.sizes.marginBottom_post_section,\r\n        marginLeft: exports.sizes.marginLeft_post_section,\r\n    }), postContent_section_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_post_content,\r\n        color: exports.colors.text_post_content\r\n    }), postContent_section_caption_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_post_content_caption,\r\n        color: exports.colors.text_post_content_caption\r\n    }), postContent_section_details_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_post_content_details,\r\n        color: exports.colors.text_post_content_details\r\n    }), postContent_action: RX.Styles.createViewStyle({\r\n        padding: exports.sizes.padding_icon_post_action\r\n    }), postInfo_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_post_info,\r\n        color: exports.colors.text_post_info,\r\n    }), postContent_comment_name_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_post_comment,\r\n        color: exports.colors.text_post_title,\r\n    }), postContent_comment_message_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_post_comment,\r\n        color: exports.colors.text_post_content,\r\n    }), postContent_comment_info_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_post_info,\r\n        color: exports.colors.text_post_info,\r\n    }), postStats_view: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        borderStyle: 'solid',\r\n        borderColor: exports.colors.border_post_content_section,\r\n        borderTopWidth: 1,\r\n        marginTop: exports.sizes.marginBottom_post_section,\r\n        paddingTop: exports.sizes.marginBottom_post_section,\r\n    }), postStats_icon: icon_base_1.createIconStyle({\r\n        fontSize: exports.sizes.icon_stats,\r\n        padding: 0,\r\n        fillColor: exports.colors.icon_disabled,\r\n    }), postStats_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_stats,\r\n        padding: 0,\r\n    }), \r\n    // TEMP\r\n    postImage_maxWidth: 375, postImage: RX.Styles.createImageStyle({\r\n        flex: 1,\r\n    }), postProfilePicture: RX.Styles.createImageStyle({\r\n        width: 32,\r\n        height: 32,\r\n    }) });\r\n\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar resub_1 = __webpack_require__(62);\r\nfunction storeComp(buildStateCallback, renderCallback) {\r\n    return RX.createElement(StoreComponentBase, { buildStateCallback: buildStateCallback, renderCallback: renderCallback });\r\n}\r\nexports.storeComp = storeComp;\r\n;\r\nvar StoreComponentBase = (function (_super) {\r\n    __extends(StoreComponentBase, _super);\r\n    function StoreComponentBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    StoreComponentBase.prototype._buildState = function (props, initialBuild) {\r\n        var s = this.props.buildStateCallback();\r\n        console.log('_buildState', { props: props, initialBuild: initialBuild, s: s });\r\n        return s;\r\n    };\r\n    StoreComponentBase.prototype.render = function () {\r\n        return this.props.renderCallback(this.state);\r\n    };\r\n    return StoreComponentBase;\r\n}(resub_1.ComponentBase));\r\n\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar styles_1 = __webpack_require__(23);\r\nvar main_layout_1 = __webpack_require__(194);\r\nvar page_layout_common_1 = __webpack_require__(196);\r\nexports.PageLayout = function (props) {\r\n    return (RX.createElement(main_layout_1.MainLayout, { backgroundColor: styles_1.colors.back_page, headerContent: RX.createElement(page_layout_common_1.HeaderBar, { store: props.postsStore || props.store }), footerContent: RX.createElement(page_layout_common_1.TabBar, { store: props.store }), footerHeight: styles_1.sizes.footer_height, onScrollReachEnd: props.onScrollReachEnd },\r\n        RX.createElement(RX.View, { style: [styles_1.styles.fullColumn, styles_1.styles.pageBackground] }, props.children)));\r\n};\r\n\n\n/***/ }),\n\n/***/ 428:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(3);\r\nvar store_component_base_1 = __webpack_require__(41);\r\nvar localStyles = {\r\n    chooser: RX.Styles.createViewStyle({\r\n        padding: 8,\r\n    }),\r\n    selector: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        padding: 4,\r\n    }),\r\n    label: RX.Styles.createViewStyle({\r\n        width: 80,\r\n    }),\r\n    picker: RX.Styles.createPickerStyle({\r\n        flex: 1,\r\n        marginLeft: 8,\r\n    }),\r\n};\r\nexports.PassageChooser = function (props) { return store_component_base_1.storeComp(function () { return ({\r\n    m: props.bibleStore.getPassageMetadata(),\r\n}); }, function (state) {\r\n    return (RX.createElement(RX.View, { style: localStyles.chooser },\r\n        RX.createElement(exports.Selector, { label: 'Book', value: state.m.bookKey, choices: state.m.books.map(function (x) { return ({ label: x.bookName, value: x.bookID }); }), onChoice: props.bibleStore.selectBook }),\r\n        RX.createElement(exports.Selector, { label: 'Chapter', value: state.m.chapterNumber + '', choices: getNumbersList(state.m.chapterCount), onChoice: props.bibleStore.selectChapter }),\r\n        RX.createElement(exports.Selector, { label: 'Verse', value: state.m.verseNumber + '', choices: getNumbersList(state.m.verseCount), onChoice: props.bibleStore.selectVerse })));\r\n}); };\r\nexports.Selector = function (props) { return (RX.createElement(RX.View, { style: localStyles.selector },\r\n    RX.createElement(RX.Text, { style: localStyles.label }, props.label),\r\n    RX.createElement(RX.Picker, { style: localStyles.picker, items: props.choices, selectedValue: props.value, onValueChange: props.onChoice }))); };\r\nfunction getNumbersList(max, min) {\r\n    if (min === void 0) { min = 1; }\r\n    var a = [];\r\n    for (var i = min; i <= max; i++) {\r\n        a.push({ label: i + '', value: i + '' });\r\n    }\r\n    return a;\r\n}\r\n\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar auto_timeout_1 = __webpack_require__(99);\r\nvar RX = __webpack_require__(3);\r\nvar facebook_1 = __webpack_require__(189);\r\nvar facebook_sdk_web_1 = __webpack_require__(186);\r\nvar styles_1 = __webpack_require__(23);\r\nvar FacebookLogin = (function (_super) {\r\n    __extends(FacebookLogin, _super);\r\n    function FacebookLogin() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.onLoginPress = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var _this = this;\r\n            var err_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4 /*yield*/, auto_timeout_1.autoTimeout({\r\n                                timeoutErrorMessage: 'Timeout: Facebook Login',\r\n                                errorMessage: 'Error: Facebook Login',\r\n                            }, function () { return __awaiter(_this, void 0, void 0, function () {\r\n                                var fb, result;\r\n                                return __generator(this, function (_a) {\r\n                                    switch (_a.label) {\r\n                                        case 0: return [4 /*yield*/, facebook_sdk_web_1.loadFacebookSdk()];\r\n                                        case 1:\r\n                                            fb = _a.sent();\r\n                                            return [4 /*yield*/, fb.login()];\r\n                                        case 2:\r\n                                            result = _a.sent();\r\n                                            this.setState({\r\n                                                isLoggedIn: result.status === 'connected',\r\n                                            });\r\n                                            if (result.error) {\r\n                                                this.props.onError('Error: Facebook Login', result.error);\r\n                                            }\r\n                                            else if (result.status !== 'connected') {\r\n                                                this.props.onError('Error: Facebook Login', 'Not Connected');\r\n                                            }\r\n                                            return [2 /*return*/];\r\n                                    }\r\n                                });\r\n                            }); })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        err_1 = _a.sent();\r\n                        this.props.onError('Error: Facebook Login', err_1);\r\n                        return [3 /*break*/, 3];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        _this.onLogoutPress = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var fb, result;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, facebook_sdk_web_1.loadFacebookSdk()];\r\n                    case 1:\r\n                        fb = _a.sent();\r\n                        return [4 /*yield*/, fb.logout()];\r\n                    case 2:\r\n                        result = _a.sent();\r\n                        this.setState({\r\n                            isLoggedIn: result.status === 'connected',\r\n                        });\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        return _this;\r\n    }\r\n    FacebookLogin.prototype.render = function () {\r\n        var _this = this;\r\n        if (this.state.isLoggedIn === undefined) {\r\n            setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var fb, result, err_2;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            _a.trys.push([0, 3, , 4]);\r\n                            return [4 /*yield*/, facebook_sdk_web_1.loadFacebookSdk()];\r\n                        case 1:\r\n                            fb = _a.sent();\r\n                            return [4 /*yield*/, fb.getLoginStatus()];\r\n                        case 2:\r\n                            result = _a.sent();\r\n                            this.setState({\r\n                                isLoggedIn: result.status === 'connected',\r\n                            });\r\n                            return [3 /*break*/, 4];\r\n                        case 3:\r\n                            err_2 = _a.sent();\r\n                            this.setState({\r\n                                isLoggedIn: false,\r\n                            });\r\n                            return [3 /*break*/, 4];\r\n                        case 4: return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n        }\r\n        return (!this.state.isLoggedIn ? (RX.createElement(RX.Button, { style: styles_1.styles.facebook_button, onPress: this.onLoginPress },\r\n            RX.createElement(facebook_1.FacebookIcon, { style: styles_1.styles.facebook_icon }),\r\n            \" \",\r\n            RX.createElement(RX.Text, { style: styles_1.styles.facebook_button_text }, \"Continue with Facebook\"))) : (RX.createElement(RX.Button, { style: styles_1.styles.facebook_button, onPress: this.onLogoutPress },\r\n            RX.createElement(RX.Text, { style: styles_1.styles.facebook_button_text }, \"Logout of Facebook\"))));\r\n    };\r\n    return FacebookLogin;\r\n}(RX.Component));\r\nexports.FacebookLogin = FacebookLogin;\r\n;\r\nvar FacebookAccessClass = (function () {\r\n    function FacebookAccessClass() {\r\n    }\r\n    FacebookAccessClass.prototype.getCurrentAccessToken = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var fb, result, token;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        console.log('START FacebookAccessClass.getCurrentAccessToken()');\r\n                        return [4 /*yield*/, facebook_sdk_web_1.loadFacebookSdk()];\r\n                    case 1:\r\n                        fb = _a.sent();\r\n                        console.log('FacebookAccessClass.getCurrentAccessToken() loadedFacebookSdk');\r\n                        return [4 /*yield*/, fb.getLoginStatus()];\r\n                    case 2:\r\n                        result = _a.sent();\r\n                        console.log('FacebookAccessClass.getCurrentAccessToken() got login status');\r\n                        token = result.status === 'connected' && result.authResponse.accessToken;\r\n                        console.log('END FacebookAccessClass.getCurrentAccessToken()', { token: token, result: result });\r\n                        return [2 /*return*/, token || null];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return FacebookAccessClass;\r\n}());\r\nexports.FacebookAccess = new FacebookAccessClass();\r\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction autoTimeout(options, process) {\r\n    options = {\r\n        time: options.time || 10000,\r\n        timeoutErrorMessage: options.timeoutErrorMessage || 'Timeout',\r\n        errorMessage: options.errorMessage || 'Error',\r\n    };\r\n    return new Promise(function (resolve, reject) {\r\n        try {\r\n            var id_1 = setTimeout(function () {\r\n                console.error(options.timeoutErrorMessage);\r\n                reject(options.timeoutErrorMessage);\r\n            }, options.time);\r\n            process()\r\n                .then(function (x) {\r\n                clearTimeout(id_1);\r\n                resolve(x);\r\n            })\r\n                .catch(function (err) {\r\n                clearTimeout(id_1);\r\n                console.error(options.errorMessage, err);\r\n                reject(err);\r\n            });\r\n        }\r\n        catch (err) {\r\n            console.error(options.errorMessage, err);\r\n            reject(err);\r\n        }\r\n    });\r\n}\r\nexports.autoTimeout = autoTimeout;\r\n\n\n/***/ })\n\n},[213]);\n\n\n// WEBPACK FOOTER //\n// bundle.js","import * as RX from 'reactxp';\r\n\r\nimport { Store } from \"../../store/store\";\r\nimport { NewsIcon } from \"../common/icons/news\";\r\nimport { MenuIcon } from \"../common/icons/menu\";\r\nimport { IconStyle } from \"../common/icons/icon-base\";\r\nimport { PageLayout } from \"../page/page-layout\";\r\nimport { SettingsPage } from \"./settings-page\";\r\n// import { NewsPage } from \"./news-page\";\r\nimport { BookIcon } from \"../common/icons/book\";\r\nimport { RocketIcon } from \"../common/icons/rocket\";\r\nimport { InteractPage } from \"./interact-page\";\r\nimport { ReadPage } from \"./read-page\";\r\n\r\nexport const PageSelector = (props: { store: Store, pageName: string }) => {\r\n    switch (props.pageName) {\r\n        case 'Empty': return <EmptyPage store={props.store} />\r\n        // case 'Newsfeed': return <NewsPage store={props.store} />\r\n        case 'Read': return <ReadPage store={props.store} />\r\n        case 'Interact': return <InteractPage store={props.store} />\r\n        default: return <SettingsPage store={props.store} />\r\n    }\r\n};\r\n\r\nexport const PageIcon = (props: { pageName: string, iconStyle: IconStyle }) => {\r\n    switch (props.pageName) {\r\n        // case 'Newsfeed': return <NewsIcon style={props.iconStyle} />\r\n        case 'Read': return <BookIcon style={props.iconStyle} />\r\n        case 'Interact': return <RocketIcon style={props.iconStyle} />\r\n        default: return <MenuIcon style={props.iconStyle} />\r\n    }\r\n};\r\n\r\nexport const EmptyPage = (props: { store: Store }) => (\r\n    <PageLayout store={props.store} postsStore={props.store}>\r\n        <RX.View >\r\n        </RX.View>\r\n    </PageLayout>\r\n);\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/pages/page-selector.tsx","import { Storage } from './storage';\r\n\r\nconst version = 'v0_1';\r\n\r\nexport function autoDeviceStorage(defaultValue: any = null, classStorageKey = ''): any {\r\n    return function (targetPrototype: any, propertyKey: string) {\r\n\r\n        const propKey = version + classStorageKey + propertyKey + '__value';\r\n\r\n        const descriptor: PropertyDescriptor = {};\r\n        descriptor.get = function () {\r\n            const self = this;\r\n            // const key = propKey + (self['_store_instance_name'] || '');\r\n            const key = propKey;\r\n            let value = self[key];\r\n            // console.log('get from self', { key, propKey, self, value: self[key] });\r\n\r\n            if (value === undefined) {\r\n                self[key] = null;\r\n                value = defaultValue;\r\n\r\n                // Get value from storage\r\n                if (self.startLoading) { self.startLoading(); }\r\n                const prom = Storage.getItem_noMemCache(key);\r\n                prom.then(x => {\r\n                    if (self.endLoading) { self.endLoading(); }\r\n                    if (x == null) {\r\n                        return;\r\n                    }\r\n                    self[key] = JSON.parse(x);\r\n\r\n                    // console.log('get from storage', { key, self, value: self[key] });\r\n                    self.trigger();\r\n                });\r\n            }\r\n            return value;\r\n        };\r\n\r\n        descriptor.set = function (v: any) {\r\n            const self = this;\r\n            //const key = propKey + (self['_store_instance_name'] || '');\r\n            const key = propKey;\r\n            self[key] = v;\r\n            Storage.setItem_noMemCache(key, JSON.stringify(v));\r\n        }\r\n\r\n        return descriptor;\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/extensions/storage/autoDeviceStorage.ts","import * as RX from 'reactxp';\r\nimport ImageSvg, { SvgPath } from 'reactxp-imagesvg';\r\n\r\nexport interface IconStyle {\r\n    fontSize: number;\r\n    padding: number;\r\n    // width?: number;\r\n    // height?: number;\r\n    strokeColor?: string;\r\n    fillColor?: string;\r\n}\r\n\r\nexport function createIconStyle(style: IconStyle) { return style; }\r\nexport type IconProps = { style: IconStyle };\r\n\r\n// {props.style.strokeColor}\r\n// {props.style.fillColor} \r\nexport const IconBase = (props: IconProps & { viewBox: string, children?: JSX.Element | null }) => {\r\n    // console.log('IconBase', props.children);\r\n    return (\r\n        <ImageSvg\r\n            height={props.style.fontSize + props.style.padding * 2}\r\n            width={props.style.fontSize + props.style.padding * 2}\r\n            viewBox={props.viewBox}\r\n        >\r\n            {props.children}\r\n        </ImageSvg>\r\n    );\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/icons/icon-base.tsx","import * as RX from 'reactxp';\r\nimport { Store } from './store/store';\r\nimport { handleRoute } from \"./routes\";\r\nimport { Root } from \"./components/page/root\";\r\n\r\nconst store = Store;\r\n\r\nhandleRoute();\r\n\r\nexport const App = () => (\r\n    <Root store={store} />\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.tsx","import { PassagePartChoice, PassagePart, VerseData, WordStats } from \"./types\";\r\n\r\nconst MIN_CHOICE_SPACING = 2;\r\nconst MAX_CHOICE_SPACING = 5;\r\nconst TARGET_COUNT = 3;\r\n\r\nexport class PassagePartsGenerator {\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    private _iToChoice = MIN_CHOICE_SPACING + Math.ceil((MAX_CHOICE_SPACING - MIN_CHOICE_SPACING) * Math.random());\r\n    private _nextKey = 0;\r\n    createParts(verseData: VerseData, shouldMakeChoices = true): PassagePart[] {\r\n        if (!verseData || !verseData.text.length) { return []; }\r\n\r\n        let parts: PassagePart[] = [];\r\n\r\n        if (verseData.verseID === \"1\") {\r\n            parts.push({\r\n                _key: '' + this._nextKey++,\r\n                kind: 'chapterMarker',\r\n                isActive: false,\r\n                text: verseData.chapterID\r\n            });\r\n        }\r\n\r\n        parts.push({\r\n            _key: '' + this._nextKey++,\r\n            kind: 'verseMarker',\r\n            isActive: false,\r\n            text: verseData.verseID\r\n        });\r\n\r\n        const words = verseData.text.replace(/\\n/g, ' \\n ').replace(/ +/g, ' ').split(' ');\r\n\r\n        let wordParts: PassagePart[] = words.map(w => ({\r\n            _key: '' + this._nextKey++,\r\n            kind: w.indexOf('\\n') >= 0 ? 'lineBreak' : 'text' as 'lineBreak' | 'text',\r\n            isActive: false,\r\n            text: w\r\n        }));\r\n\r\n        // Convert some words to choices\r\n        if (shouldMakeChoices) {\r\n            const altWords = wordParts.map(w => w.text);\r\n\r\n            wordParts = wordParts.map(p => {\r\n                if (p.text.trim().length <= 0) { return p; }\r\n\r\n                this._iToChoice--;\r\n                if (this._iToChoice > 0) { return p; }\r\n\r\n                this._iToChoice = MIN_CHOICE_SPACING + Math.ceil((MAX_CHOICE_SPACING - MIN_CHOICE_SPACING) * Math.random());\r\n\r\n                const choices = getChoices(p.text, altWords);\r\n                const part: PassagePart = {\r\n                    _key: '' + this._nextKey++,\r\n                    kind: 'choice',\r\n                    isActive: false,\r\n                    text: p.text,\r\n                    correctChoice: choices.filter(c => c.text == p.text)[0],\r\n                    choices: choices\r\n                };\r\n\r\n                return part;\r\n            });\r\n        }\r\n\r\n        parts = parts.concat(wordParts);\r\n\r\n        return parts;\r\n    }\r\n}\r\n\r\nfunction getChoices(correct: string, altWords: string[]): PassagePartChoice[] {\r\n\r\n    let choices = [correct];\r\n    const simple = [simplify(correct)];\r\n\r\n    let attempts = 0;\r\n    while (attempts < 10 && choices.length < TARGET_COUNT) {\r\n\r\n        const c = altWords[Math.floor(altWords.length * Math.random())];\r\n        const s = simplify(c);\r\n\r\n        if (s.length > 0 && simple.indexOf(s) < 0) {\r\n            choices.push(c);\r\n            simple.push(s);\r\n        }\r\n\r\n        attempts++;\r\n    }\r\n\r\n    choices = makeConsistent(correct, choices);\r\n\r\n    // Randomize\r\n    choices = randomize(choices);\r\n\r\n    return choices.map(c => { return { text: c, isCorrect: false, isMistake: false, isCollapsed: false }; });\r\n}\r\n\r\nfunction randomize<T>(array: T[]) {\r\n    const source = array.map(x => x);\r\n    const result: T[] = [];\r\n\r\n    while (source.length > 0) {\r\n        result.push(...source.splice(Math.floor(Math.random() * source.length), 1));\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nfunction simplify(text: string) {\r\n    return text.replace(/\\W+/g, \"\").toLowerCase();\r\n}\r\n\r\nfunction markParts(parts: PassagePart[], isActive: boolean) {\r\n    parts.forEach(p => p.isActive = isActive);\r\n}\r\n\r\nfunction makeConsistent(correct: string, choices: string[]) {\r\n    const m = correct.match(/^([\\W]*)(.*\\w)([\\W]*)$/);\r\n    const prefix = m[1];\r\n    const content = m[2];\r\n    const suffix = m[3];\r\n    const isCapitalized = content[0] === content[0].toUpperCase();\r\n    const hasPossessive = content.match(/'s$/);\r\n\r\n    return choices.map(x => {\r\n        if (x === correct) { return x; }\r\n\r\n        const cm = x.match(/^([\\W]*)(.*\\w)([\\W]*)$/);\r\n        const ca = cm[2];\r\n        const cb = isCapitalized ? ca[0].toUpperCase() + ca.substr(1) : ca[0].toLowerCase() + ca.substr(1);\r\n        const cc = hasPossessive ? `${cb}'s`.replace(`s's`, `s'`) : cb;\r\n        return prefix + cc + suffix;\r\n    });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/bible/passage-parts-generator.ts","import * as RX from 'reactxp';\r\nimport { Passage, PassagePart, PassagePartChoice } from \"./types\";\r\n\r\nconst colors = {\r\n    back_viewer: '#FFFFFF',\r\n\r\n    text_marker: '#387ef5',\r\n\r\n    back_choice: '#387ef5',\r\n    text_choice: '#FFFFFF',\r\n\r\n    back_choice_disabled: '#CCCCCC',\r\n    text_choice_disabled: '#000000',\r\n\r\n    back_wrong: '#f53d3d',\r\n    text_wrong: '#FFFFFF',\r\n\r\n    back_correct: '#32db64',\r\n    text_correct: '#000000',\r\n\r\n    // back_collapsed: '#CCCCCC',\r\n    // text_collapsed: '#FFFFFF',\r\n};\r\n\r\nconst sizes = {\r\n    choiceHeight: 36,\r\n    lineHeight: 108,\r\n    choice_padding: 8,\r\n};\r\n\r\nconst styles = {\r\n    active: RX.Styles.createViewStyle({\r\n    }),\r\n    inactive: RX.Styles.createViewStyle({\r\n        opacity: 0.75,\r\n    }),\r\n\r\n    viewer: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        alignItems: 'center',\r\n        backgroundColor: colors.back_viewer,\r\n        padding: 8,\r\n    }),\r\n    chapterMarker: RX.Styles.createTextStyle({\r\n        marginRight: 2,\r\n        marginLeft: 2,\r\n        fontSize: 48,\r\n        color: colors.text_marker,\r\n    }),\r\n    verseMarker: RX.Styles.createTextStyle({\r\n        marginRight: 2,\r\n        marginLeft: 2,\r\n        fontSize: 14,\r\n        color: colors.text_marker,\r\n        paddingBottom: 6,\r\n    }),\r\n    textPart_view: RX.Styles.createViewStyle({\r\n        // height: sizes.lineHeight,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }),\r\n    textPart: RX.Styles.createTextStyle({\r\n        marginRight: 2,\r\n        marginLeft: 2,\r\n        fontSize: 16,\r\n    }),\r\n    choicesPart_wrapper: RX.Styles.createViewStyle({\r\n        height: sizes.lineHeight,\r\n        overflow: 'hidden',\r\n        justifyContent: 'center',\r\n    }),\r\n    choicesPart: RX.Styles.createViewStyle({\r\n        alignItems: 'stretch',\r\n        justifyContent: 'center',\r\n        // height: sizes.lineHeight,\r\n    }),\r\n    choice: RX.Styles.createViewStyle({\r\n        height: sizes.choiceHeight - 2,\r\n        marginRight: 2,\r\n        marginLeft: 2,\r\n        marginTop: 1,\r\n        marginBottom: 1,\r\n    }),\r\n    choice_default: RX.Styles.createTextStyle({\r\n        margin: 0,\r\n        padding: sizes.choice_padding,\r\n        fontSize: 16,\r\n        textAlign: 'center',\r\n        color: colors.text_choice,\r\n        backgroundColor: colors.back_choice,\r\n    }),\r\n    choice_disabled: RX.Styles.createTextStyle({\r\n        margin: 0,\r\n        padding: sizes.choice_padding,\r\n        fontSize: 16,\r\n        textAlign: 'center',\r\n        color: colors.text_choice_disabled,\r\n        backgroundColor: colors.back_choice_disabled,\r\n    }),\r\n    choice_correct: RX.Styles.createTextStyle({\r\n        margin: 0,\r\n        padding: sizes.choice_padding,\r\n        fontSize: 16,\r\n        textAlign: 'center',\r\n        color: colors.text_correct,\r\n        backgroundColor: colors.back_correct,\r\n    }),\r\n    choice_wrong: RX.Styles.createTextStyle({\r\n        margin: 0,\r\n        padding: sizes.choice_padding,\r\n        fontSize: 16,\r\n        textAlign: 'center',\r\n        color: colors.text_wrong,\r\n        backgroundColor: colors.back_wrong,\r\n\r\n        textDecorationLine: 'line-through',\r\n        textDecorationColor: '#FF0000',\r\n        textDecorationStyle: 'solid',\r\n    }),\r\n    choice_collapsed: RX.Styles.createTextStyle({\r\n        margin: 0,\r\n        padding: sizes.choice_padding,\r\n        fontSize: 16,\r\n        textAlign: 'center',\r\n\r\n        opacity: 0.1,\r\n    }),\r\n};\r\n\r\n\r\n\r\nexport const PassageViewer = (props: { passage: Passage, onPartDone: (part: PassagePart) => void }) => {\r\n\r\n    const allParts = [\r\n        ...props.passage.previousParts.map(x => ({ isActive: false, part: x, onPartDone: null })),\r\n        ...props.passage.activeParts.map(x => ({ isActive: true, part: x, onPartDone: () => props.onPartDone(x) })),\r\n        ...props.passage.nextParts.map(x => ({ isActive: false, part: x, onPartDone: null })),\r\n    ];\r\n\r\n    return (\r\n        <RX.View style={styles.viewer}>\r\n            {allParts.map(x => (\r\n                <RX.View key={x.part._key} style={x.isActive ? styles.active : styles.inactive}>\r\n                    <PassagePartViewer part={x.part} onPartDone={x.onPartDone} />\r\n                </RX.View>\r\n            ))}\r\n        </RX.View>\r\n    );\r\n\r\n    // return (\r\n    //     <RX.View style={styles.viewer}>\r\n    //         {props.passage.previousParts.map(x => <RX.View key={x._key} style={styles.inactive}><PassagePartViewer part={x} /></RX.View>)}\r\n    //         {props.passage.activeParts.map(x => <PassagePartViewer key={x._key} part={x} onPartDone={() => props.onPartDone(x)} />)}\r\n    //         {props.passage.nextParts.map(x => <RX.View key={x._key} style={styles.inactive}><PassagePartViewer part={x} /></RX.View>)}\r\n    //     </RX.View>\r\n    // );\r\n};\r\n\r\nexport const PassagePartViewer = (props: { key?: string, part: PassagePart, onPartDone?: () => void }) => {\r\n\r\n    switch (props.part.kind) {\r\n        case 'chapterMarker': return (<RX.Text style={styles.chapterMarker}>{props.part.text}</RX.Text>);\r\n        case 'verseMarker': return (<RX.Text style={styles.verseMarker}>{props.part.text}</RX.Text>);\r\n        case 'choice': return (<PassageChoicesViewer part={props.part} onPartDone={props.onPartDone} />);\r\n        case 'text': default: return (<RX.View style={styles.textPart_view}><RX.Text style={styles.textPart}>{props.part.text}</RX.Text></RX.View>);\r\n    }\r\n};\r\n\r\nexport class PassageChoicesViewer extends RX.Component<{\r\n    part: PassagePart,\r\n    onPartDone?: () => void\r\n}, {\r\n        wasDone?: boolean,\r\n        choiceStates: {\r\n            isCorrect: boolean;\r\n            isWrong: boolean;\r\n            isCollapsed: boolean;\r\n        }[]\r\n    }>{\r\n\r\n    initState = () => {\r\n        if (this.state && this.state.choiceStates) { return; }\r\n\r\n        this.state = {\r\n            wasDone: false,// !!this.props.part._isDone,\r\n            choiceStates: this.state.choiceStates || this.props.part.choices.map(x => ({\r\n                isCorrect: false,\r\n                isWrong: false,\r\n                isCollapsed: false,\r\n            })),\r\n        };\r\n\r\n        // if (this.state.wasDone) {\r\n        //     const i = 0;\r\n        //     this._animatedTranslateValue.setValue(-(i - 1) * sizes.choiceHeight);\r\n        // }\r\n    };\r\n\r\n    selectChoice = (i: number) => {\r\n        // Ignore if no onPartDone handler\r\n        if (!this.props.onPartDone) { return; }\r\n\r\n        const s = this.state.choiceStates;\r\n\r\n        const p = this.props.part.choices[i];\r\n        const isCorrect = p === this.props.part.correctChoice;\r\n\r\n        if (isCorrect) {\r\n            // Correct choice\r\n            s[i].isCorrect = true;\r\n            s.forEach(c => {\r\n                c.isCollapsed = !c.isCorrect; // !c.isWrong && !c.isCorrect;\r\n            });\r\n\r\n            // Shift animation\r\n            const shiftAnimation = RX.Animated.timing(this._animatedTranslateValue, {\r\n                toValue: -(i - 1) * sizes.choiceHeight,\r\n                duration: 1000,\r\n                easing: RX.Animated.Easing.InOut(),\r\n            });\r\n\r\n            setTimeout(() => {\r\n                shiftAnimation.start();\r\n            });\r\n\r\n            this.props.onPartDone();\r\n\r\n        } else {\r\n            s[i].isWrong = true;\r\n        }\r\n\r\n        this.setState({ choiceStates: s });\r\n    };\r\n\r\n    _animatedTranslateValue = new RX.Animated.Value(0.0);\r\n    _shiftStyle = RX.Styles.createAnimatedViewStyle({\r\n        transform: [{\r\n            translateY: this._animatedTranslateValue,\r\n        }]\r\n    })\r\n\r\n    render() {\r\n        this.initState();\r\n\r\n        if (!this.state.wasDone) {\r\n            return (\r\n                <RX.View style={styles.choicesPart_wrapper}>\r\n                    <RX.Animated.View style={[styles.choicesPart, this._shiftStyle]}>\r\n                        {this.props.part.choices.map((x, i) => {\r\n                            const s = this.state.choiceStates[i];\r\n                            return (\r\n                                <RX.View style={styles.choice}>\r\n                                    <PassageChoiceViewer part={x} {...s} onPress={() => this.selectChoice(i)} hasOnPartDoneHandler={!!this.props.onPartDone} />\r\n                                </RX.View>\r\n                            );\r\n                        })}\r\n                    </RX.Animated.View>\r\n                </RX.View>\r\n            );\r\n        } else {\r\n            const x = this.props.part.correctChoice;\r\n            const s = { isCorrect: true, isWrong: false, isCollapsed: false };\r\n            return (\r\n                <RX.View style={styles.choicesPart_wrapper}>\r\n                    <RX.View style={styles.choicesPart}>\r\n                        <RX.View style={styles.choice}>\r\n                            <PassageChoiceViewer part={x} {...s} />\r\n                        </RX.View>\r\n                    </RX.View>\r\n                </RX.View>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport const PassageChoiceViewer = (props: { part: PassagePartChoice, isCorrect: boolean, isWrong: boolean, isCollapsed: boolean, onPress?: () => void, hasOnPartDoneHandler?: boolean }) => {\r\n    if (props.isCorrect) {\r\n        return <RX.Text style={styles.choice_correct}>{props.part.text}</RX.Text>\r\n    } else if (props.isCollapsed && props.isWrong) {\r\n        return <RX.Text style={[styles.choice_collapsed, styles.choice_wrong]}>{props.part.text}</RX.Text>\r\n    } else if (props.isCollapsed) {\r\n        return <RX.Text style={styles.choice_collapsed}>{props.part.text}</RX.Text>\r\n    } else if (props.isWrong) {\r\n        return <RX.Text style={styles.choice_wrong}>{props.part.text}</RX.Text>\r\n    } else if (props.hasOnPartDoneHandler) {\r\n        return <RX.Button style={styles.choice_default} onPress={props.onPress}>{props.part.text}</RX.Button>\r\n    } else {\r\n        return <RX.Text style={styles.choice_disabled}>{props.part.text}</RX.Text>\r\n    }\r\n}\r\n\r\n//   <div *ngFor=\"let part of verseParts\" class=\"versePart\" [style.color]=\"part.color\" [class.isActiveVersePart]=\"part.isActive\"\r\n//     [class.isNonActiveVersePart]=\"!part.isActive\" [class.lineBreak]=\"part.isLineBreak\">\r\n//     <span id=\"activeVerse\" *ngIf=\"part.isVerseID && part.isActive\"></span>\r\n//     <span class=\"activeChoice\" *ngIf=\"part.isChoice && part.isActive\"></span>\r\n//     <span *ngIf=\"part.isChapterID\" class=\"chapterID\">{{part.text}}&nbsp;</span>\r\n//     <span *ngIf=\"part.isVerseID\" class=\"verseID\">{{part.text}}&nbsp;</span>\r\n//     <span *ngIf=\"part.isText\" class=\"verseText\">{{part.text}}&nbsp;</span>\r\n//     <div *ngIf=\"part.isChoice\" class=\"choices\" [class.inactiveChoices]=\"part.choices.length <= 1\">\r\n//       <button *ngFor=\"let choice of part.choices\" class=\"choice\" [disabled]=\"!part.isActive\" [class.correct]=\"choice.isCorrect\"\r\n//         [class.mistake]=\"choice.isMistake\" [class.collapsed]=\"choice.isCollapsed\" (click)=\"makeChoice(part, choice)\">{{choice.text}}</button>\r\n//     </div>\r\n//   </div>\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/bible/passage.tsx","import { facebookAppId } from \"../../../settings\";\r\nimport { autoTimeout } from \"../utils/auto-timeout\";\r\n\r\n// https://developers.facebook.com/docs/facebook-login/web\r\nexport interface FacebookLoginStatusResponse {\r\n    error?: string;\r\n    status: 'connected' | 'not_authorized' | 'unknown';\r\n    authResponse: {\r\n        accessToken: string;\r\n    };\r\n}\r\n\r\ntype FacebookSdkRaw = {\r\n    init: (options: any) => void;\r\n    login: (callback: (response: FacebookLoginStatusResponse) => void) => void;\r\n    logout: (callback: (response: FacebookLoginStatusResponse) => void) => void;\r\n    getLoginStatus: (callback: (response: FacebookLoginStatusResponse) => void, force?: boolean) => void;\r\n};\r\n\r\ninterface FacebookSdk {\r\n    login: () => Promise<FacebookLoginStatusResponse>;\r\n    logout: () => Promise<FacebookLoginStatusResponse>;\r\n    getLoginStatus: (force?: boolean) => Promise<FacebookLoginStatusResponse>;\r\n}\r\n\r\ndeclare var FB: FacebookSdkRaw;\r\nlet hasStartedLoading = false;\r\nlet fb: FacebookSdk;\r\n\r\nconst getFacebookSdk = () => {\r\n    return fb = fb || {\r\n        getLoginStatus: (force) => {\r\n            return autoTimeout({\r\n                timeoutErrorMessage: 'Timeout: FacebookSdk.getLoginStatus',\r\n                errorMessage: 'Error: FacebookSdk.getLoginStatus',\r\n            }, () => {\r\n                return new Promise<FacebookLoginStatusResponse>((resolve, reject) => {\r\n                    FB.getLoginStatus(r => {\r\n                        resolve(r);\r\n                    }, force || false);\r\n                });\r\n            });\r\n        },\r\n        login: () => {\r\n            return autoTimeout({\r\n                timeoutErrorMessage: 'Timeout: FacebookSdk.getLoginStatus',\r\n                errorMessage: 'Error: FacebookSdk.getLoginStatus',\r\n            }, () => {\r\n                return new Promise<FacebookLoginStatusResponse>((resolve, reject) => {\r\n                    FB.login(r => {\r\n                        resolve(r);\r\n                    });\r\n                });\r\n            });\r\n        },\r\n        logout: () => {\r\n            return autoTimeout({\r\n                timeoutErrorMessage: 'Timeout: FacebookSdk.getLoginStatus',\r\n                errorMessage: 'Error: FacebookSdk.getLoginStatus',\r\n            }, () => {\r\n                return new Promise<FacebookLoginStatusResponse>((resolve, reject) => {\r\n                    FB.logout(r => {\r\n                        resolve(r);\r\n                    });\r\n                });\r\n            });\r\n        },\r\n    };\r\n};\r\n\r\nlet resolves: ((value: FacebookSdk) => void)[] = [];\r\n\r\nconst resolveAll = () => {\r\n    const f = getFacebookSdk();\r\n    const r = resolves;\r\n    resolves = [];\r\n    r.forEach(x => x(f));\r\n};\r\n\r\nexport function loadFacebookSdk(): Promise<FacebookSdk> {\r\n    return new Promise<FacebookSdk>((resolve, reject) => {\r\n        if (fb) {\r\n            resolve(fb);\r\n            return;\r\n        }\r\n\r\n        resolves.push(resolve);\r\n\r\n        if (hasStartedLoading) {\r\n            return;\r\n        }\r\n\r\n        hasStartedLoading = true;\r\n        console.log('START loadFacebookSdk');\r\n\r\n        (window as any).fbAsyncInit = function () {\r\n            FB.init({\r\n                appId: facebookAppId,\r\n                cookie: true,  // enable cookies to allow the server to access \r\n                // the session\r\n                xfbml: false,  // parse social plugins on this page\r\n                version: 'v2.8' // use graph api version 2.8\r\n            });\r\n            // FB.getLoginStatus((response) => {\r\n            //     // statusChangeCallback(response);\r\n            // });\r\n            resolveAll();\r\n            console.log('END loadFacebookSdk');\r\n        };\r\n\r\n        // Load the SDK asynchronously\r\n        (function (d, s, id) {\r\n            var js, fjs = d.getElementsByTagName(s)[0];\r\n            if (d.getElementById(id)) return;\r\n            js = d.createElement(s) as HTMLScriptElement;\r\n            js.id = id;\r\n            js.src = \"//connect.facebook.net/en_US/sdk.js\";\r\n            fjs.parentNode.insertBefore(js, fjs);\r\n        }(document, 'script', 'facebook-jssdk'));\r\n    });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/account/facebook-sdk-web.ts","import * as RX from 'reactxp';\r\nimport ImageSvg, { SvgPath } from 'reactxp-imagesvg';\r\nimport { IconBase, IconProps } from './icon-base';\r\n\r\nexport const BookIcon = (props: IconProps) => (\r\n    <IconBase viewBox='0 0 40 40' {...props} >\r\n        <SvgPath strokeColor={props.style.strokeColor} fillColor={props.style.fillColor} \r\n            // tslint:disable-next-line:max-line-length\r\n            d='m38.1 10.7q0.9 1.2 0.4 2.9l-6.1 20.2q-0.5 1.4-1.8 2.4t-2.7 0.9h-20.6q-1.7 0-3.3-1.2t-2.2-2.9q-0.6-1.5-0.1-2.8 0-0.1 0.1-0.6t0.1-0.9q0-0.1-0.1-0.4t-0.1-0.5q0.1-0.2 0.2-0.4t0.4-0.6 0.4-0.5q0.5-0.8 1-2t0.6-2.1q0.1-0.2 0-0.6t0-0.7q0.1-0.2 0.4-0.6t0.4-0.5q0.5-0.8 0.9-2.1t0.6-2q0-0.2-0.1-0.7t0-0.6q0.1-0.3 0.5-0.7t0.5-0.5q0.4-0.6 1-1.9t0.6-2.1q0-0.2-0.1-0.6t0-0.6q0-0.2 0.2-0.4t0.4-0.5 0.4-0.5q0.1-0.2 0.3-0.6t0.4-0.8 0.3-0.8 0.5-0.7 0.5-0.6 0.9-0.2 1 0.1l0 0.1q0.8-0.2 1.1-0.2h17q1.7 0 2.6 1.2t0.4 2.9l-6.2 20.2q-0.8 2.7-1.6 3.5t-2.8 0.7h-19.4q-0.6 0-0.9 0.4-0.2 0.3 0 0.9 0.5 1.6 3.2 1.6h20.6q0.7 0 1.3-0.4t0.8-0.9l6.7-22q0.1-0.5 0.1-1.3 0.8 0.3 1.3 1z m-23.8 0q-0.1 0.3 0.1 0.5t0.4 0.2h13.6q0.3 0 0.6-0.2t0.3-0.5l0.5-1.4q0.1-0.3 0-0.5t-0.5-0.2h-13.6q-0.2 0-0.5 0.2t-0.4 0.5z m-1.8 5.7q-0.1 0.3 0 0.5t0.5 0.2h13.5q0.3 0 0.6-0.2t0.4-0.5l0.5-1.4q0-0.3-0.1-0.5t-0.4-0.2h-13.6q-0.3 0-0.6 0.2t-0.4 0.5z'\r\n        />\r\n    </IconBase>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/icons/book.tsx","import * as RX from 'reactxp';\r\nimport ImageSvg, { SvgPath } from 'reactxp-imagesvg';\r\nimport { IconBase, IconProps } from './icon-base';\r\n\r\nexport const ClearIcon = (props: IconProps) => (\r\n    <IconBase viewBox='0 0 40 40' {...props} >\r\n        <SvgPath strokeColor={props.style.strokeColor} fillColor={props.style.fillColor} \r\n            // tslint:disable-next-line:max-line-length\r\n            d='m31.6 10.7l-9.3 9.3 9.3 9.3-2.3 2.3-9.3-9.3-9.3 9.3-2.3-2.3 9.3-9.3-9.3-9.3 2.3-2.3 9.3 9.3 9.3-9.3z'\r\n        />\r\n    </IconBase>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/icons/clear.tsx","import * as RX from 'reactxp';\r\nimport ImageSvg, { SvgPath } from 'reactxp-imagesvg';\r\nimport { IconBase, IconProps } from './icon-base';\r\n\r\nexport const FacebookIcon = (props: IconProps) => (\r\n    <IconBase viewBox='0 0 40 40' {...props} >\r\n        <SvgPath strokeColor={props.style.strokeColor} fillColor={props.style.fillColor} \r\n            // tslint:disable-next-line:max-line-length\r\n            d='m35.4 2.9q0.8 0 1.3 0.5t0.6 1.4v30.4q0 0.8-0.6 1.4t-1.3 0.5h-8.7v-13.2h4.4l0.7-5.2h-5.1v-3.3q0-1.3 0.5-1.9t2-0.6l2.7 0v-4.7q-1.4-0.2-3.9-0.2-3.1 0-4.9 1.8t-1.8 5.1v3.8h-4.5v5.2h4.5v13.2h-16.4q-0.8 0-1.3-0.5t-0.6-1.4v-30.4q0-0.8 0.6-1.4t1.3-0.5h30.5z'\r\n        />\r\n    </IconBase>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/icons/facebook.tsx","import * as RX from 'reactxp';\r\nimport ImageSvg, { SvgPath } from 'reactxp-imagesvg';\r\nimport { IconBase, IconProps } from './icon-base';\r\n\r\nexport const FeedbackIcon = (props: IconProps) => (\r\n    <IconBase viewBox='0 0 40 40' {...props} >\r\n        <SvgPath strokeColor={props.style.strokeColor} fillColor={props.style.fillColor} \r\n            // tslint:disable-next-line:max-line-length\r\n            d='m21.6 16.6v-6.6h-3.2v6.6h3.2z m0 6.8v-3.4h-3.2v3.4h3.2z m11.8-20q1.3 0 2.3 0.9t0.9 2.3v20q0 1.4-0.9 2.4t-2.3 1h-23.4l-6.6 6.6v-30q0-1.3 0.9-2.3t2.3-0.9h26.8z'\r\n        />\r\n    </IconBase>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/icons/feedback.tsx","import * as RX from 'reactxp';\r\nimport ImageSvg, { SvgPath } from 'reactxp-imagesvg';\r\nimport { IconBase, IconProps } from './icon-base';\r\n\r\nexport const MenuIcon = (props: IconProps) => (\r\n    <IconBase viewBox='0 0 40 40' {...props} >\r\n        <SvgPath strokeColor={props.style.strokeColor} fillColor={props.style.fillColor}\r\n            // tslint:disable-next-line:max-line-length\r\n            d='m5 10h30v3.4h-30v-3.4z m0 11.6v-3.2h30v3.2h-30z m0 8.4v-3.4h30v3.4h-30z'\r\n        />\r\n    </IconBase>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/icons/menu.tsx","import * as RX from 'reactxp';\r\nimport ImageSvg, { SvgPath } from 'reactxp-imagesvg';\r\nimport { IconBase, IconProps } from './icon-base';\r\n\r\nexport const RocketIcon = (props: IconProps) => (\r\n    <IconBase viewBox='0 0 40 40' {...props} >\r\n        <SvgPath strokeColor={props.style.strokeColor} fillColor={props.style.fillColor} \r\n            // tslint:disable-next-line:max-line-length\r\n            d='m33.1 10q0-0.9-0.6-1.5t-1.5-0.6-1.5 0.6-0.6 1.5 0.6 1.5 1.5 0.6 1.5-0.6 0.6-1.5z m5-6.4q0 5.5-1.6 9.6t-5.7 8q-1.8 1.8-4.4 4l-0.4 8.4q0 0.4-0.4 0.6l-8.5 5q-0.2 0.1-0.4 0.1-0.3 0-0.5-0.2l-1.4-1.4q-0.3-0.4-0.2-0.8l1.9-6.1-6.3-6.3-6.1 1.9q-0.1 0-0.2 0-0.4 0-0.6-0.2l-1.4-1.4q-0.4-0.4-0.1-0.9l5-8.5q0.2-0.4 0.6-0.4l8.4-0.4q2.2-2.6 4-4.4 4.2-4.2 8-5.8t9.6-1.5q0.3 0 0.5 0.2t0.2 0.5z'\r\n        />\r\n    </IconBase>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/icons/rocket.tsx","import * as RX from 'reactxp';\r\nimport ImageSvg, { SvgPath } from 'reactxp-imagesvg';\r\nimport { IconBase, IconProps } from './icon-base';\r\n\r\nexport const SearchIcon = (props: IconProps) => (\r\n    <IconBase viewBox='0 0 40 40' {...props} >\r\n        <SvgPath strokeColor={props.style.strokeColor} fillColor={props.style.fillColor} \r\n            // tslint:disable-next-line:max-line-length\r\n            d='m27.2 18.6q0-4.2-2.9-7.1t-7.1-2.9-7 2.9-3 7.1 2.9 7 7.1 3 7.1-3 2.9-7z m11.4 18.5q0 1.2-0.8 2.1t-2 0.8q-1.2 0-2-0.8l-7.7-7.7q-4 2.8-8.9 2.8-3.2 0-6.1-1.3t-5-3.3-3.4-5-1.2-6.1 1.2-6.1 3.4-5.1 5-3.3 6.1-1.2 6.1 1.2 5 3.3 3.4 5.1 1.2 6.1q0 4.9-2.7 8.9l7.6 7.6q0.8 0.9 0.8 2z'\r\n        />\r\n    </IconBase>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/icons/search.tsx","import * as RX from 'reactxp';\r\nimport { SimpleComponentBase } from '../simple-component-base';\r\n\r\nconst styles = {\r\n    fullRow: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flex: 1,\r\n    }),\r\n    fullColumn: RX.Styles.createViewStyle({\r\n        flexDirection: 'column',\r\n        flex: 1,\r\n    }),\r\n};\r\n\r\nexport class MainLayout extends SimpleComponentBase<\r\n    {\r\n        backgroundColor?: string,\r\n        // sideContent?: JSX.Element,\r\n        headerContent?: JSX.Element,\r\n        footerContent?: JSX.Element,\r\n        footerHeight: number,\r\n        onScrollReachEnd: () => void,\r\n    }, {\r\n        isExpanded?: boolean,\r\n        isHeaderFixed?: boolean\r\n    }> {\r\n\r\n    private onScroll = () => {\r\n        // From: https://stackoverflow.com/questions/1145850/how-to-get-height-of-entire-document-with-javascript\r\n        const body = document.body;\r\n        const html = document.documentElement;\r\n        const contentHeight = Math.max(body.scrollHeight, body.offsetHeight,\r\n            html.clientHeight, html.scrollHeight, html.offsetHeight);\r\n\r\n        const yTop = document.body.scrollTop;\r\n        const viewHeight = document.body.clientHeight;\r\n        const yBottom = yTop + viewHeight;\r\n\r\n        // console.log('onScroll', { yBottom, contentHeight, viewHeight, yTop });\r\n\r\n        if (yBottom > contentHeight - 100) {\r\n            this.props.onScrollReachEnd && this.props.onScrollReachEnd();\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        if (this.props.onScrollReachEnd) {\r\n            window.addEventListener('scroll', this.onScroll);\r\n            this.onScroll();\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.props.onScrollReachEnd) {\r\n            window.removeEventListener('scroll', this.onScroll);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={`width:100%; height: 100%; background-color: ${this.props.backgroundColor}`}>\r\n                <div style='width:100%'>\r\n                    {this.props.headerContent}\r\n                </div>\r\n                <div style='width:100%; display:flex;'>\r\n                    {/*<RX.View>\r\n                        {this.props.sideContent}\r\n                    </RX.View>*/}\r\n                    <RX.View style={styles.fullColumn}>\r\n                        {this.props.children}\r\n                    </RX.View>\r\n                </div>\r\n                <div style={`height:${this.props.footerHeight}px;`}>\r\n                    {/* Footer Placeholder - margin-bottom didn't work in Safari*/}\r\n                </div>\r\n                <AutoHideHeader>\r\n                    {this.props.headerContent}\r\n                </AutoHideHeader>\r\n                <div style='position:fixed; bottom: 0; width: 100%;'>\r\n                    {this.props.footerContent}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class AutoHideHeader extends SimpleComponentBase<\r\n    {\r\n    }, {\r\n        isVisible: boolean\r\n        clonedChildren?: any,\r\n    }> {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        setTimeout(() => {\r\n            this.state = {\r\n                isVisible: false,\r\n                clonedChildren: RX.Children.map(this.props.children, c => c),\r\n            };\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', this.handleScroll);\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.handleScroll);\r\n    }\r\n\r\n    private _lastScrollY = 0;\r\n    handleScroll = (e: any) => {\r\n\r\n        const scrollY = window.scrollY;\r\n        const dy = scrollY - this._lastScrollY;\r\n\r\n        const isVisible = this.state.isVisible;\r\n\r\n        // Make invisible if negative scroll (mobile web)\r\n        if (scrollY < 0) {\r\n            if (isVisible) {\r\n                this.setState({\r\n                    isVisible: false\r\n                });\r\n            }\r\n            return;\r\n        }\r\n\r\n        // Ignore small changes\r\n        if (Math.abs(dy) < 100) {\r\n            return;\r\n        }\r\n\r\n        this._lastScrollY = scrollY;\r\n\r\n        if (!isVisible && dy < 0) {\r\n            this.setState({\r\n                isVisible: true\r\n            });\r\n        } else if (isVisible && dy > 0) {\r\n            this.setState({\r\n                isVisible: false\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (this.state.isVisible &&\r\n            <div style='position:fixed; top: 0; width: 100%;'>\r\n                {this.state.clonedChildren}\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/layout/main-layout.tsx","import * as RX from 'reactxp';\r\n\r\nexport class SimpleComponentBase<T = {}, S = {}> extends RX.Component<T & { children?: JSX.Element | null }, S> {\r\n    // constructor() {\r\n    //     super();\r\n    //     this.state = {} as any;\r\n    // }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/simple-component-base.tsx","import { ViewOnLayoutEvent } from 'reactxp/dist/common/Types';\r\nimport * as RX from 'reactxp';\r\nimport { styles, sizes, colors } from '../../styles';\r\nimport { NewsIcon } from '../common/icons/news';\r\nimport { LocalIcon } from '../common/icons/local';\r\nimport { DirectoryIcon } from '../common/icons/directory';\r\nimport { HomeIcon } from '../common/icons/home';\r\nimport { MenuIcon } from '../common/icons/menu';\r\nimport { Store } from '../../store/store';\r\nimport { storeComp } from '../common/store-component-base';\r\nimport { Debug } from '../common/utils/debug';\r\nimport { SearchIcon } from \"../common/icons/search\";\r\nimport { ClearIcon } from \"../common/icons/clear\";\r\nimport { FeedbackButton } from \"../smart/feedbackButton\";\r\nimport { PageName, PageTabList } from \"../pages/page-names\";\r\nimport { PageIcon } from \"../pages/page-selector\";\r\n\r\nexport interface PostsStoreProvider {\r\n    getIsLoading(): boolean;\r\n\r\n    setSearch?(value: string): void;\r\n    getSearch?(): string;\r\n}\r\n\r\n\r\nexport const TabBar = (props: { store: Store }) => {\r\n    return (\r\n        <RX.View style={[styles.tabBar]} >\r\n            {PageTabList.map(x=>(\r\n                <PageTab name={x} store={props.store} />\r\n            ))}\r\n        </RX.View>\r\n    );\r\n};\r\n\r\nconst PageTab = (props: { name: PageName, store: Store, title?: string }) => storeComp(() => ({\r\n    active: props.store.getPage()\r\n}), (state) => {\r\n\r\n    // Cache Action in Store    \r\n    const s = props.store.uiActions;\r\n    const n = 'PageTab_onPress_' + props.name;\r\n    const onPress = s[n] = s[n] || (() => props.store.gotoPage(props.name));\r\n\r\n    // Creates an arrow function every render\r\n    // const onPress = () => props.store.gotoPage(props.name);\r\n\r\n    const active = state.active;\r\n    const buttonStyle = props.name === active ? styles.tab_button_active : styles.tab_button;\r\n    const textStyle = props.name === active ? styles.tab_text_active : styles.tab_text;\r\n    const iconStyle = props.name === active ? styles.tabIcon_active : styles.tabIcon;\r\n    const icon = (\r\n        <PageIcon pageName={props.name} iconStyle={iconStyle} />\r\n    );\r\n\r\n    return (\r\n        <RX.Button style={buttonStyle} onPress={onPress}>\r\n            <RX.View style={styles.center_content}>{icon}</RX.View>\r\n            <RX.Text style={textStyle}>{props.title || props.name}</RX.Text>\r\n        </RX.Button>\r\n    );\r\n});\r\n\r\n\r\nexport const Loader = (props: { store: PostsStoreProvider }) => storeComp(() => ({\r\n    isLoading: props.store.getIsLoading(),\r\n}), (state) => {\r\n\r\n    // console.log('Loader.render', state.isLoading);\r\n\r\n    return state.isLoading && (\r\n        <RX.View style={styles.loader}>\r\n            <RX.ActivityIndicator size={'medium'} color={colors.loader} />\r\n        </RX.View>\r\n    );\r\n});\r\n\r\nexport const MiniLoader = (props: { store: PostsStoreProvider }) => storeComp(() => ({\r\n    isLoading: props.store.getIsLoading(),\r\n    isWeb: RX.Platform.getType() === 'web'\r\n}), (state) => {\r\n\r\n    // console.log('Loader.render', state.isLoading);\r\n\r\n    return (\r\n        <RX.View style={styles.mini_loader}>\r\n            {state.isLoading && (\r\n                state.isWeb ? (\r\n                    <RX.View style={styles.mini_loader_container_web} >\r\n                        <RX.ActivityIndicator size={'tiny'} color={colors.mini_loader_web} deferTime={0} />\r\n                    </RX.View>\r\n                ) : (\r\n                        <RX.ActivityIndicator size={'tiny'} color={colors.mini_loader_native} deferTime={0} />\r\n                    )\r\n            )}\r\n        </RX.View>\r\n    );\r\n});\r\n\r\nexport const AppIconImage = () => (\r\n    <RX.View style={styles.headerBar_appIconImage_view}>\r\n        <RX.Image style={styles.headerBar_appIconImage} source='/static/images/icon_24.png'></RX.Image>\r\n    </RX.View>\r\n);\r\n\r\nexport const AppImage = () => (\r\n    <RX.View style={styles.appImage_view}>\r\n        <RX.Image style={styles.appImage} source='/static/images/icon_128.png'></RX.Image>\r\n    </RX.View>\r\n);\r\n\r\nexport const HeaderBar = (props: { store: PostsStoreProvider }) => storeComp(() => ({\r\n    hasSearch: props.store.getSearch,\r\n    search: props.store.getSearch && props.store.getSearch(),\r\n}), (state) => {\r\n\r\n    let s = state.search;\r\n    let searchTimeoutId: any = null;\r\n\r\n    const setSearch = (value: string) => {\r\n        s = value;\r\n\r\n        clearTimeout(searchTimeoutId);\r\n        searchTimeoutId = setTimeout(onDone, 1000);\r\n    };\r\n\r\n    const clearSearch = () => {\r\n        clearTimeout(searchTimeoutId);\r\n        props.store.setSearch('');\r\n    };\r\n\r\n    const onDone = () => {\r\n        clearTimeout(searchTimeoutId);\r\n        props.store.setSearch(s);\r\n    };\r\n\r\n    return (\r\n        <RX.View style={styles.headerBar}>\r\n            <AppIconImage />\r\n            <MiniLoader store={props.store} />\r\n            {state.hasSearch ? (\r\n                <RX.View style={styles.searchBox_view}>\r\n                    <SearchIcon style={styles.searchIcon} />\r\n                    <SearchTextBox value={state.search} setValue={setSearch} onDone={onDone} />\r\n                    <RX.Button onPress={clearSearch}>\r\n                        <ClearIcon style={styles.searchIcon} />\r\n                    </RX.Button>\r\n                </RX.View>\r\n            ) : (\r\n                    <RX.View style={styles.flex1}>\r\n                    </RX.View>\r\n                )}\r\n            <RX.View style={styles.headerButtons}>\r\n                <FeedbackButton />\r\n            </RX.View>\r\n        </RX.View>\r\n    );\r\n});\r\n\r\nconst SearchTextBox = (props: { value: string, setValue: (value: string) => void, onDone: () => void }) => (\r\n    <RX.TextInput\r\n        style={styles.searchBox_text}\r\n        value={props.value}\r\n        onChangeText={props.setValue}\r\n        onSubmitEditing={props.onDone}\r\n        onBlur={props.onDone}\r\n        placeholder='Search'\r\n        placeholderTextColor={styles.searchBox_text_placeholder_color}\r\n    />\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/page/page-layout-common.tsx","import { storeComp } from '../common/store-component-base';\r\nimport * as RX from 'reactxp';\r\nimport { Store } from '../../store/store';\r\nimport { PageLayout } from \"./page-layout\";\r\nimport { PageSelector } from \"../pages/page-selector\";\r\n\r\nexport const Root = (props: { store: Store }) => storeComp(() => ({\r\n    page: props.store.getPage()\r\n}), (state) => (\r\n    <PageSelector store={props.store} pageName={state.page} />\r\n));\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/page/root.tsx","import * as RX from 'reactxp';\r\nimport { storeComp } from '../common/store-component-base';\r\nimport { Store } from '../../store/store';\r\nimport { PageLayout } from \"../page/page-layout\";\r\nimport { styles } from \"../../styles\";\r\nimport { PassageViewer } from \"../bible/passage\";\r\nimport { BibleStore } from \"../../store/bible-store\";\r\nimport { PassageChooser } from \"../bible/passage-chooser\";\r\n\r\nexport const InteractPage = (props: { store: Store }) => (\r\n    <PageLayout store={props.store} postsStore={props.store.bibleStore}>\r\n        <RX.View style={styles.page}>\r\n            <InteractView store={props.store} />\r\n        </RX.View>\r\n    </PageLayout>\r\n);\r\n\r\nexport const InteractView = (props: { store: Store }) => storeComp(() => ({\r\n    passage: props.store.bibleStore.getPassage(),\r\n}), (state) => {\r\n    // console.log('InteractView  RENDER', { state, passage: state.passage, active: state.passage.activeParts });\r\n    return (\r\n        <RX.View>\r\n            <PassageChooser bibleStore={props.store.bibleStore} />\r\n            <PassageViewer passage={state.passage} onPartDone={props.store.bibleStore.completePart} />\r\n        </RX.View>\r\n    );\r\n});\r\n\r\n// TODO: Debug not refreshing UI (but state is changing)\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/pages/interact-page.tsx","export type PageName = 'Empty'\r\n    | 'Newsfeed'\r\n    | 'Settings'\r\n    | 'Read'\r\n    | 'Interact'\r\n    ;\r\n\r\nexport const PageTabList: PageName[] = [\r\n    // 'Newsfeed',\r\n    // 'Read',\r\n    'Interact',\r\n    'Settings',\r\n];\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/pages/page-names.ts","import * as RX from 'reactxp';\r\nimport { storeComp } from '../common/store-component-base';\r\nimport { Store } from '../../store/store';\r\nimport { styles } from \"../../styles\";\r\nimport { PostList } from \"../posts/post-list\";\r\nimport { FacebookLogin } from \"../common/account/facebook-login\";\r\nimport { PostsBaseList } from \"../page/posts-base-list\";\r\nimport { PageLayout } from \"../page/page-layout\";\r\n\r\nexport const ReadPage = (props: { store: Store }) => (\r\n    <PageLayout store={props.store}>\r\n        <RX.View style={styles.page}>\r\n            <RX.Text>Read</RX.Text>\r\n        </RX.View>\r\n    </PageLayout>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/pages/read-page.tsx","import * as RX from 'reactxp';\r\nimport { Store } from '../../store/store';\r\nimport { styles } from \"../../styles\";\r\nimport { IconDemo } from \"../common/icons/icon-demo\";\r\nimport { FacebookLogin } from \"../common/account/facebook-login\";\r\nimport { storeComp } from \"../common/store-component-base\";\r\nimport { PageName } from \"../pages/page-names\";\r\nimport { PageLayout } from \"../page/page-layout\";\r\n\r\nexport const SettingsPage = (props: { store: Store }) => storeComp(() => ({\r\n    loginError: props.store.account.getError(),\r\n    isLoggedIn: props.store.account.getIsFacebookLoggedIn(),\r\n    accountMessage: `accessToken = '${(props.store.account.getFacebookAccessToken() || '').substr(0, 10) + '...'}'`,\r\n    platform: RX.Platform.getType(),\r\n}), (state) => (\r\n    <PageLayout store={props.store}>\r\n        <RX.View style={styles.page}>\r\n            {!!state.loginError && <RX.Text style={styles.warning_text}>{state.loginError}</RX.Text>}\r\n\r\n            <RX.View style={styles.heading}>\r\n                <RX.Text style={styles.heading_text}>\r\n                    Settings\r\n                </RX.Text>\r\n            </RX.View>\r\n\r\n            <RX.View style={styles.postPanel}>\r\n                <RX.View style={[styles.fullRow, styles.center_content]}>\r\n                    <RX.View style={styles.flex1}>\r\n                        <RX.Text>Facebook: </RX.Text>\r\n                    </RX.View>\r\n                    <FacebookLogin onLoginFinished={props.store.account.onLoginFinished} onError={props.store.account.setLoginError} />\r\n                </RX.View>\r\n            </RX.View>\r\n\r\n            <RX.View style={styles.heading}>\r\n                <RX.Text style={styles.heading_text}>\r\n                    Other Pages\r\n                </RX.Text>\r\n            </RX.View>\r\n\r\n            <RX.View style={styles.heading}>\r\n                <RX.Text style={styles.heading_text}>\r\n                    Debug\r\n                </RX.Text>\r\n            </RX.View>\r\n            <RX.View style={styles.postPanel}>\r\n                <RX.View style={styles.center_content}>\r\n                    <RX.Text>{state.accountMessage}</RX.Text>\r\n                    <RX.Text>Platform: '{state.platform}'</RX.Text>\r\n                </RX.View>\r\n            </RX.View>\r\n        </RX.View>\r\n    </PageLayout>\r\n));\r\n\r\nconst PageLink = (props: { store: Store, title: string, pageName: PageName }) => (\r\n    <RX.View style={styles.postPanel}>\r\n        <RX.View style={[styles.fullRow, styles.center_content]}>\r\n            <RX.View style={styles.flex1}>\r\n                <RX.Text>{props.title}</RX.Text>\r\n            </RX.View>\r\n            <RX.Button style={styles.action_button} onPress={() => props.store.gotoPage(props.pageName)}>\r\n                <RX.Text style={styles.action_button_text}>Open {props.title}</RX.Text>\r\n            </RX.Button>\r\n        </RX.View>\r\n    </RX.View>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/pages/settings-page.tsx","import * as RX from 'reactxp';\r\nimport { colors, styles } from '../../styles';\r\nimport { FeedbackIcon } from \"../common/icons/feedback\";\r\n\r\nconst formLinkUrl = 'https://goo.gl/forms/FORM_URL?';\r\n\r\nconst style = { ...styles.postIcon_action, fillColor: colors.actionIcons.e_yellow };\r\n\r\nconst feedbackOnPress = () => {\r\n    RX.Linking.openUrl(formLinkUrl);\r\n};\r\n\r\nexport const FeedbackButton = () => (\r\n    <RX.Button onPress={feedbackOnPress}>\r\n        <FeedbackIcon style={style} />\r\n    </RX.Button>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/smart/feedbackButton.tsx","import * as XP from 'reactxp';\r\nimport { StorageType } from './storageType';\r\n\r\nclass StorageClass implements StorageType {\r\n\r\n    constructor() {\r\n        console.log('Using StorageClass (native)');\r\n    }\r\n\r\n    getItem(key: string): Promise<string> {\r\n        return XP.Storage.getItem(key);\r\n    }\r\n    getItem_noMemCache(key: string): Promise<string> {\r\n        return XP.Storage.getItem(key);\r\n    }\r\n    setItem(key: string, value: string): Promise<void> {\r\n        return XP.Storage.setItem(key, value);\r\n    }\r\n    setItem_noMemCache(key: string, value: string): Promise<void> {\r\n        return XP.Storage.setItem(key, value);\r\n    }\r\n    hasItem = async (key: string): Promise<boolean> => {\r\n        return (await XP.Storage.getItem(key)) != null;\r\n    }\r\n\r\n}\r\n\r\nexport const Storage = new StorageClass() as StorageType;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/extensions/storage/storage.native.tsx","import * as XP from 'reactxp';\r\nimport { StorageType } from './storageType';\r\nimport { Storage as StorageNative } from './storage.native';\r\n\r\nclass StorageClass implements StorageType {\r\n\r\n    constructor() {\r\n        console.log('Using StorageClass (web-memStorage/localStorage)');\r\n    }\r\n\r\n    private _supportsLocalStorage: boolean = undefined;\r\n    get supportsLocalStorage() {\r\n        return this._supportsLocalStorage !== undefined ? this._supportsLocalStorage\r\n            : this._supportsLocalStorage = testLocalStorage();\r\n    }\r\n\r\n    private _memCache: { [key: string]: string } = {};\r\n\r\n    async getItem(key: string): Promise<string> {\r\n        if (this._memCache[key] === undefined) {\r\n            this._memCache[key] = await this.getItem_noMemCache(key);\r\n        }\r\n\r\n        return this._memCache[key];\r\n    }\r\n\r\n    async getItem_noMemCache(key: string): Promise<string> {\r\n        // console.log('getItem_noMemCache', { key });\r\n\r\n        if (this.supportsLocalStorage) {\r\n            return localStorage.getItem(key);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    async setItem(key: string, value: string) {\r\n        this._memCache[key] = value;\r\n        this.setItem_noMemCache(key, value);\r\n    }\r\n\r\n    async setItem_noMemCache(key: string, value: string) {\r\n        // console.log('setItem_noMemCache', { key, value });\r\n        if (this.supportsLocalStorage) {\r\n            return localStorage.setItem(key, value);\r\n        }\r\n    }\r\n\r\n    async hasItem(key: string) {\r\n        return this.getItem(key) !== undefined;\r\n    }\r\n}\r\n\r\nfunction testLocalStorage() {\r\n    try {\r\n        if (typeof localStorage === undefined) { return false; }\r\n        const key = '___test' + Math.random();\r\n        const value = 'Test Value';\r\n        localStorage[key] = value;\r\n        const isOk = localStorage[key] === value;\r\n        localStorage.removeItem(key);\r\n        return isOk;\r\n    } catch (err) {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport const Storage =\r\n    XP.Platform.getType() === 'web' ? new StorageClass() as StorageType\r\n        : StorageNative;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/extensions/storage/storage.tsx","import * as RX from 'reactxp';\r\n\r\nimport { Store } from './store/store';\r\n\r\nexport function handleRoute() {\r\n    if (RX.Platform.getType() !== 'web') { return; }\r\n\r\n    const query = location.search;\r\n    const m = query.match(/\\Wpath=([^&]+)(?:&|$)/);\r\n    const qPath = m && m[1];\r\n    const path = qPath || location.pathname;\r\n\r\n    console.log('handleRoute', { path });\r\n\r\n    const parts = path.replace(/^\\//,'').split('/');\r\n    const page = (parts[0] || '').toLowerCase();\r\n\r\n    // if (page === 'custom') {\r\n    //     const id = parts[1];\r\n\r\n    //     if (id) {\r\n    //         Store.route_openCustomPage(id);\r\n    //         return;\r\n    //     }\r\n    // }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/routes.ts","import { ChapterData, BibleMetadata } from \"../components/bible/types\";\r\n\r\n// https://toldreactbible.blob.core.windows.net/bibles/WEB/WEB_01_Gen_001.json\r\n\r\nexport async function downloadBibleMetadata(versionKey: string) {\r\n    const url = `https://toldreactbible.blob.core.windows.net/bibles/${versionKey}/${versionKey}__bible.meta.json`;\r\n    const result = await fetch(url);\r\n    const obj = await result.json();\r\n    console.log('downloadBibleMetadata', { data: obj.data, obj, result });\r\n    return obj.data as BibleMetadata;\r\n}\r\n\r\n// https://toldreactbible.blob.core.windows.net/bibles/WEB/WEB_01_Gen_001.json\r\n\r\nexport async function downloadBibleChapterData(versionKey: string, bookNumber: number, bookKey: string, chapterNumber: number) {\r\n    const bookNumberPad2 = ('00' + bookNumber).substr(-2);\r\n    const chapterNumberPad3 = ('000' + chapterNumber).substr(-3);\r\n    const url = `https://toldreactbible.blob.core.windows.net/bibles/${versionKey}/${versionKey}_${bookNumberPad2}_${bookKey}_${chapterNumberPad3}.json`;\r\n    const result = await fetch(url);\r\n    const obj = await result.json();\r\n    return obj.data as ChapterData;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/server-access/bible-data.ts","export const facebookAppId = '12345'; // localhost:3100\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings.dev.ts","export * from './settings.dev';\r\n// export * from './settings.prod';\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings.ts","import { StoreBase, AutoSubscribeStore, autoSubscribe } from 'resub';\r\n\r\nimport { autoDeviceStorage } from '../extensions/storage/autoDeviceStorage';\r\nimport { FacebookAccess } from \"../components/common/account/facebook-login\";\r\n\r\n@AutoSubscribeStore\r\nexport class AccountStoreClass extends StoreBase {\r\n\r\n    // @autoDeviceStorage(false, 'AccountStore')\r\n    private _isFacebookLoggedIn: boolean = false;\r\n\r\n    // @autoDeviceStorage(null, 'AccountStore')\r\n    private _accessToken: string;\r\n\r\n    private _error: string = null;\r\n\r\n    @autoSubscribe\r\n    getError() {\r\n        return this._error;\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        // setTimeout(this.load, 5);\r\n    }\r\n\r\n    setLoginError = (message: string, data: any) => {\r\n        try {\r\n            this._error = message + ': ' + JSON.stringify(data);\r\n        } catch (err) {\r\n            this._error = message + ': ' + data;\r\n        }\r\n\r\n        // Erase the access token on error?\r\n        this._accessToken = null;\r\n        this._isFacebookLoggedIn = false;\r\n        this.trigger();\r\n        console.error(message, data);\r\n    };\r\n\r\n    load = async () => {\r\n        try {\r\n            await this.getFacebookAccessToken_async();\r\n            this._isFacebookLoggedIn = this._accessToken != null;\r\n            this.trigger();\r\n            // this._accessToken = await FacebookAccess.getCurrentAccessToken();\r\n            // this._isFacebookLoggedIn = true;\r\n            // this.trigger();\r\n            // console.log('Facebook access token', this._accessToken);\r\n        } catch (err) {\r\n            // this._accessToken = null;\r\n            // this._isFacebookLoggedIn = false;\r\n            // this.trigger();\r\n            console.log('Facebook did not return an access token on load', err);\r\n        }\r\n    }\r\n\r\n    @autoSubscribe\r\n    getIsFacebookLoggedIn() {\r\n        return this._isFacebookLoggedIn;\r\n    }\r\n\r\n    @autoSubscribe\r\n    getFacebookAccessToken() {\r\n        console.log('getFacebookAccessToken', { accessToken: this._accessToken });\r\n        return this._accessToken;\r\n    }\r\n\r\n    getFacebookAccessToken_async = async () => {\r\n        const accessToken = await FacebookAccess.getCurrentAccessToken();\r\n        console.log('getFacebookAccessToken_async', { accessToken });\r\n\r\n        this._accessToken = accessToken;\r\n    };\r\n\r\n    onLoginFinished = (accessToken: string) => {\r\n        console.log('onLoginFinished', { accessToken });\r\n\r\n        this._accessToken = accessToken;\r\n        this._isFacebookLoggedIn = true;\r\n        this.trigger();\r\n    };\r\n}\r\n\r\nexport const AccountStore = new AccountStoreClass();\r\nexport type AccountStore = AccountStoreClass;\n\n\n// WEBPACK FOOTER //\n// ./src/app/store/account-store.ts","import { StoreBase, AutoSubscribeStore, autoSubscribe } from 'resub';\r\n\r\nimport { autoDeviceStorage } from '../extensions/storage/autoDeviceStorage';\r\nimport { FacebookAccess } from \"../components/common/account/facebook-login\";\r\nimport { Passage, BibleMetadata, BibleData, PassagePart } from \"../components/bible/types\";\r\nimport { PassagePartsGenerator } from \"../components/bible/passage-parts-generator\";\r\nimport { downloadBibleChapterData, downloadBibleMetadata } from \"../server-access/bible-data\";\r\nimport { delay } from \"./helpers\";\r\n\r\n@AutoSubscribeStore\r\nexport class BibleStoreClass extends StoreBase {\r\n\r\n    _isLoading = false;\r\n    // TODO: Download Metadata and Data\r\n\r\n    _bibleData: BibleData;\r\n\r\n    _bibleMetadata: BibleMetadata;\r\n\r\n    @autoDeviceStorage(null, 'Bible')\r\n    _selectedBookKey: string;\r\n\r\n    @autoDeviceStorage(null, 'Bible')\r\n    _selectedChapterNumber: number;\r\n\r\n    @autoDeviceStorage(null, 'Bible')\r\n    _selectedVerseNumber: number;\r\n\r\n    _passage: Passage;\r\n\r\n    constructor() {\r\n        super();\r\n        setTimeout(() => {\r\n            this.ensureLoad();\r\n        });\r\n    }\r\n\r\n    private ensureLoad = async () => {\r\n        let val = null as any;\r\n        val = this._selectedBookKey;\r\n        val = this._selectedChapterNumber;\r\n        val = this._selectedVerseNumber;\r\n    };\r\n\r\n    @autoSubscribe\r\n    getIsLoading() {\r\n        return this._isLoading;\r\n    }\r\n\r\n    startLoading = () => {\r\n        this._isLoading = true;\r\n        this.trigger();\r\n    };\r\n\r\n    endLoading = () => {\r\n        this._isLoading = false;\r\n        this.trigger();\r\n    };\r\n\r\n    @autoSubscribe\r\n    getPassageMetadata() {\r\n\r\n        if (!this._bibleMetadata) {\r\n            setTimeout(async () => {\r\n                this.startLoading();\r\n                await this.getPassageMetadata_async();\r\n                this.endLoading();\r\n\r\n                console.log('getPassageMetadata ASYNC END TRIGGER');\r\n            });\r\n        }\r\n\r\n        return this.getPassageMetadata_inner();\r\n    }\r\n\r\n    private getPassageMetadata_async = async () => {\r\n        if (!this._bibleMetadata) {\r\n            await this.downloadMetadata();\r\n        }\r\n\r\n        return this.getPassageMetadata_inner();\r\n    }\r\n\r\n    private getPassageMetadata_inner() {\r\n\r\n        const bookMetadata = this._bibleMetadata && this._selectedBookKey && this._bibleMetadata.books.filter(x => x.bookID === this._selectedBookKey)[0];\r\n        const chapterMetadata = bookMetadata && this._selectedChapterNumber && bookMetadata.chapters[this._selectedChapterNumber - 1];\r\n\r\n        return {\r\n            bookKey: this._selectedBookKey,\r\n            chapterNumber: this._selectedChapterNumber,\r\n            verseNumber: this._selectedVerseNumber,\r\n\r\n            bookIndex: bookMetadata && bookMetadata.bookIndex || 0,\r\n            chapterIndex: (this._selectedChapterNumber || 1) - 1,\r\n            verseIndex: (this._selectedVerseNumber || 1) - 1,\r\n\r\n            books: this._bibleMetadata && this._bibleMetadata.books,\r\n            bookName: bookMetadata && bookMetadata.bookName,\r\n            chapterCount: bookMetadata && bookMetadata.chapterCount,\r\n            verseCount: chapterMetadata && chapterMetadata.verseCount,\r\n        };\r\n    }\r\n\r\n    selectBook = (bookKey: string) => {\r\n        this._selectedBookKey = bookKey;\r\n        this._selectedChapterNumber = null;\r\n        this._selectedVerseNumber = null;\r\n        this.reloadPassage();\r\n    };\r\n\r\n    selectChapter = (chapterNumber: number | string) => {\r\n        this._selectedChapterNumber = 1 * (chapterNumber as number);\r\n        this._selectedVerseNumber = null;\r\n        this.reloadPassage();\r\n    };\r\n\r\n    selectVerse = (verseNumber: number | string) => {\r\n        this._selectedVerseNumber = 1 * (verseNumber as number);\r\n        this.reloadPassage();\r\n    };\r\n\r\n    @autoSubscribe\r\n    getPassage() {\r\n        console.log('getPassage START', { _passage: this._passage });\r\n\r\n        if (!this._passage) {\r\n            this._passage = {\r\n                previousParts: [],\r\n                activeParts: [],\r\n                nextParts: [],\r\n            };\r\n\r\n            this.reloadPassage();\r\n        }\r\n\r\n        console.log('getPassage END', { _passage: this._passage });\r\n\r\n        return this._passage;\r\n    }\r\n\r\n    reloadPassage = () => {\r\n        setTimeout(async () => {\r\n            this.startLoading();\r\n            await this.generatePassage();\r\n            console.log('getPassage ASYNC TRIGGERING', { _passage: this._passage });\r\n            this.endLoading();\r\n            console.log('getPassage ASYNC END', { _passage: this._passage });\r\n        });\r\n    };\r\n\r\n    completePart = async (part: PassagePart) => {\r\n        console.log('completePart', { part, _passage: this._passage });\r\n\r\n        part._isDone = true;\r\n        if (this._passage.activeParts.every(x => x._isDone || x.kind !== 'choice')) {\r\n            console.log('completePart ActiveParts DONE', { part, _passage: this._passage });\r\n\r\n            this.startLoading();\r\n            await this.gotoAndGenerateNextPassage();\r\n            this.endLoading();\r\n\r\n            console.log('completePart TRIGGER', { part, _passage: this._passage });\r\n        }\r\n\r\n        console.log('completePart END', { part, _passage: this._passage });\r\n    };\r\n\r\n    private _passageGenerator = new PassagePartsGenerator();\r\n\r\n    private generatePassage = async () => {\r\n        console.log('generatePassage START', { _passage: this._passage });\r\n\r\n        if (!this._bibleMetadata) {\r\n            await this.downloadMetadata();\r\n        }\r\n\r\n        this._selectedBookKey = this._selectedBookKey || this._bibleMetadata.books[0].bookID;\r\n        this._selectedChapterNumber = this._selectedChapterNumber || 1;\r\n        this._selectedVerseNumber = this._selectedVerseNumber || 1;\r\n\r\n        this._passage = {\r\n            previousParts: this._passageGenerator.createParts(await this.getVerseDataAtOffset(-1), false),\r\n            activeParts: this._passageGenerator.createParts(await this.getVerseDataAtOffset(0), true),\r\n            nextParts: this._passageGenerator.createParts(await this.getVerseDataAtOffset(1), true)\r\n        };\r\n\r\n        console.log('generatePassage END', { _passage: this._passage });\r\n    }\r\n\r\n    private gotoAndGenerateNextPassage = async () => {\r\n        console.log('gotoAndGenerateNextPassage START', { _passage: this._passage });\r\n\r\n        await this.gotoNextVerseReference();\r\n        this._passage = {\r\n            //previousParts: [...this._passage.previousParts, ...this._passage.activeParts.map(x => { x._key += 'done'; return x; })],\r\n            previousParts: [...this._passage.previousParts, ...this._passage.activeParts],\r\n            activeParts: [...this._passage.nextParts],\r\n            nextParts: this._passageGenerator.createParts(await this.getVerseDataAtOffset(1), true)\r\n        };\r\n\r\n        console.log('gotoAndGenerateNextPassage END', { _passage: this._passage });\r\n    };\r\n\r\n    private gotoNextVerseReference = async () => {\r\n        const m = await this.getPassageMetadata_async();\r\n\r\n        if (m.verseIndex + 1 <= m.verseCount) {\r\n            this._selectedVerseNumber++;\r\n            return;\r\n        }\r\n\r\n        if (m.chapterIndex < m.chapterCount) {\r\n            this._selectedVerseNumber = 1;\r\n            this._selectedChapterNumber++;\r\n            return;\r\n        }\r\n    };\r\n\r\n    private getVerseDataAtOffset = async (verseOffset: number) => {\r\n        const m = await this.getPassageMetadata_async();\r\n\r\n        console.log('getVerseDataAtOffset START', { getPassageMetadata: m });\r\n\r\n\r\n        if (verseOffset >= 0) {\r\n            if (m.verseIndex + verseOffset <= m.verseCount) {\r\n                return await this.getVerseData(m.bookIndex, m.chapterIndex, m.verseIndex + verseOffset);\r\n            }\r\n\r\n            if (m.chapterIndex < m.chapterCount) {\r\n                return await this.getVerseData(m.bookIndex, m.chapterIndex + 1, 0);\r\n            }\r\n\r\n            console.warn('getVerseDataAtOffset: Past end of book');\r\n            return null;\r\n        }\r\n        else {\r\n            if (m.verseIndex + verseOffset >= 0) {\r\n                return await this.getVerseData(m.bookIndex, m.chapterIndex, m.verseIndex + verseOffset);\r\n            }\r\n\r\n            if (m.chapterIndex > 0) {\r\n                const vCount = this._bibleMetadata.books[m.bookIndex].chapters[m.chapterIndex - 1].verseCount;\r\n                return await this.getVerseData(m.bookIndex, m.chapterIndex - 1, vCount - 1);\r\n            }\r\n\r\n            console.warn('getVerseDataAtOffset: Past beginning of book');\r\n            return null;\r\n        }\r\n    };\r\n\r\n    private getVerseData = async (bookIndex: number, chapterIndex: number, verseIndex: number) => {\r\n\r\n        if (!this._bibleMetadata) {\r\n            await this.downloadMetadata();\r\n        }\r\n\r\n        const m = this._bibleMetadata;\r\n\r\n        console.log('getVerseData START', { _bibleData: this._bibleData, _bibleMetadata: this._bibleMetadata });\r\n\r\n        this._bibleData = this._bibleData || { books: [] };\r\n        this._bibleData.books[bookIndex] = this._bibleData.books[bookIndex] || { chapters: [], hasChapterDownloadStarted: [] };\r\n\r\n        if (this._bibleData.books[bookIndex].hasChapterDownloadStarted[chapterIndex]) {\r\n            while (!this._bibleData.books[bookIndex].chapters[chapterIndex]) {\r\n                await delay(500);\r\n            }\r\n        }\r\n\r\n        if (!this._bibleData.books[bookIndex].chapters[chapterIndex]) {\r\n            this._bibleData.books[bookIndex].hasChapterDownloadStarted[chapterIndex] = true;\r\n            this._bibleData.books[bookIndex].chapters[chapterIndex] =\r\n                await downloadBibleChapterData('WEB', bookIndex + 1, m.books[bookIndex].bookID, chapterIndex + 1);\r\n        }\r\n\r\n        console.log('getVerseData END', { _bibleData: this._bibleData, _bibleMetadata: this._bibleMetadata });\r\n\r\n        return this._bibleData.books[bookIndex].chapters[chapterIndex].verses[verseIndex];\r\n    }\r\n\r\n    private _downloadMetadata_busy = false;\r\n    private downloadMetadata = async () => {\r\n        console.log('downloadMetadata START', { _bibleMetadata: this._bibleMetadata, _downloadMetadata_busy: this._downloadMetadata_busy });\r\n\r\n        while (!this._bibleMetadata && this._downloadMetadata_busy) {\r\n            await delay(500);\r\n            console.log('downloadMetadata DELAY', { _bibleMetadata: this._bibleMetadata, _downloadMetadata_busy: this._downloadMetadata_busy });\r\n        }\r\n\r\n        console.log('downloadMetadata CONTINUE', { _bibleMetadata: this._bibleMetadata, _downloadMetadata_busy: this._downloadMetadata_busy });\r\n\r\n        this._downloadMetadata_busy = true;\r\n        if (!this._bibleMetadata) {\r\n            this._bibleMetadata = await downloadBibleMetadata('WEB');\r\n            this._downloadMetadata_busy = false;\r\n        }\r\n\r\n        console.log('downloadMetadata END', { _bibleMetadata: this._bibleMetadata, _downloadMetadata_busy: this._downloadMetadata_busy });\r\n    };\r\n}\r\n\r\nexport const BibleStore = new BibleStoreClass();\r\nexport type BibleStore = BibleStoreClass;\n\n\n// WEBPACK FOOTER //\n// ./src/app/store/bible-store.ts","export function isMatch(search: string, item: any) {\r\n    if (!search) { return true; }\r\n\r\n    search = search.toLowerCase();\r\n\r\n    for (let k in item) {\r\n        const v = item[k];\r\n        let s = (v + '').toLowerCase();\r\n        if (s.indexOf(search) >= 0) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nexport async function delay(time = 0) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, time);\r\n    });\r\n}\r\n\r\nexport function injectAds<TPost, TBusiness>(items: TPost[], adItems:TBusiness[]): (TPost|TBusiness)[] {\r\n\r\n    const merged = items.slice() as (TPost|TBusiness)[];\r\n    const bItems = adItems.map(x => ({ x: x, order: Math.random() })).sort((a, b) => a.order - b.order).map(x => x.x);\r\n\r\n    const itemsPerBusiness = 7 + Math.floor(Math.random() * 3);\r\n    const iFirstBusiness = 2 + Math.floor(Math.random() * 5);\r\n    let bIndex = 0;\r\n\r\n    for (let i = iFirstBusiness; i < merged.length; i += itemsPerBusiness + 1) {\r\n        if (bIndex >= bItems.length) {\r\n            break;\r\n        }\r\n\r\n        merged.splice(i, 0, bItems[bIndex++]);\r\n    }\r\n\r\n    merged.push(...bItems.slice(bIndex));\r\n\r\n    return merged;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/store/helpers.ts","import { StoreBase, AutoSubscribeStore, autoSubscribe } from 'resub';\r\nimport { autoDeviceStorage } from '../extensions/storage/autoDeviceStorage';\r\nimport { delay, isMatch } from './helpers';\r\nimport { AccountStore } from './account-store';\r\nimport { facebookClient } from '../server-access/facebook-client';\r\n// import { NewsFeedStore } from \"./news-feed-store\";\r\nimport { PageName } from \"../components/pages/page-names\";\r\nimport { BibleStore } from \"./bible-store\";\r\n\r\n@AutoSubscribeStore\r\nexport class StoreClass extends StoreBase {\r\n\r\n    // newsFeed = NewsFeedStore;\r\n    account = AccountStore;\r\n    bibleStore = BibleStore;\r\n\r\n    uiActions: { [key: string]: any } = [];\r\n\r\n    _isLoading = true;\r\n    _isLoadingChangeId = 0;\r\n\r\n    @autoDeviceStorage('Empty')\r\n    _page: PageName;\r\n\r\n    constructor() {\r\n        super();\r\n        setTimeout(this.load, 250);\r\n    }\r\n\r\n    load = async () => {\r\n        // await this.startLoading();\r\n        // this.endLoading();\r\n    }\r\n\r\n    @autoSubscribe\r\n    getIsLoading() {\r\n        return this._isLoading;\r\n    }\r\n\r\n    startLoading = async (fast = false) => {\r\n        if (this._isLoading) { return; }\r\n\r\n        this._isLoading = true;\r\n        this._isLoadingChangeId++;\r\n\r\n        if (!fast) {\r\n            this.trigger();\r\n            await delay(10);\r\n        }\r\n    }\r\n\r\n    endLoading = async (fast = false) => {\r\n        // this.refreshPage();\r\n\r\n        if (!this._isLoading) { return; }\r\n\r\n        const id = this._isLoadingChangeId;\r\n        //if (!fast) await delay(500);\r\n        if (!fast) await delay(10);\r\n\r\n        if (!this._isLoading) { return; }\r\n        if (id !== this._isLoadingChangeId) { return; }\r\n\r\n        this._isLoading = false;\r\n        this._isLoadingChangeId++;\r\n        this.trigger();\r\n    }\r\n\r\n    @autoSubscribe\r\n    getPage() {\r\n        return this._page;\r\n    }\r\n\r\n    gotoPage = async (page: PageName) => {\r\n        // console.log('gotoPage', { page });\r\n\r\n        this.startLoading(true);\r\n        // await this.startLoading(true);\r\n        this._page = 'Empty';\r\n        this.trigger();\r\n        await delay(10);\r\n\r\n        this._page = page;\r\n\r\n        this.endLoading();\r\n    }\r\n\r\n};\r\n\r\nexport const Store = new StoreClass();\r\nexport type Store = StoreClass;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/store/store.ts","import * as RX from 'reactxp';\r\nimport { App } from './app/app';\r\n\r\nRX.App.initialize(true, true);\r\nRX.UserInterface.setMainView(<App />);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.tsx","import * as RX from 'reactxp';\r\n\r\nimport { createIconStyle } from './components/common/icons/icon-base';\r\n\r\nconst pallette = {\r\n    primary_0: '#3D3783',\r\n    primary_1: '#7B76B6',\r\n    primary_2: '#57529B',\r\n    primary_3: '#29246E',\r\n    primary_4: '#141050',\r\n    secondary_1_0: '#993369',\r\n    secondary_1_1: '#D37DAA',\r\n    secondary_1_2: '#B65286',\r\n    secondary_1_3: '#801C51',\r\n    secondary_1_4: '#5E0634',\r\n    secondary_2_0: '#85AE3A',\r\n    secondary_2_1: '#CBEE8D',\r\n    secondary_2_2: '#A6CF5D',\r\n    secondary_2_3: '#699220',\r\n    secondary_2_4: '#476B07',\r\n    complement_0: '#BC9F3E',\r\n    complement_1: '#FFE797',\r\n    complement_2: '#DFC364',\r\n    complement_3: '#9D8122',\r\n    complement_4: '#735A08',\r\n};\r\n\r\n// const iconColors_sections = {\r\n//     a_purple: '#BC403D',\r\n//     b_red: '#852B77',\r\n//     c_orange: '#BC743D',\r\n//     d_orange_yellow: '#BC933D',\r\n\r\n//     e_yellow: '#BCB93D',\r\n//     f_yellow_green: '#88B039',\r\n//     g_green: '#419C33',\r\n//     h_teal: '#266F72',\r\n// };\r\n\r\nconst iconColors_sections = {\r\n    a_purple: '#880088',\r\n    b_red: '#880000',\r\n    c_orange: '#AA4400',\r\n    d_orange_yellow: '#AA6600',\r\n\r\n    e_yellow: '#AA8800',\r\n    f_yellow_green: '#668822',\r\n    g_green: '#008800',\r\n    h_teal: '#4466AA',\r\n};\r\n\r\nconst iconColors_actions = {\r\n    a_purple: '#CC00CC',\r\n    b_red: '#CC0000',\r\n    c_orange: '#FF6600',\r\n    d_orange_yellow: '#FF9900',\r\n\r\n    e_yellow: '#FFCC00',\r\n    f_yellow_green: '#99CC33',\r\n    g_green: '#00CC00',\r\n    h_teal: '#6699FF',\r\n};\r\n\r\nconst pageColors = {\r\n    back_heading_default: '#FFFFFF',\r\n    text_heading_default: pallette.secondary_1_0,\r\n    back_heading1: pallette.primary_4,\r\n    text_heading1: '#FFFFFF',\r\n    back_heading2: '#FFFFFF',\r\n    text_heading2: pallette.primary_0,\r\n\r\n    text_listItem: pallette.primary_0,\r\n};\r\n\r\nexport const colors = {\r\n    ...pageColors,\r\n    actionIcons: iconColors_actions,\r\n    sectionIcons: iconColors_sections,\r\n    // BUG: Hex colors don't work\r\n    loader: pallette.primary_0,\r\n    mini_loader_native: '#FFFFFF',\r\n    mini_loader_web: pallette.primary_0,\r\n    mini_loader_background: pallette.primary_1,\r\n\r\n    icon_disabled: '#CCCCCC',\r\n\r\n    text_main: pallette.primary_0,\r\n    icon_main: pallette.complement_0,\r\n    back_main: '#FFFFFF',\r\n\r\n    text_modal: pallette.primary_2,\r\n    back_modal: '#EEEEEE',\r\n\r\n    text_title: pallette.primary_0,\r\n\r\n    text_title_edit: pallette.primary_3,\r\n    back_title_edit: pallette.secondary_2_1,\r\n\r\n    text_button: '#FFFFFF',\r\n    back_button_action: pallette.primary_2,\r\n    back_button_warning: pallette.secondary_1_2,\r\n    back_button_filter: pallette.secondary_2_2,\r\n    back_button_nav: pallette.primary_3,\r\n\r\n    text_warning: '#FFFFFF',\r\n    back_warning: pallette.secondary_1_2,\r\n\r\n    // border_headerBar: pallette.primary_1,\r\n    // back_headerBar: '#EEEEEE',\r\n    // text_search: pallette.primary_2,\r\n    // back_search: '#FFFFFF',\r\n    border_headerBar: pallette.primary_1,\r\n    back_headerBar: pallette.primary_0,\r\n    text_search: pallette.primary_1,\r\n    text_search_placeholder: pallette.primary_2,\r\n    back_search: pallette.primary_4,\r\n\r\n    border_tabBar: pallette.primary_1,\r\n    back_tabBar: '#EEEEEE',\r\n    text_tab: '#888888',\r\n    text_tab_active: pallette.primary_4,\r\n\r\n    back_page: '#EEEEEE',\r\n    back_panel: '#FFFFFF',\r\n    back_sponsored: '#F8F8F8',\r\n\r\n    icon_post: pallette.primary_0,\r\n    icon_post_action: pallette.secondary_2_0,\r\n    text_post_title: pallette.primary_0,\r\n    text_post_subTitle: pallette.primary_1,\r\n    // icon_post: pallette.secondary_1_0,\r\n    // text_post_title: pallette.secondary_1_0,\r\n    // text_post_subTitle: pallette.secondary_1_1,\r\n    // icon_post: pallette.secondary_2_0,\r\n    // text_post_title: pallette.secondary_2_0,\r\n    // text_post_subTitle: pallette.secondary_2_1,\r\n    text_post_content: '#000000',\r\n    text_post_content_caption: '#555555',\r\n    text_post_content_details: '#777777',\r\n    text_post_info: '#888888',\r\n    back_post_image: '#000000',\r\n\r\n    border_post_content_section: pallette.secondary_2_1,\r\n};\r\n\r\nexport const pageSizes = {\r\n    padding_heading_default: 24,\r\n    font_heading_default: 20,\r\n    padding_heading1: 64,\r\n    font_heading1: 36,\r\n    padding_heading2: 36,\r\n    font_heading2: 28,\r\n\r\n    marginTop_paragraph: 8,\r\n    marginBottom_paragraph: 8,\r\n\r\n    margin_loneLink: 16,\r\n    paddingTop_loneLink: 8,\r\n    paddingBottom_loneLink: 8,\r\n    paddingLeft_loneLink: 24,\r\n    paddingRight_loneLink: 24,\r\n\r\n    paddingTop_listItem: 4,\r\n    paddingBottom_listItem: 4,\r\n    paddingLeft_listItem: 8,\r\n    paddingRight_listItem: 8,\r\n    icon_listItem: 12,\r\n};\r\n\r\nexport const sizes = {\r\n    // Page Sizes\r\n    ...pageSizes,\r\n\r\n    // Sizes\r\n    border_tabBar: 1,\r\n    padding_button_tab: 4,\r\n    icon_button_tab: 24,\r\n    font_button_tab: 12,\r\n    footer_height: 2 * (1 + 4) + 24 + (12 + 2),\r\n\r\n    width_miniLoader: 24,\r\n    height_appIconImage: 24,\r\n    width_appIconImage: 24,\r\n    marginLeft_appIconImage: 4,\r\n    marginRight_appIconImage: 4,\r\n\r\n    height_appImage: 128,\r\n    width_appImage: 128,\r\n\r\n    margin_search: 4,\r\n    padding_search: 4,\r\n    paddingLeft_search: 8,\r\n    font_search: 16,\r\n    icon_search: 16,\r\n    radius_search: 8,\r\n\r\n    padding_page: 8,\r\n    marginBottom_panel: 8,\r\n    padding_panel: 8,\r\n\r\n    paddingLeft_heading: 16,\r\n    font_heading: 24,\r\n\r\n    padding_action_button: 8,\r\n    icon_list: 24,\r\n\r\n    icon_post: 36,\r\n    paddingRight_postIcon: 8,\r\n    padding_icon_post_action: 2,\r\n    icon_post_section: 28,\r\n    icon_post_content: 14,\r\n    font_post_title: 18,\r\n    font_post_subTitle: 14,\r\n    font_post_content: 14,\r\n    font_post_content_caption: 13,\r\n    font_post_content_details: 12,\r\n    font_post_info: 10,\r\n\r\n    font_post_comment: 12,\r\n\r\n    marginLeft_post_section: 8,\r\n    marginBottom_post_section: 8,\r\n    marginTop_post_section: 8,\r\n\r\n    image_post_height: 200,\r\n\r\n    font_button: 18,\r\n    icon_button: 24,\r\n\r\n    font_stats: 24,\r\n    icon_stats: 28,\r\n};\r\n\r\n// Default Provider\r\nexport const pageStyles = {\r\n    headings: [\r\n        // Default (No Heading, Heading 3,4,5, etc.)\r\n        {\r\n            section: RX.Styles.createViewStyle({\r\n                padding: sizes.padding_heading_default,\r\n                backgroundColor: pageColors.back_heading_default,\r\n            }),\r\n            view: RX.Styles.createViewStyle({\r\n            }),\r\n            text: RX.Styles.createTextStyle({\r\n                fontSize: sizes.font_heading_default,\r\n                color: pageColors.text_heading_default,\r\n                textAlign: 'left',\r\n                fontWeight: 'bold',\r\n            })\r\n        },\r\n        // Heading 1\r\n        {\r\n            section: RX.Styles.createViewStyle({\r\n                padding: sizes.padding_heading1,\r\n                backgroundColor: pageColors.back_heading1,\r\n                alignItems: 'center',\r\n            }),\r\n            view: RX.Styles.createViewStyle({\r\n                maxWidth: 600,\r\n            }),\r\n            text: RX.Styles.createTextStyle({\r\n                fontSize: sizes.font_heading1,\r\n                color: pageColors.text_heading1,\r\n                textAlign: 'center',\r\n                fontWeight: 'bold',\r\n            })\r\n        },\r\n        // Heading 2\r\n        {\r\n            section: RX.Styles.createViewStyle({\r\n                padding: sizes.padding_heading2,\r\n                backgroundColor: pageColors.back_heading2,\r\n                alignItems: 'center',\r\n            }),\r\n            view: RX.Styles.createViewStyle({\r\n                maxWidth: 600,\r\n            }),\r\n            text: RX.Styles.createTextStyle({\r\n                fontSize: sizes.font_heading2,\r\n                color: pageColors.text_heading2,\r\n                textAlign: 'center',\r\n                fontWeight: 'bold',\r\n            })\r\n        },\r\n    ],\r\n\r\n    paragraph: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        marginTop: pageSizes.marginTop_paragraph,\r\n        marginBottom: pageSizes.marginBottom_paragraph,\r\n    }),\r\n    text: RX.Styles.createTextStyle({\r\n        flex: -1,\r\n        color: colors.text_main,\r\n    }),\r\n    inlineLink: RX.Styles.createButtonStyle({\r\n        backgroundColor: colors.back_button_action,\r\n        paddingLeft: sizes.padding_action_button,\r\n        paddingRight: sizes.padding_action_button,\r\n    }),\r\n    inlineLink_text: RX.Styles.createTextStyle({\r\n        flex: -1,\r\n        color: colors.text_button,\r\n        textDecorationLine: 'none',\r\n    }),\r\n\r\n    loneLink_view: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n    }),\r\n    loneLink_link: RX.Styles.createButtonStyle({\r\n        flex: 1,\r\n\r\n        margin: pageSizes.margin_loneLink,\r\n        paddingTop: pageSizes.paddingTop_loneLink,\r\n        paddingBottom: pageSizes.paddingBottom_loneLink,\r\n        paddingLeft: pageSizes.paddingLeft_loneLink,\r\n        paddingRight: pageSizes.paddingRight_loneLink,\r\n\r\n        backgroundColor: colors.back_button_action,\r\n    }),\r\n    loneLink_text: RX.Styles.createTextStyle({\r\n        flex: -1,\r\n        color: colors.text_button,\r\n        textDecorationLine: 'none',\r\n        textAlign: 'center',\r\n        fontSize: sizes.font_button,\r\n    }),\r\n\r\n    list: RX.Styles.createViewStyle({\r\n        flexDirection: 'column',\r\n    }),\r\n    listItem_view: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n    }),\r\n    listItem: RX.Styles.createTextStyle({\r\n        flex: -1,\r\n        color: pageColors.text_listItem,\r\n        paddingTop: pageSizes.paddingTop_listItem,\r\n        paddingBottom: pageSizes.paddingBottom_listItem,\r\n        paddingLeft: pageSizes.paddingLeft_listItem,\r\n        paddingRight: pageSizes.paddingRight_listItem,\r\n    }),\r\n    listItem_icon: createIconStyle({\r\n        fillColor: pageColors.text_listItem,\r\n        fontSize: pageSizes.icon_listItem,\r\n        padding: 0,\r\n    }),\r\n};\r\n\r\nexport const styles = {\r\n    ...pageStyles,\r\n\r\n    row: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n    }),\r\n    fullRow: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flex: 1,\r\n    }),\r\n    fullColumn: RX.Styles.createViewStyle({\r\n        flexDirection: 'column',\r\n        flex: 1,\r\n    }),\r\n    flex1: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n    }),\r\n\r\n    flexWrap: RX.Styles.createViewStyle({\r\n        flexWrap: 'wrap',\r\n    }),\r\n\r\n    // flexRow_wrap: RX.Styles.createViewStyle({\r\n    //     flex: 1,\r\n    //     flexDirection: 'row',\r\n    //     flexWrap: 'wrap',\r\n    //     // alignItems: 'stretch',\r\n    // }),\r\n    // flexWrap: RX.Styles.createViewStyle({\r\n    //     flexWrap: 'wrap',\r\n    // }),\r\n\r\n    space_around_content: RX.Styles.createViewStyle({\r\n        alignItems: 'center',\r\n        justifyContent: 'space-around',\r\n    }),\r\n\r\n    center_content: RX.Styles.createViewStyle({\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }),\r\n    center_text: RX.Styles.createTextStyle({\r\n        textAlign: 'center',\r\n    }),\r\n\r\n    right_content: RX.Styles.createTextStyle({\r\n        flexDirection: 'row',\r\n        alignItems: 'flex-end',\r\n        justifyContent: 'flex-end',\r\n    }),\r\n\r\n    loader: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        backgroundColor: colors.back_modal,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }),\r\n\r\n    mini_loader: RX.Styles.createViewStyle({\r\n        minWidth: sizes.width_miniLoader,\r\n        minHeight: sizes.width_miniLoader,\r\n        // flex: 1,\r\n        // backgroundColor: colors.back_modal,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }),\r\n\r\n    mini_loader_container_web: RX.Styles.createViewStyle({\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: colors.mini_loader_background,\r\n        borderRadius: sizes.width_miniLoader,\r\n    }),\r\n\r\n    appImage_view: RX.Styles.createViewStyle({\r\n        width: sizes.width_appImage,\r\n        height: sizes.height_appImage,\r\n    }),\r\n    appImage: RX.Styles.createImageStyle({\r\n        width: sizes.width_appImage,\r\n        height: sizes.height_appImage,\r\n    }),\r\n\r\n    // Header\r\n    headerBar: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flex: 1,\r\n        backgroundColor: colors.back_headerBar,\r\n        borderColor: colors.border_headerBar,\r\n        borderBottomWidth: 1,\r\n        borderStyle: 'solid',\r\n        alignItems: 'center',\r\n    }),\r\n    headerBar_appIconImage_view: RX.Styles.createViewStyle({\r\n        width: sizes.width_appIconImage,\r\n        height: sizes.height_appIconImage,\r\n        marginLeft: sizes.marginLeft_appIconImage,\r\n        marginRight: sizes.marginRight_appIconImage,\r\n    }),\r\n    headerBar_appIconImage: RX.Styles.createImageStyle({\r\n        width: sizes.width_appIconImage,\r\n        height: sizes.height_appIconImage,\r\n    }),\r\n    headerButtons: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        // margin: sizes.margin_search,\r\n        // padding: sizes.padding_search,\r\n    }),\r\n    searchBox_view: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        margin: sizes.margin_search,\r\n        padding: sizes.padding_search,\r\n        backgroundColor: colors.back_search,\r\n        borderRadius: sizes.radius_search,\r\n    }),\r\n    searchBox_text_placeholder_color: colors.text_search_placeholder,\r\n    searchBox_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_search,\r\n        color: colors.text_search,\r\n        backgroundColor: 'transparent',\r\n        margin: 0,\r\n        paddingLeft: sizes.paddingLeft_search,\r\n        paddingRight: 0,\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n        flex: 1,\r\n    }),\r\n    searchIcon: createIconStyle({\r\n        fontSize: sizes.icon_search,\r\n        padding: 0,\r\n        fillColor: colors.text_search,\r\n    }),\r\n\r\n    // Footer\r\n    tabBar: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flex: 1,\r\n        backgroundColor: colors.back_tabBar,\r\n        borderColor: colors.border_tabBar,\r\n        borderWidth: sizes.border_tabBar,\r\n        borderStyle: 'solid',\r\n    }),\r\n    tab_button: RX.Styles.createButtonStyle({\r\n        flex: 1,\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: sizes.padding_button_tab,\r\n    }),\r\n    tab_button_active: RX.Styles.createButtonStyle({\r\n        flex: 1,\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: sizes.padding_button_tab,\r\n    }),\r\n    tab_text: RX.Styles.createTextStyle({\r\n        textAlign: 'center',\r\n        fontSize: sizes.font_button_tab,\r\n        color: colors.text_tab,\r\n    }),\r\n    tab_text_active: RX.Styles.createTextStyle({\r\n        textAlign: 'center',\r\n        fontSize: sizes.font_button_tab,\r\n        color: colors.text_tab_active,\r\n    }),\r\n    tabIcon: createIconStyle({\r\n        fontSize: sizes.icon_button_tab,\r\n        padding: 0,\r\n        fillColor: colors.text_tab,\r\n    }),\r\n    tabIcon_active: createIconStyle({\r\n        fontSize: sizes.icon_button_tab,\r\n        padding: 0,\r\n        fillColor: colors.text_tab_active,\r\n    }),\r\n\r\n    // Page\r\n    pageBackground: RX.Styles.createViewStyle({\r\n        backgroundColor: colors.back_page,\r\n    }),\r\n    page: RX.Styles.createViewStyle({\r\n        // padding: sizes.padding_page,\r\n        backgroundColor: colors.back_page,\r\n    }),\r\n\r\n    // Headings\r\n    heading: RX.Styles.createViewStyle({\r\n        // alignItems: 'center',\r\n        // justifyContent: 'center',\r\n        paddingLeft: sizes.paddingLeft_heading\r\n    }),\r\n    heading_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_heading,\r\n    }),\r\n\r\n    // Actions\r\n    action_button: RX.Styles.createButtonStyle({\r\n        // // flex: 1,\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }),\r\n    action_button_text: RX.Styles.createTextStyle({\r\n        padding: sizes.padding_action_button,\r\n        backgroundColor: colors.back_button_action,\r\n        color: colors.text_button,\r\n        fontSize: sizes.font_button,\r\n    }),\r\n\r\n    facebook_button: RX.Styles.createButtonStyle({\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: colors.back_button_action,\r\n        // backgroundColor: '#3b5998',\r\n        padding: sizes.padding_action_button,\r\n        // borderRadius: 4,\r\n    }),\r\n    facebook_button_text: RX.Styles.createTextStyle({\r\n        color: '#FFFFFF',\r\n        fontSize: sizes.font_button,\r\n        marginLeft: 8,\r\n    }),\r\n    facebook_icon: createIconStyle({\r\n        fontSize: sizes.icon_button,\r\n        padding: 0,\r\n        fillColor: '#FFFFFF',\r\n    }),\r\n\r\n    warning_text: RX.Styles.createTextStyle({\r\n        padding: sizes.padding_action_button,\r\n        backgroundColor: colors.back_warning,\r\n        color: colors.text_warning,\r\n    }),\r\n\r\n    // List\r\n    listIcon: createIconStyle({\r\n        fontSize: sizes.icon_list,\r\n        padding: 0,\r\n        fillColor: colors.icon_main,\r\n    }),\r\n\r\n    // Post - Wrapping\r\n\r\n    // postList: RX.Styles.createViewStyle({\r\n    //     flexDirection: 'row',\r\n    //     flexWrap: 'wrap',\r\n    // }),\r\n    // postItem: RX.Styles.createViewStyle({\r\n    //     flex: 1,\r\n    // }),\r\n\r\n    // postPanel: RX.Styles.createViewStyle({\r\n    //     flex: 1,\r\n    //     marginRight: sizes.marginBottom_panel,\r\n    //     marginBottom: sizes.marginBottom_panel,\r\n    //     padding: sizes.padding_panel,\r\n    //     backgroundColor: colors.back_panel,\r\n    // }),\r\n\r\n    // Post- Normal\r\n    postList: RX.Styles.createViewStyle({\r\n    }),\r\n    postItem: RX.Styles.createViewStyle({\r\n    }),\r\n\r\n    postPanel: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        marginBottom: sizes.marginBottom_panel,\r\n        padding: sizes.padding_panel,\r\n        backgroundColor: colors.back_panel,\r\n    }),\r\n\r\n    sponsored: RX.Styles.createViewStyle({\r\n        backgroundColor: colors.back_sponsored,\r\n    }),\r\n\r\n    postContent_wrapper: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        flexDirection: 'column',\r\n\r\n        borderColor: colors.border_post_content_section,\r\n        borderStyle: 'solid',\r\n        borderLeftWidth: 1,\r\n        borderTopWidth: 1,\r\n        marginTop: 4,\r\n        marginLeft: 4,\r\n        paddingTop: 4,\r\n        paddingLeft: 4,\r\n        minWidth: 150,\r\n    }),\r\n\r\n    postIcon_padding: RX.Styles.createViewStyle({\r\n        paddingRight: sizes.paddingRight_postIcon,\r\n    }),\r\n\r\n    postIcon: createIconStyle({\r\n        fontSize: sizes.icon_post,\r\n        padding: 0,\r\n        fillColor: colors.icon_post,\r\n    }),\r\n    postIcon_action: createIconStyle({\r\n        fontSize: sizes.icon_post_section,\r\n        padding: 0,\r\n        fillColor: colors.icon_post_action,\r\n    }),\r\n    postIcon_action_disabled: createIconStyle({\r\n        // TODO: Update\r\n        fontSize: sizes.icon_post_section,\r\n        padding: 0,\r\n        fillColor: colors.icon_disabled,\r\n    }),\r\n\r\n    postTitle_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_post_title,\r\n        color: colors.text_post_title,\r\n    }),\r\n    postSubTitle_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_post_subTitle,\r\n        color: colors.text_post_subTitle,\r\n    }),\r\n    postContent_section: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        marginTop: sizes.marginTop_post_section,\r\n        marginBottom: sizes.marginBottom_post_section,\r\n        marginLeft: sizes.marginLeft_post_section,\r\n    }),\r\n    postContent_section_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_post_content,\r\n        color: colors.text_post_content\r\n    }),\r\n    postContent_section_caption_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_post_content_caption,\r\n        color: colors.text_post_content_caption\r\n    }),\r\n    postContent_section_details_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_post_content_details,\r\n        color: colors.text_post_content_details\r\n    }),\r\n    postContent_action: RX.Styles.createViewStyle({\r\n        padding: sizes.padding_icon_post_action\r\n    }),\r\n    postInfo_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_post_info,\r\n        color: colors.text_post_info,\r\n    }),\r\n\r\n    postContent_comment_name_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_post_comment,\r\n        color: colors.text_post_title,\r\n    }),\r\n    postContent_comment_message_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_post_comment,\r\n        color: colors.text_post_content,\r\n    }),\r\n    postContent_comment_info_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_post_info,\r\n        color: colors.text_post_info,\r\n    }),\r\n\r\n    postStats_view: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        borderStyle: 'solid',\r\n        borderColor: colors.border_post_content_section,\r\n        borderTopWidth: 1,\r\n        marginTop: sizes.marginBottom_post_section,\r\n        paddingTop: sizes.marginBottom_post_section,\r\n    }),\r\n\r\n    postStats_icon: createIconStyle({\r\n        fontSize: sizes.icon_stats,\r\n        padding: 0,\r\n        fillColor: colors.icon_disabled,\r\n    }),\r\n    postStats_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_stats,\r\n        padding: 0,\r\n    }),\r\n\r\n    // TEMP\r\n    postImage_maxWidth: 375,\r\n    postImage: RX.Styles.createImageStyle({\r\n        flex: 1,\r\n        // minHeight: sizes.image_post_height,\r\n        // backgroundColor: colors.back_post_image,\r\n        // maxHeight: 202,\r\n        // maxWidth: 360,\r\n    }),\r\n\r\n    postProfilePicture: RX.Styles.createImageStyle({\r\n        width: 32,\r\n        height: 32,\r\n    }),\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/app/styles.ts","import * as RX from 'reactxp';\r\nimport { ComponentBase } from 'resub';\r\nimport { Debug } from './utils/debug';\r\n\r\nexport function storeComp<S>(buildStateCallback: () => S, renderCallback: (state: S) => JSX.Element | null) {\r\n    return <StoreComponentBase buildStateCallback={buildStateCallback} renderCallback={renderCallback} />;\r\n};\r\n\r\nclass StoreComponentBase extends ComponentBase<{\r\n    buildStateCallback: () => any,\r\n    renderCallback: (state: any) => JSX.Element | null\r\n}, any> {\r\n\r\n    protected _buildState(props: {}, initialBuild: boolean): any {\r\n        const s = this.props.buildStateCallback();\r\n        console.log('_buildState', { props, initialBuild, s });\r\n        return s;\r\n    }\r\n\r\n    render() {\r\n        return this.props.renderCallback(this.state);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/store-component-base.tsx","import { ViewOnLayoutEvent } from 'reactxp/dist/common/Types';\r\nimport * as RX from 'reactxp';\r\nimport { styles, sizes, colors } from '../../styles';\r\nimport { MainLayout } from '../common/layout/main-layout';\r\nimport { Store } from \"../../store/store\";\r\nimport { HeaderBar, PostsStoreProvider, TabBar } from './page-layout-common';\r\n\r\nexport const PageLayout = (props: { children?: any, store: Store, postsStore?: PostsStoreProvider, onScrollReachEnd?: () => void }) => {\r\n\r\n    return (\r\n        <MainLayout\r\n            backgroundColor={colors.back_page}\r\n            headerContent={<HeaderBar store={props.postsStore || props.store} />}\r\n            footerContent={<TabBar store={props.store} />}\r\n            footerHeight={sizes.footer_height}\r\n            onScrollReachEnd={props.onScrollReachEnd}\r\n        >\r\n            <RX.View style={[styles.fullColumn, styles.pageBackground]}>\r\n                {props.children}\r\n            </RX.View>\r\n        </MainLayout>\r\n    );\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/page/page-layout.tsx","import * as RX from 'reactxp';\r\n\r\nimport { BibleStore } from \"../../store/bible-store\";\r\nimport { storeComp } from \"../common/store-component-base\";\r\nimport { styles } from \"../../styles\";\r\n\r\nconst localStyles = {\r\n    chooser: RX.Styles.createViewStyle({\r\n        padding: 8,\r\n    }),\r\n    selector: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        padding: 4,\r\n    }),\r\n    label: RX.Styles.createViewStyle({\r\n        width: 80,\r\n    }),\r\n    picker: RX.Styles.createPickerStyle({\r\n        flex: 1,\r\n        marginLeft: 8,\r\n    }),\r\n};\r\n\r\nexport const PassageChooser = (props: { bibleStore: BibleStore }) => storeComp(() => ({\r\n    m: props.bibleStore.getPassageMetadata(),\r\n}), (state) => {\r\n    return (\r\n        <RX.View style={localStyles.chooser}>\r\n            <Selector label='Book' value={state.m.bookKey} choices={state.m.books.map(x => ({ label: x.bookName, value: x.bookID }))} onChoice={props.bibleStore.selectBook} />\r\n            <Selector label='Chapter' value={state.m.chapterNumber + ''} choices={getNumbersList(state.m.chapterCount)} onChoice={props.bibleStore.selectChapter} />\r\n            <Selector label='Verse' value={state.m.verseNumber + ''} choices={getNumbersList(state.m.verseCount)} onChoice={props.bibleStore.selectVerse} />\r\n        </RX.View>\r\n    );\r\n});\r\n\r\nexport const Selector = (props: { label: string, value: string, choices: RX.Types.PickerPropsItem[], onChoice: (value: string) => void }) => (\r\n    <RX.View style={localStyles.selector}>\r\n        <RX.Text style={localStyles.label}>{props.label}</RX.Text>\r\n        <RX.Picker style={localStyles.picker} items={props.choices} selectedValue={props.value} onValueChange={props.onChoice} />\r\n    </RX.View>\r\n);\r\n\r\nfunction getNumbersList(max: number, min = 1) {\r\n    const a: RX.Types.PickerPropsItem[] = [];\r\n    for (let i = min; i <= max; i++) {\r\n        a.push({ label: i + '', value: i + '' });\r\n    }\r\n    return a;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/bible/passage-chooser.tsx","import { autoTimeout } from '../utils/auto-timeout';\r\nimport * as RX from 'reactxp';\r\nimport { FacebookLoginProps, FacebookAccessType } from \"./facebook-login-common\";\r\nimport { createIconStyle } from \"../icons/icon-base\";\r\nimport { FacebookIcon } from \"../icons/facebook\";\r\nimport { loadFacebookSdk } from \"./facebook-sdk-web\";\r\nimport { styles } from \"../../../styles\";\r\n\r\n\r\nexport class FacebookLogin extends RX.Component<FacebookLoginProps, { isLoggedIn: boolean }> {\r\n\r\n    onLoginPress = async () => {\r\n        try {\r\n            await autoTimeout({\r\n                timeoutErrorMessage: 'Timeout: Facebook Login',\r\n                errorMessage: 'Error: Facebook Login',\r\n            }, async () => {\r\n                const fb = await loadFacebookSdk();\r\n                const result = await fb.login();\r\n                this.setState({\r\n                    isLoggedIn: result.status === 'connected',\r\n                });\r\n\r\n                if (result.error) {\r\n                    this.props.onError('Error: Facebook Login', result.error);\r\n                } else if (result.status !== 'connected') {\r\n                    this.props.onError('Error: Facebook Login', 'Not Connected');\r\n                }\r\n            });\r\n        } catch (err) {\r\n            this.props.onError('Error: Facebook Login', err);\r\n        }\r\n    };\r\n\r\n    onLogoutPress = async () => {\r\n        const fb = await loadFacebookSdk();\r\n        const result = await fb.logout();\r\n        this.setState({\r\n            isLoggedIn: result.status === 'connected',\r\n        });\r\n    };\r\n\r\n    render() {\r\n        if (this.state.isLoggedIn === undefined) {\r\n            setTimeout(async () => {\r\n                try {\r\n                    const fb = await loadFacebookSdk();\r\n                    const result = await fb.getLoginStatus();\r\n                    this.setState({\r\n                        isLoggedIn: result.status === 'connected',\r\n                    });\r\n                }\r\n                catch (err) {\r\n                    this.setState({\r\n                        isLoggedIn: false,\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        return (!this.state.isLoggedIn ? (\r\n            <RX.Button style={styles.facebook_button} onPress={this.onLoginPress}>\r\n                <FacebookIcon style={styles.facebook_icon} /> <RX.Text style={styles.facebook_button_text}>Continue with Facebook</RX.Text>\r\n            </RX.Button>\r\n        ) : (\r\n                <RX.Button style={styles.facebook_button} onPress={this.onLogoutPress}>\r\n                    <RX.Text style={styles.facebook_button_text}>Logout of Facebook</RX.Text>\r\n                </RX.Button>\r\n            ));\r\n    }\r\n};\r\n\r\nclass FacebookAccessClass implements FacebookAccessType {\r\n    async getCurrentAccessToken(): Promise<string> {\r\n        console.log('START FacebookAccessClass.getCurrentAccessToken()');\r\n\r\n\r\n        const fb = await loadFacebookSdk();\r\n        console.log('FacebookAccessClass.getCurrentAccessToken() loadedFacebookSdk');\r\n\r\n        const result = await fb.getLoginStatus();\r\n        console.log('FacebookAccessClass.getCurrentAccessToken() got login status');\r\n\r\n        const token = result.status === 'connected' && result.authResponse.accessToken;\r\n\r\n        console.log('END FacebookAccessClass.getCurrentAccessToken()', { token, result });\r\n        return token || null;\r\n    }\r\n}\r\n\r\nexport const FacebookAccess = new FacebookAccessClass();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/account/facebook-login.tsx","\r\n\r\nexport function autoTimeout<T>(options: { time?: number, timeoutErrorMessage?: string, errorMessage?: string }, process: () => Promise<T>): Promise<T> {\r\n    options = {\r\n        time: options.time || 10000,\r\n        timeoutErrorMessage: options.timeoutErrorMessage || 'Timeout',\r\n        errorMessage: options.errorMessage || 'Error',\r\n    };\r\n    return new Promise<T>((resolve, reject) => {\r\n        try {\r\n            const id = setTimeout(() => {\r\n                console.error(options.timeoutErrorMessage);\r\n                reject(options.timeoutErrorMessage);\r\n            }, options.time);\r\n            process()\r\n                .then(x => {\r\n                    clearTimeout(id);\r\n                    resolve(x);\r\n                })\r\n                .catch(err => {\r\n                    clearTimeout(id);\r\n                    console.error(options.errorMessage, err);\r\n                    reject(err);\r\n                });\r\n        } catch (err) {\r\n            console.error(options.errorMessage, err);\r\n            reject(err);\r\n        }\r\n    });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/utils/auto-timeout.ts"],"sourceRoot":""}