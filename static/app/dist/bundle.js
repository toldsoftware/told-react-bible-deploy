webpackJsonp([0],{101:function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(r.Component);t.SimpleComponentBase=s},102:function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,o,i):r(t,o))||i);return s>3&&i&&Object.defineProperty(t,o,i),i},s=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(i,a)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function o(e){return function(t){return n([e,t])}}function n(o){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,s&&(i=s[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(s,o[1])).done)return i;switch(s=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,s=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],s=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r,s,i,a,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var a=o(41),c=o(63),l=function(e){function t(){var t=e.call(this)||this;return t._isFacebookLoggedIn=!1,t._error=null,t.setLoginError=function(e,o){try{t._error=e+": "+JSON.stringify(o)}catch(n){t._error=e+": "+o}t._accessToken=null,t._isFacebookLoggedIn=!1,t.trigger(),console.error(e,o)},t.load=function(){return s(t,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.getFacebookAccessToken_async()];case 1:return t.sent(),this._isFacebookLoggedIn=null!=this._accessToken,this.trigger(),[3,3];case 2:return e=t.sent(),console.log("Facebook did not return an access token on load",e),[3,3];case 3:return[2]}})})},t.getFacebookAccessToken_async=function(){return s(t,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,c.FacebookAccess.getCurrentAccessToken()];case 1:return e=t.sent(),console.log("getFacebookAccessToken_async",{accessToken:e}),this._accessToken=e,[2]}})})},t.onLoginFinished=function(e){console.log("onLoginFinished",{accessToken:e}),t._accessToken=e,t._isFacebookLoggedIn=!0,t.trigger()},setTimeout(t.load,5),t}return n(t,e),t.prototype.getError=function(){return this._error},t.prototype.getIsFacebookLoggedIn=function(){return this._isFacebookLoggedIn},t.prototype.getFacebookAccessToken=function(){return console.log("getFacebookAccessToken",{accessToken:this._accessToken}),this._accessToken},t}(a.StoreBase);r([a.autoSubscribe],l.prototype,"getError",null),r([a.autoSubscribe],l.prototype,"getIsFacebookLoggedIn",null),r([a.autoSubscribe],l.prototype,"getFacebookAccessToken",null),l=r([a.AutoSubscribeStore],l),t.AccountStoreClass=l,t.AccountStore=new l},103:function(e,t,o){"use strict";function n(e,t){if(!e)return!0;e=e.toLowerCase();for(var o in t){if((t[o]+"").toLowerCase().indexOf(e)>=0)return!0}return!1}function r(e){return void 0===e&&(e=0),i(this,void 0,void 0,function(){return a(this,function(t){return[2,new Promise(function(t){setTimeout(t,e)})]})})}function s(e,t){for(var o=e.slice(),n=t.map(function(e){return{x:e,order:Math.random()}}).sort(function(e,t){return e.order-t.order}).map(function(e){return e.x}),r=7+Math.floor(3*Math.random()),s=2+Math.floor(5*Math.random()),i=0,a=s;a<o.length&&!(i>=n.length);a+=r+1)o.splice(a,0,n[i++]);return o.push.apply(o,n.slice(i)),o}var i=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(i,a)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function o(e){return function(t){return n([e,t])}}function n(o){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,s&&(i=s[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(s,o[1])).done)return i;switch(s=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,s=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],s=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r,s,i,a,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0}),t.isMatch=n,t.delay=r,t.injectAds=s},14:function(e,t,o){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),s=o(19),i={primary_0:"#3D3783",primary_1:"#7B76B6",primary_2:"#57529B",primary_3:"#29246E",primary_4:"#141050",secondary_1_0:"#993369",secondary_1_1:"#D37DAA",secondary_1_2:"#B65286",secondary_1_3:"#801C51",secondary_1_4:"#5E0634",secondary_2_0:"#85AE3A",secondary_2_1:"#CBEE8D",secondary_2_2:"#A6CF5D",secondary_2_3:"#699220",secondary_2_4:"#476B07",complement_0:"#BC9F3E",complement_1:"#FFE797",complement_2:"#DFC364",complement_3:"#9D8122",complement_4:"#735A08"},a={a_purple:"#880088",b_red:"#880000",c_orange:"#AA4400",d_orange_yellow:"#AA6600",e_yellow:"#AA8800",f_yellow_green:"#668822",g_green:"#008800",h_teal:"#4466AA"},c={a_purple:"#CC00CC",b_red:"#CC0000",c_orange:"#FF6600",d_orange_yellow:"#FF9900",e_yellow:"#FFCC00",f_yellow_green:"#99CC33",g_green:"#00CC00",h_teal:"#6699FF"},l={back_heading_default:"#FFFFFF",text_heading_default:i.secondary_1_0,back_heading1:i.primary_4,text_heading1:"#FFFFFF",back_heading2:"#FFFFFF",text_heading2:i.primary_0,text_listItem:i.primary_0};t.colors=n({},l,{actionIcons:c,sectionIcons:a,loader:i.primary_0,mini_loader_native:"#FFFFFF",mini_loader_web:i.primary_0,mini_loader_background:i.primary_1,icon_disabled:"#CCCCCC",text_main:i.primary_0,icon_main:i.complement_0,back_main:"#FFFFFF",text_modal:i.primary_2,back_modal:"#EEEEEE",text_title:i.primary_0,text_title_edit:i.primary_3,back_title_edit:i.secondary_2_1,text_button:"#FFFFFF",back_button_action:i.primary_2,back_button_warning:i.secondary_1_2,back_button_filter:i.secondary_2_2,back_button_nav:i.primary_3,text_warning:"#FFFFFF",back_warning:i.secondary_1_2,border_headerBar:i.primary_1,back_headerBar:i.primary_0,text_search:i.primary_1,text_search_placeholder:i.primary_2,back_search:i.primary_4,border_tabBar:i.primary_1,back_tabBar:"#EEEEEE",text_tab:"#888888",text_tab_active:i.primary_4,back_page:"#EEEEEE",back_panel:"#FFFFFF",back_sponsored:"#F8F8F8",icon_post:i.primary_0,icon_post_action:i.secondary_2_0,text_post_title:i.primary_0,text_post_subTitle:i.primary_1,text_post_content:"#000000",text_post_content_caption:"#555555",text_post_content_details:"#777777",text_post_info:"#888888",back_post_image:"#000000",border_post_content_section:i.secondary_2_1}),t.pageSizes={padding_heading_default:24,font_heading_default:20,padding_heading1:64,font_heading1:36,padding_heading2:36,font_heading2:28,marginTop_paragraph:8,marginBottom_paragraph:8,margin_loneLink:16,paddingTop_loneLink:8,paddingBottom_loneLink:8,paddingLeft_loneLink:24,paddingRight_loneLink:24,paddingTop_listItem:4,paddingBottom_listItem:4,paddingLeft_listItem:8,paddingRight_listItem:8,icon_listItem:12},t.sizes=n({},t.pageSizes,{border_tabBar:1,padding_button_tab:4,icon_button_tab:24,font_button_tab:12,footer_height:48,width_miniLoader:24,height_appIconImage:24,width_appIconImage:24,marginLeft_appIconImage:4,marginRight_appIconImage:4,height_appImage:128,width_appImage:128,margin_search:4,padding_search:4,paddingLeft_search:8,font_search:16,icon_search:16,radius_search:8,padding_page:8,marginBottom_panel:8,padding_panel:8,paddingLeft_heading:16,font_heading:24,padding_action_button:8,icon_list:24,icon_post:36,paddingRight_postIcon:8,padding_icon_post_action:2,icon_post_section:28,icon_post_content:14,font_post_title:18,font_post_subTitle:14,font_post_content:14,font_post_content_caption:13,font_post_content_details:12,font_post_info:10,font_post_comment:12,marginLeft_post_section:8,marginBottom_post_section:8,marginTop_post_section:8,image_post_height:200,font_button:18,icon_button:24,font_stats:24,icon_stats:28}),t.pageStyles={headings:[{section:r.Styles.createViewStyle({padding:t.sizes.padding_heading_default,backgroundColor:l.back_heading_default}),view:r.Styles.createViewStyle({}),text:r.Styles.createTextStyle({fontSize:t.sizes.font_heading_default,color:l.text_heading_default,textAlign:"left",fontWeight:"bold"})},{section:r.Styles.createViewStyle({padding:t.sizes.padding_heading1,backgroundColor:l.back_heading1,alignItems:"center"}),view:r.Styles.createViewStyle({maxWidth:600}),text:r.Styles.createTextStyle({fontSize:t.sizes.font_heading1,color:l.text_heading1,textAlign:"center",fontWeight:"bold"})},{section:r.Styles.createViewStyle({padding:t.sizes.padding_heading2,backgroundColor:l.back_heading2,alignItems:"center"}),view:r.Styles.createViewStyle({maxWidth:600}),text:r.Styles.createTextStyle({fontSize:t.sizes.font_heading2,color:l.text_heading2,textAlign:"center",fontWeight:"bold"})}],paragraph:r.Styles.createViewStyle({flexDirection:"row",flexWrap:"wrap",marginTop:t.pageSizes.marginTop_paragraph,marginBottom:t.pageSizes.marginBottom_paragraph}),text:r.Styles.createTextStyle({flex:-1,color:t.colors.text_main}),inlineLink:r.Styles.createButtonStyle({backgroundColor:t.colors.back_button_action,paddingLeft:t.sizes.padding_action_button,paddingRight:t.sizes.padding_action_button}),inlineLink_text:r.Styles.createTextStyle({flex:-1,color:t.colors.text_button,textDecorationLine:"none"}),loneLink_view:r.Styles.createViewStyle({flexDirection:"row",flexWrap:"wrap"}),loneLink_link:r.Styles.createButtonStyle({flex:1,margin:t.pageSizes.margin_loneLink,paddingTop:t.pageSizes.paddingTop_loneLink,paddingBottom:t.pageSizes.paddingBottom_loneLink,paddingLeft:t.pageSizes.paddingLeft_loneLink,paddingRight:t.pageSizes.paddingRight_loneLink,backgroundColor:t.colors.back_button_action}),loneLink_text:r.Styles.createTextStyle({flex:-1,color:t.colors.text_button,textDecorationLine:"none",textAlign:"center",fontSize:t.sizes.font_button}),list:r.Styles.createViewStyle({flexDirection:"column"}),listItem_view:r.Styles.createViewStyle({flexDirection:"row",alignItems:"center"}),listItem:r.Styles.createTextStyle({flex:-1,color:l.text_listItem,paddingTop:t.pageSizes.paddingTop_listItem,paddingBottom:t.pageSizes.paddingBottom_listItem,paddingLeft:t.pageSizes.paddingLeft_listItem,paddingRight:t.pageSizes.paddingRight_listItem}),listItem_icon:s.createIconStyle({fillColor:l.text_listItem,fontSize:t.pageSizes.icon_listItem,padding:0})},t.styles=n({},t.pageStyles,{row:r.Styles.createViewStyle({flexDirection:"row"}),fullRow:r.Styles.createViewStyle({flexDirection:"row",flex:1}),fullColumn:r.Styles.createViewStyle({flexDirection:"column",flex:1}),flex1:r.Styles.createViewStyle({flex:1}),flexWrap:r.Styles.createViewStyle({flexWrap:"wrap"}),space_around_content:r.Styles.createViewStyle({alignItems:"center",justifyContent:"space-around"}),center_content:r.Styles.createViewStyle({alignItems:"center",justifyContent:"center"}),center_text:r.Styles.createTextStyle({textAlign:"center"}),right_content:r.Styles.createTextStyle({flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-end"}),loader:r.Styles.createViewStyle({flex:1,backgroundColor:t.colors.back_modal,alignItems:"center",justifyContent:"center"}),mini_loader:r.Styles.createViewStyle({minWidth:t.sizes.width_miniLoader,minHeight:t.sizes.width_miniLoader,alignItems:"center",justifyContent:"center"}),mini_loader_container_web:r.Styles.createViewStyle({alignItems:"center",justifyContent:"center",backgroundColor:t.colors.mini_loader_background,borderRadius:t.sizes.width_miniLoader}),appImage_view:r.Styles.createViewStyle({width:t.sizes.width_appImage,height:t.sizes.height_appImage}),appImage:r.Styles.createImageStyle({width:t.sizes.width_appImage,height:t.sizes.height_appImage}),headerBar:r.Styles.createViewStyle({flexDirection:"row",flex:1,backgroundColor:t.colors.back_headerBar,borderColor:t.colors.border_headerBar,borderBottomWidth:1,borderStyle:"solid",alignItems:"center"}),headerBar_appIconImage_view:r.Styles.createViewStyle({width:t.sizes.width_appIconImage,height:t.sizes.height_appIconImage,marginLeft:t.sizes.marginLeft_appIconImage,marginRight:t.sizes.marginRight_appIconImage}),headerBar_appIconImage:r.Styles.createImageStyle({width:t.sizes.width_appIconImage,height:t.sizes.height_appIconImage}),headerButtons:r.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"center"}),searchBox_view:r.Styles.createViewStyle({flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",margin:t.sizes.margin_search,padding:t.sizes.padding_search,backgroundColor:t.colors.back_search,borderRadius:t.sizes.radius_search}),searchBox_text_placeholder_color:t.colors.text_search_placeholder,searchBox_text:r.Styles.createTextStyle({fontSize:t.sizes.font_search,color:t.colors.text_search,backgroundColor:"transparent",margin:0,paddingLeft:t.sizes.paddingLeft_search,paddingRight:0,paddingTop:0,paddingBottom:0,flex:1}),searchIcon:s.createIconStyle({fontSize:t.sizes.icon_search,padding:0,fillColor:t.colors.text_search}),tabBar:r.Styles.createViewStyle({flexDirection:"row",flex:1,backgroundColor:t.colors.back_tabBar,borderColor:t.colors.border_tabBar,borderWidth:t.sizes.border_tabBar,borderStyle:"solid"}),tab_button:r.Styles.createButtonStyle({flex:1,flexDirection:"column",alignItems:"center",justifyContent:"center",padding:t.sizes.padding_button_tab}),tab_button_active:r.Styles.createButtonStyle({flex:1,flexDirection:"column",alignItems:"center",justifyContent:"center",padding:t.sizes.padding_button_tab}),tab_text:r.Styles.createTextStyle({textAlign:"center",fontSize:t.sizes.font_button_tab,color:t.colors.text_tab}),tab_text_active:r.Styles.createTextStyle({textAlign:"center",fontSize:t.sizes.font_button_tab,color:t.colors.text_tab_active}),tabIcon:s.createIconStyle({fontSize:t.sizes.icon_button_tab,padding:0,fillColor:t.colors.text_tab}),tabIcon_active:s.createIconStyle({fontSize:t.sizes.icon_button_tab,padding:0,fillColor:t.colors.text_tab_active}),pageBackground:r.Styles.createViewStyle({backgroundColor:t.colors.back_page}),page:r.Styles.createViewStyle({backgroundColor:t.colors.back_page}),heading:r.Styles.createViewStyle({paddingLeft:t.sizes.paddingLeft_heading}),heading_text:r.Styles.createTextStyle({fontSize:t.sizes.font_heading}),action_button:r.Styles.createButtonStyle({flexDirection:"column",alignItems:"center",justifyContent:"center"}),action_button_text:r.Styles.createTextStyle({padding:t.sizes.padding_action_button,backgroundColor:t.colors.back_button_action,color:t.colors.text_button,fontSize:t.sizes.font_button}),facebook_button:r.Styles.createButtonStyle({flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:t.colors.back_button_action,padding:t.sizes.padding_action_button}),facebook_button_text:r.Styles.createTextStyle({color:"#FFFFFF",fontSize:t.sizes.font_button,marginLeft:8}),facebook_icon:s.createIconStyle({fontSize:t.sizes.icon_button,padding:0,fillColor:"#FFFFFF"}),warning_text:r.Styles.createTextStyle({padding:t.sizes.padding_action_button,backgroundColor:t.colors.back_warning,color:t.colors.text_warning}),listIcon:s.createIconStyle({fontSize:t.sizes.icon_list,padding:0,fillColor:t.colors.icon_main}),postList:r.Styles.createViewStyle({}),postItem:r.Styles.createViewStyle({}),postPanel:r.Styles.createViewStyle({flex:1,marginBottom:t.sizes.marginBottom_panel,padding:t.sizes.padding_panel,backgroundColor:t.colors.back_panel}),sponsored:r.Styles.createViewStyle({backgroundColor:t.colors.back_sponsored}),postContent_wrapper:r.Styles.createViewStyle({flex:1,flexDirection:"column",borderColor:t.colors.border_post_content_section,borderStyle:"solid",borderLeftWidth:1,borderTopWidth:1,marginTop:4,marginLeft:4,paddingTop:4,paddingLeft:4,minWidth:150}),postIcon_padding:r.Styles.createViewStyle({paddingRight:t.sizes.paddingRight_postIcon}),postIcon:s.createIconStyle({fontSize:t.sizes.icon_post,padding:0,fillColor:t.colors.icon_post}),postIcon_action:s.createIconStyle({fontSize:t.sizes.icon_post_section,padding:0,fillColor:t.colors.icon_post_action}),postIcon_action_disabled:s.createIconStyle({fontSize:t.sizes.icon_post_section,padding:0,fillColor:t.colors.icon_disabled}),postTitle_text:r.Styles.createTextStyle({fontSize:t.sizes.font_post_title,color:t.colors.text_post_title}),postSubTitle_text:r.Styles.createTextStyle({fontSize:t.sizes.font_post_subTitle,color:t.colors.text_post_subTitle}),postContent_section:r.Styles.createViewStyle({flex:1,marginTop:t.sizes.marginTop_post_section,marginBottom:t.sizes.marginBottom_post_section,marginLeft:t.sizes.marginLeft_post_section}),postContent_section_text:r.Styles.createTextStyle({fontSize:t.sizes.font_post_content,color:t.colors.text_post_content}),postContent_section_caption_text:r.Styles.createTextStyle({fontSize:t.sizes.font_post_content_caption,color:t.colors.text_post_content_caption}),postContent_section_details_text:r.Styles.createTextStyle({fontSize:t.sizes.font_post_content_details,color:t.colors.text_post_content_details}),postContent_action:r.Styles.createViewStyle({padding:t.sizes.padding_icon_post_action}),postInfo_text:r.Styles.createTextStyle({fontSize:t.sizes.font_post_info,color:t.colors.text_post_info}),postContent_comment_name_text:r.Styles.createTextStyle({fontSize:t.sizes.font_post_comment,color:t.colors.text_post_title}),postContent_comment_message_text:r.Styles.createTextStyle({fontSize:t.sizes.font_post_comment,color:t.colors.text_post_content}),postContent_comment_info_text:r.Styles.createTextStyle({fontSize:t.sizes.font_post_info,color:t.colors.text_post_info}),postStats_view:r.Styles.createViewStyle({flex:1,borderStyle:"solid",borderColor:t.colors.border_post_content_section,borderTopWidth:1,marginTop:t.sizes.marginBottom_post_section,paddingTop:t.sizes.marginBottom_post_section}),postStats_icon:s.createIconStyle({fontSize:t.sizes.icon_stats,padding:0,fillColor:t.colors.icon_disabled}),postStats_text:r.Styles.createTextStyle({fontSize:t.sizes.font_stats,padding:0}),postImage_maxWidth:375,postImage:r.Styles.createImageStyle({flex:1}),postProfilePicture:r.Styles.createImageStyle({width:32,height:32})})},184:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),r=o(215),s=o(208),i=o(436),a=r.Store;s.handleRoute(),t.App=function(){return n.createElement(i.Root,{store:a})}},185:function(e,t,o){"use strict";function n(){return new Promise(function(e,t){if(r)return void e(r);l.push(e),a||(a=!0,console.log("START loadFacebookSdk"),window.fbAsyncInit=function(){FB.init({appId:s.facebookAppId,cookie:!0,xfbml:!1,version:"v2.8"}),u(),console.log("END loadFacebookSdk")},function(e,t,o){var n,r=e.getElementsByTagName(t)[0];e.getElementById(o)||(n=e.createElement(t),n.id=o,n.src="//connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(n,r))}(document,"script","facebook-jssdk"))})}Object.defineProperty(t,"__esModule",{value:!0});var r,s=o(212),i=o(64),a=!1,c=function(){return r=r||{getLoginStatus:function(e){return i.autoTimeout({timeoutErrorMessage:"Timeout: FacebookSdk.getLoginStatus",errorMessage:"Error: FacebookSdk.getLoginStatus"},function(){return new Promise(function(t,o){FB.getLoginStatus(function(e){t(e)},e||!1)})})},login:function(){return i.autoTimeout({timeoutErrorMessage:"Timeout: FacebookSdk.getLoginStatus",errorMessage:"Error: FacebookSdk.getLoginStatus"},function(){return new Promise(function(e,t){FB.login(function(t){e(t)})})})},logout:function(){return i.autoTimeout({timeoutErrorMessage:"Timeout: FacebookSdk.getLoginStatus",errorMessage:"Error: FacebookSdk.getLoginStatus"},function(){return new Promise(function(e,t){FB.logout(function(t){e(t)})})})}}},l=[],u=function(){var e=c(),t=l;l=[],t.forEach(function(t){return t(e)})};t.loadFacebookSdk=n},186:function(e,t,o){"use strict";function n(e,t,o){if(e>o){var n=t/e;e=o,t=Math.floor(o*n)}return{width:e,height:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.getSize=n},187:function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=o(101),s=o(1),i=o(186),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onImageLoad=function(){var e=t.refs.img,o=e.getNativeWidth(),n=e.getNativeHeight();t.setState(i.getSize(o,n,t.props.maxWidth))},t}return n(t,e),t.prototype.render=function(){var e=this.state&&this.state.width||50,t=this.state&&this.state.height||50,o=s.Styles.createViewStyle({width:e,height:t},!1);return s.createElement(s.View,{style:o},s.createElement(s.Image,{ref:"img",source:this.props.source,style:this.props.style,onLoad:this.onImageLoad}))},t}(r.SimpleComponentBase);t.SizedImage=a},188:function(e,t,o){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),s=o(23),i=o(19);t.CircleOpenIcon=function(e){return r.createElement(i.IconBase,n({viewBox:"0 0 40 40"},e),r.createElement(s.SvgPath,{strokeColor:e.style.strokeColor,fillColor:e.style.fillColor,d:"m20.1 7.9q-3.3 0-6.1 1.6t-4.4 4.4-1.6 6.1 1.6 6.1 4.4 4.4 6.1 1.6 6.1-1.6 4.5-4.4 1.6-6.1-1.6-6.1-4.5-4.4-6.1-1.6z m17.2 12.1q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))}},189:function(e,t,o){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),s=o(23),i=o(19);t.ClearIcon=function(e){return r.createElement(i.IconBase,n({viewBox:"0 0 40 40"},e),r.createElement(s.SvgPath,{strokeColor:e.style.strokeColor,fillColor:e.style.fillColor,d:"m31.6 10.7l-9.3 9.3 9.3 9.3-2.3 2.3-9.3-9.3-9.3 9.3-2.3-2.3 9.3-9.3-9.3-9.3 2.3-2.3 9.3 9.3 9.3-9.3z"}))}},19:function(e,t,o){"use strict";function n(e){return e}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),s=o(23);t.createIconStyle=n,t.IconBase=function(e){return r.createElement(s.default,{height:e.style.fontSize+2*e.style.padding,width:e.style.fontSize+2*e.style.padding,viewBox:e.viewBox},e.children)}},190:function(e,t,o){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),s=o(23),i=o(19);t.FacebookIcon=function(e){return r.createElement(i.IconBase,n({viewBox:"0 0 40 40"},e),r.createElement(s.SvgPath,{strokeColor:e.style.strokeColor,fillColor:e.style.fillColor,d:"m35.4 2.9q0.8 0 1.3 0.5t0.6 1.4v30.4q0 0.8-0.6 1.4t-1.3 0.5h-8.7v-13.2h4.4l0.7-5.2h-5.1v-3.3q0-1.3 0.5-1.9t2-0.6l2.7 0v-4.7q-1.4-0.2-3.9-0.2-3.1 0-4.9 1.8t-1.8 5.1v3.8h-4.5v5.2h4.5v13.2h-16.4q-0.8 0-1.3-0.5t-0.6-1.4v-30.4q0-0.8 0.6-1.4t1.3-0.5h30.5z"}))}},191:function(e,t,o){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),s=o(23),i=o(19);t.FeedbackIcon=function(e){return r.createElement(i.IconBase,n({viewBox:"0 0 40 40"},e),r.createElement(s.SvgPath,{strokeColor:e.style.strokeColor,fillColor:e.style.fillColor,d:"m21.6 16.6v-6.6h-3.2v6.6h3.2z m0 6.8v-3.4h-3.2v3.4h3.2z m11.8-20q1.3 0 2.3 0.9t0.9 2.3v20q0 1.4-0.9 2.4t-2.3 1h-23.4l-6.6 6.6v-30q0-1.3 0.9-2.3t2.3-0.9h26.8z"}))}},192:function(e,t,o){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),s=o(23),i=o(19);t.MenuIcon=function(e){return r.createElement(i.IconBase,n({viewBox:"0 0 40 40"},e),r.createElement(s.SvgPath,{strokeColor:e.style.strokeColor,fillColor:e.style.fillColor,d:"m5 10h30v3.4h-30v-3.4z m0 11.6v-3.2h30v3.2h-30z m0 8.4v-3.4h30v3.4h-30z"}))}},193:function(e,t,o){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),s=o(23),i=o(19);t.NewsIcon=function(e){return r.createElement(i.IconBase,n({viewBox:"0 -2 40 40"},e),r.createElement(s.SvgPath,{strokeColor:e.style.strokeColor,fillColor:e.style.fillColor,d:"m19.9 12.5h-7.5v7.5h7.5v-7.5z m2.5 12.5v2.5h-12.5v-2.5h12.5z m0-14.9v12.4h-12.5v-12.4h12.5z m12.4 14.9v2.5h-10v-2.5h10z m0-5v2.5h-10v-2.5h10z m0-5v2.5h-10v-2.5h10z m0-4.9v2.4h-10v-2.4h10z m-29.8 18.6v-18.6h-2.5v18.6q0 0.5 0.4 0.9t0.8 0.3 0.9-0.3 0.4-0.9z m32.3 0v-21.1h-29.8v21.1q0 0.6-0.3 1.2h28.8q0.5 0 0.9-0.3t0.4-0.9z m2.5-23.6v23.6q0 1.5-1.1 2.6t-2.7 1.1h-32.3q-1.5 0-2.6-1.1t-1.1-2.6v-21.1h5v-2.5h34.8z"}))}},194:function(e,t,o){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),s=o(23),i=o(19);t.SearchIcon=function(e){return r.createElement(i.IconBase,n({viewBox:"0 0 40 40"},e),r.createElement(s.SvgPath,{strokeColor:e.style.strokeColor,fillColor:e.style.fillColor,d:"m27.2 18.6q0-4.2-2.9-7.1t-7.1-2.9-7 2.9-3 7.1 2.9 7 7.1 3 7.1-3 2.9-7z m11.4 18.5q0 1.2-0.8 2.1t-2 0.8q-1.2 0-2-0.8l-7.7-7.7q-4 2.8-8.9 2.8-3.2 0-6.1-1.3t-5-3.3-3.4-5-1.2-6.1 1.2-6.1 3.4-5.1 5-3.3 6.1-1.2 6.1 1.2 5 3.3 3.4 5.1 1.2 6.1q0 4.9-2.7 8.9l7.6 7.6q0.8 0.9 0.8 2z"}))}},195:function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),s=o(101),i={fullRow:r.Styles.createViewStyle({flexDirection:"row",flex:1}),fullColumn:r.Styles.createViewStyle({flexDirection:"column",flex:1})},a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onScroll=function(){var e=document.body,o=document.documentElement,n=Math.max(e.scrollHeight,e.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight);document.body.scrollTop+document.body.clientHeight>n-100&&t.props.onScrollReachEnd&&t.props.onScrollReachEnd()},t}return n(t,e),t.prototype.componentDidMount=function(){this.props.onScrollReachEnd&&(window.addEventListener("scroll",this.onScroll),this.onScroll())},t.prototype.componentWillUnmount=function(){this.props.onScrollReachEnd&&window.removeEventListener("scroll",this.onScroll)},t.prototype.render=function(){return r.createElement("div",{style:"width:100%; height: 100%; background-color: "+this.props.backgroundColor},r.createElement("div",{style:"width:100%"},this.props.headerContent),r.createElement("div",{style:"width:100%; display:flex;"},r.createElement(r.View,{style:i.fullColumn},this.props.children)),r.createElement("div",{style:"height:"+this.props.footerHeight+"px;"}),r.createElement(c,null,this.props.headerContent),r.createElement("div",{style:"position:fixed; bottom: 0; width: 100%;"},this.props.footerContent))},t}(s.SimpleComponentBase);t.MainLayout=a;var c=function(e){function t(){var t=e.call(this)||this;return t._lastScrollY=0,t.handleScroll=function(e){var o=window.scrollY,n=o-t._lastScrollY,r=t.state.isVisible;if(o<0)return void(r&&t.setState({isVisible:!1}));Math.abs(n)<100||(t._lastScrollY=o,!r&&n<0?t.setState({isVisible:!0}):r&&n>0&&t.setState({isVisible:!1}))},setTimeout(function(){t.state={isVisible:!1,clonedChildren:r.Children.map(t.props.children,function(e){return e})}}),t}return n(t,e),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.handleScroll)},t.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.handleScroll)},t.prototype.render=function(){return this.state.isVisible&&r.createElement("div",{style:"position:fixed; top: 0; width: 100%;"},this.state.clonedChildren)},t}(s.SimpleComponentBase);t.AutoHideHeader=c},197:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),r=o(29),s=o(14),i=o(63),a=o(435),c=o(433);t.NewsPage=function(e){return n.createElement(c.PageLayout,{store:e.store,postsStore:e.store.newsFeed,onScrollReachEnd:e.store.newsFeed.loadMorePosts},n.createElement(n.View,{style:s.styles.page},n.createElement(t.NewsPostList,{store:e.store})))},t.NewsPostList=function(e){return r.storeComp(function(){return{isFacebookLoggedIn:e.store.account.getIsFacebookLoggedIn(),loginError:e.store.account.getError()}},function(t){return n.createElement(n.View,null,t.isFacebookLoggedIn?n.createElement(a.PostsBaseList,{store:e.store,postsStore:e.store.newsFeed}):n.createElement(n.View,null,n.createElement(n.Text,{style:s.styles.warning_text},"Facebook not Logged In"),!!t.loginError&&n.createElement(n.Text,{style:s.styles.warning_text},t.loginError),n.createElement(n.View,{style:s.styles.postPanel},n.createElement(n.View,{style:s.styles.center_content},n.createElement(i.FacebookLogin,{onLoginFinished:e.store.account.onLoginFinished,onError:e.store.account.setLoginError})))))})}},201:function(e,t,o){"use strict";function n(e){var t=new Date(Date.parse(e.replace("+0000","+00:00")));return t.toLocaleDateString()+" "+t.toLocaleTimeString()}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),s=o(14),i=o(187);t.FacebookFeedPost=function(e){return r.createElement(r.View,{style:[s.styles.postPanel,s.styles.sponsored]},r.createElement(r.Button,{onPress:function(){return r.Linking.openUrl(e.item.permalink_url)}},r.createElement(r.View,{style:s.styles.fullRow},r.createElement(r.View,{style:s.styles.postIcon_padding},r.createElement(r.Image,{source:e.item.from.picture.data.url,style:s.styles.postProfilePicture})),r.createElement(r.View,{style:s.styles.fullColumn},r.createElement(r.View,null,r.createElement(r.Text,{style:s.styles.postTitle_text},e.item.from.name)),r.createElement(r.View,null,r.createElement(r.Text,{style:s.styles.postInfo_text},n(e.item.created_time)))))),r.createElement(r.View,{style:[s.styles.fullColumn]},!!e.item.message&&r.createElement(r.View,{style:s.styles.fullRow},r.createElement(r.View,{style:s.styles.postContent_section},r.createElement(r.Text,{style:s.styles.postContent_section_text},e.item.message))),!!e.item.full_picture&&r.createElement(r.View,{style:[s.styles.fullRow,s.styles.center_content]},r.createElement(i.SizedImage,{style:s.styles.postImage,source:e.item.full_picture,maxWidth:s.styles.postImage_maxWidth})),!!e.item.caption&&r.createElement(r.View,{style:s.styles.fullRow},r.createElement(r.View,{style:s.styles.postContent_section},r.createElement(r.Text,{style:s.styles.postContent_section_caption_text},e.item.caption))),!!e.item.description&&r.createElement(r.View,{style:s.styles.fullRow},r.createElement(r.View,{style:s.styles.postContent_section},r.createElement(r.Text,{style:s.styles.postContent_section_details_text},e.item.description)))),e.item.shares&&e.item.shares.count&&r.createElement(r.View,{style:[s.styles.fullColumn,s.styles.postStats_view]},r.createElement(r.View,{style:[s.styles.postContent_section,s.styles.fullRow]},r.createElement(r.Text,{style:s.styles.postContent_section_details_text},e.item.shares.count," shares "),r.createElement(r.Text,{style:s.styles.postContent_section_details_text},e.item.comments&&e.item.comments.data&&e.item.comments.data.length||0," comments "))),e.item.comments&&e.item.comments.data&&e.item.comments.data.length&&r.createElement(r.View,{style:[s.styles.fullColumn,s.styles.postStats_view]},e.item.comments.data.map(function(e){return r.createElement(t.Comment,{key:e.id,comment:e})})),r.createElement(r.View,{style:s.styles.right_content},r.createElement(r.Button,{style:s.styles.action_button,onPress:function(){return r.Linking.openUrl(e.item.permalink_url)}},r.createElement(r.Text,{style:s.styles.action_button_text},"Open in Facebook"))))},t.Comment=function(e){return r.createElement(r.View,{style:[s.styles.postContent_section,s.styles.fullRow]},r.createElement(r.Image,{source:e.comment.from.picture.data.url,style:s.styles.postProfilePicture}),r.createElement(r.View,{style:s.styles.fullColumn},r.createElement(r.View,{style:s.styles.flex1},r.createElement(r.Text,{style:s.styles.postContent_comment_message_text},r.createElement(r.Text,{style:s.styles.postContent_comment_name_text},e.comment.from.name," "),e.comment.message)),r.createElement(r.Text,{style:s.styles.postContent_comment_info_text},n(e.comment.created_time))))},t.formatTime=n},202:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),r=o(203),s=o(14);t.PostList=function(e){return n.createElement(n.View,{style:s.styles.postList},e.items.map(function(t,o){return n.createElement(n.View,{style:s.styles.postItem,key:o},n.createElement(r.PostSelector,{store:e.store,item:t}))}))}},203:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(188),r=o(14),s=o(1),i=o(201);t.PostSelector=function(e){switch(e.item.kind){case"FacebookPost":return s.createElement(i.FacebookFeedPost,{store:e.store,item:e.item});default:return s.createElement(t.GenericPost,{store:e.store,item:e.item})}},t.GenericPost=function(e){var t=e.item;return s.createElement(s.View,{style:r.styles.postPanel},s.createElement(s.View,{style:r.styles.fullRow},s.createElement(s.View,{style:r.styles.postIcon_padding},s.createElement(n.CircleOpenIcon,{style:r.styles.postIcon})),s.createElement(s.View,{style:r.styles.fullColumn},s.createElement(s.View,null,s.createElement(s.Text,{style:r.styles.postTitle_text},t.kind)))),s.createElement(s.View,{style:r.styles.postContent_section},Object.getOwnPropertyNames(t).filter(function(e){return"kind"!==e}).map(function(e,o){return s.createElement(s.View,{key:o},s.createElement(s.Text,{style:r.styles.postContent_section_text},t[e]+""))})))}},204:function(e,t,o){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),s=o(14),i=o(191),a=n({},s.styles.postIcon_action,{fillColor:s.colors.actionIcons.e_yellow}),c=function(){r.Linking.openUrl("https://goo.gl/forms/FORM_URL?")};t.FeedbackButton=function(){return r.createElement(r.Button,{onPress:c},r.createElement(i.FeedbackIcon,{style:a}))}},205:function(e,t,o){"use strict";function n(e,t){return void 0===e&&(e=null),void 0===t&&(t=""),function(o,n){var i=s+t+n+"__value",a={};return a.get=function(){var t=this,o=i,n=t[o];if(void 0===n){t[o]=null,n=e,t.startLoading&&t.startLoading();r.Storage.getItem_noMemCache(o).then(function(e){t.endLoading&&t.endLoading(),null!=e&&(t[o]=JSON.parse(e),t.trigger())})}return n},a.set=function(e){var t=this,o=i;t[o]=e,r.Storage.setItem_noMemCache(o,JSON.stringify(e))},a}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(207),s="v0_1";t.autoDeviceStorage=n},206:function(e,t,o){"use strict";var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(i,a)}c((n=n.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){function o(e){return function(t){return n([e,t])}}function n(o){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,s&&(i=s[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(s,o[1])).done)return i;switch(s=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,s=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],s=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r,s,i,a,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var s=o(1),i=function(){function e(){var e=this;this.hasItem=function(t){return n(e,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,s.Storage.getItem(t)];case 1:return[2,null!=e.sent()]}})})},console.log("Using StorageClass (native)")}return e.prototype.getItem=function(e){return s.Storage.getItem(e)},e.prototype.getItem_noMemCache=function(e){return s.Storage.getItem(e)},e.prototype.setItem=function(e,t){return s.Storage.setItem(e,t)},e.prototype.setItem_noMemCache=function(e,t){return s.Storage.setItem(e,t)},e}();t.Storage=new i},207:function(e,t,o){"use strict";function n(){try{if(void 0===typeof localStorage)return!1;var e="___test"+Math.random();localStorage[e]="Test Value";var t="Test Value"===localStorage[e];return localStorage.removeItem(e),t}catch(e){return!1}}var r=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(i,a)}c((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function o(e){return function(t){return n([e,t])}}function n(o){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,s&&(i=s[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(s,o[1])).done)return i;switch(s=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,s=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],s=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r,s,i,a,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var i=o(1),a=o(206),c=function(){function e(){this._supportsLocalStorage=void 0,this._memCache={},console.log("Using StorageClass (web-memStorage/localStorage)")}return Object.defineProperty(e.prototype,"supportsLocalStorage",{get:function(){return void 0!==this._supportsLocalStorage?this._supportsLocalStorage:this._supportsLocalStorage=n()},enumerable:!0,configurable:!0}),e.prototype.getItem=function(e){return r(this,void 0,void 0,function(){var t,o;return s(this,function(n){switch(n.label){case 0:return void 0!==this._memCache[e]?[3,2]:(t=this._memCache,o=e,[4,this.getItem_noMemCache(e)]);case 1:t[o]=n.sent(),n.label=2;case 2:return[2,this._memCache[e]]}})})},e.prototype.getItem_noMemCache=function(e){return r(this,void 0,void 0,function(){return s(this,function(t){return this.supportsLocalStorage?[2,localStorage.getItem(e)]:[2,null]})})},e.prototype.setItem=function(e,t){return r(this,void 0,void 0,function(){return s(this,function(o){return this._memCache[e]=t,this.setItem_noMemCache(e,t),[2]})})},e.prototype.setItem_noMemCache=function(e,t){return r(this,void 0,void 0,function(){return s(this,function(o){return this.supportsLocalStorage?[2,localStorage.setItem(e,t)]:[2]})})},e.prototype.hasItem=function(e){return r(this,void 0,void 0,function(){return s(this,function(t){return[2,void 0!==this.getItem(e)]})})},e}();t.Storage="web"===i.Platform.getType()?new c:a.Storage},208:function(e,t,o){"use strict";function n(){if("web"===r.Platform.getType()){var e=location.search,t=e.match(/\Wpath=([^&]+)(?:&|$)/),o=t&&t[1],n=o||location.pathname;console.log("handleRoute",{path:n});var s=n.replace(/^\//,"").split("/");(s[0]||"").toLowerCase()}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1);t.handleRoute=n},209:function(e,t,o){"use strict";function n(e,t,o,n,r,c){return void 0===n&&(n=10),void 0===r&&(r=null),void 0===c&&(c=null),s(this,void 0,void 0,function(){var s,l,u,p;return i(this,function(i){return s=r&&"&since="+r||"",l=c&&"&until="+c||"",u=n&&"&limit="+n||"",p="https://graph.facebook.com/v2.6/"+o+"/posts?fields="+a+u+s+l+"&access_token="+t,[2,e.graphApi(p,"getPosts")]})})}function r(e,t,o,n,r,s){void 0===n&&(n=10),void 0===r&&(r=null),void 0===s&&(s=null);var i=r&&"&since="+r||"",c=s&&"&until="+s||"",l=n&&"&limit="+n||"",u="https://graph.facebook.com/v2.6/posts?ids="+o.join(",")+"&fields="+a+l+i+c+"&access_token="+t;return e.graphApiRaw(u,"getPosts_multiplePages")}var s=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(i,a)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function o(e){return function(t){return n([e,t])}}function n(o){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,s&&(i=s[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(s,o[1])).done)return i;switch(s=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,s=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],s=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r,s,i,a,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var a="created_time,message,picture,full_picture,id,caption,description,type,source,link,icon,permalink_url,shares,from{id,name,picture},comments{id,from{id,name,picture},message,created_time}";t.getPosts=n,t.getPosts_multiplePages=r},210:function(e,t,o){"use strict";function n(e,t){return s(this,void 0,void 0,function(){var o=this;return i(this,function(n){return[2,a.autoTimeout({timeoutErrorMessage:"Timeout: "+t,errorMessage:"Error: "+t},function(){return s(o,void 0,void 0,function(){var o,n,r;return i(this,function(s){switch(s.label){case 0:return[4,fetch(e,{method:"GET"})];case 1:return o=s.sent(),[4,o.json()];case 2:if(n=s.sent(),n.error)throw console.error(t+"graphApi ERROR",n),""+n.error;return r=n,[2,r]}})})})]})})}function r(e,t){return s(this,void 0,void 0,function(){return i(this,function(o){switch(o.label){case 0:return[4,n(e,t)];case 1:return[2,o.sent().data]}})})}var s=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(i,a)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function o(e){return function(t){return n([e,t])}}function n(o){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,s&&(i=s[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(s,o[1])).done)return i;switch(s=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,s=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],s=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r,s,i,a,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var a=o(64);t.facebookClient={graphApiRaw:n,graphApi:r}},211:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.facebookAppId="12345"},212:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}(o(211))},213:function(e,t,o){"use strict";function n(e){e.forEach(function(e){e.createdTimeTicks=Date.parse(e.created_time.replace("+0000","+00:00")),e.kind="FacebookPost"});var t=e.reduce(function(e,t){return e[t.id]=t,e},{});return Object.getOwnPropertyNames(t).map(function(e){return t[e]}).sort(function(e,t){return t.createdTimeTicks-e.createdTimeTicks})}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),s=this&&this.__decorate||function(e,t,o,n){var r,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,o,i):r(t,o))||i);return s>3&&i&&Object.defineProperty(t,o,i),i},i=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(i,a)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function o(e){return function(t){return n([e,t])}}function n(o){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,s&&(i=s[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(s,o[1])).done)return i;switch(s=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,s=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],s=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r,s,i,a,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var c=o(41),l=o(103),u=o(214),p=o(209),f=o(102),d=o(210),_=[],h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.accountStore=f.AccountStore,t.loadFacebookPosts=function(){return i(t,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,this.accountStore.getFacebookAccessToken_async()];case 1:return t.sent(),[4,this.populateActivePosts()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),this.setError("Failed to load data from Facebook",e),[3,4];case 4:return[2]}})})},t.populateActivePosts=function(){return i(t,void 0,void 0,function(){var e,t,o,r,s,i,c,l,u,f,_,h,g,y,m=this;return a(this,function(a){switch(a.label){case 0:if(e=this.accountStore.getFacebookAccessToken(),console.log("NewsFeedStore.populateActivePosts START",{accessToken:e}),!e)return this.setError("Facebook Account not Connected"),[2];if((t=this._postsAll_facebook)&&t.length)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,p.getPosts_multiplePages(d.facebookClient,e,this._newsFeedData.feeds.map(function(e){return e.pageId}))];case 2:o=a.sent(),r=[],s=function(e){var t=i._newsFeedData.feeds.filter(function(t){return t.pageId===e})[0];console.log("NewsFeedStore.populateActivePosts AddAllFeeds",{k:e,feed:t,pagePosts:o,_newsFeedData:i._newsFeedData});var s=o[e].data;t.posts=t.posts||[],(a=t.posts).push.apply(a,s),t.posts=n(t.posts),t.isLoading=!1,t.oldestEntryTimeTicks=t.posts&&t.posts[t.posts.length-1].createdTimeTicks||0,r.push.apply(r,s);var a},i=this;for(c in o)s(c);return this._postsAll_facebook=this._postsAll_facebook||[],(y=this._postsAll_facebook).push.apply(y,r),this._postsAll_facebook=n(this._postsAll_facebook),console.log("NewsFeedStore.populateActivePosts END",{allPosts:this._postsAll_facebook,pagePosts:o}),[2];case 3:return l=a.sent(),this.setError("Failed to load posts from Facebook",l),[2];case 4:u=this._postsAll_facebook.slice(0,this._postsActiveCount),f=u&&u.length&&u[u.length-1],_=f&&f.createdTimeTicks||Number.MAX_VALUE,h=this._newsFeedData.feeds.filter(function(e){return!e.isLoading&&(e.oldestEntryTimeTicks||0)>_}).map(function(e){return m.loadMoreFeedPosts(e)}),a.label=5;case 5:return a.trys.push([5,7,,8]),[4,Promise.all(h)];case 6:return a.sent(),[3,8];case 7:return g=a.sent(),this.setError("Failed to load more posts from Facebook",g),[2];case 8:return console.log("NewsFeedStore.populateActivePosts END",{allPosts:this._postsAll_facebook,promises:h,oldestActiveTimeTicks:_}),[2]}})})},t.loadMoreFeedPosts=function(e){return i(t,void 0,void 0,function(){var t,o,r,s,i,c,l,u;return a(this,function(a){switch(a.label){case 0:t=this.accountStore.getFacebookAccessToken(),console.log("NewsFeedStore.loadMoreFeedPosts START",{feed:e,allPosts:this._postsAll_facebook,accessToken:t}),a.label=1;case 1:return a.trys.push([1,3,,4]),e.isLoading=!0,e.posts=e.posts||[],o=e.posts&&e.posts[e.posts.length-1].createdTimeTicks/1e3||null,s=(r=(l=e.posts).push).apply,i=[l],[4,p.getPosts(d.facebookClient,t,e.pageId,null,null,o)];case 2:return s.apply(r,i.concat([a.sent()])),e.posts=n(e.posts),e.isLoading=!1,e.oldestEntryTimeTicks=e.posts&&e.posts[e.posts.length-1].createdTimeTicks||0,this._postsAll_facebook=this._postsAll_facebook||[],(u=this._postsAll_facebook).push.apply(u,e.posts),this._postsAll_facebook=n(this._postsAll_facebook),[3,4];case 3:throw c=a.sent(),console.log("NewsFeedStore.loadMoreFeedPosts FAIL",c),e.isLoading=!1,c;case 4:return console.log("NewsFeedStore.loadMoreFeedPosts END",{feed:e,allPosts:this._postsAll_facebook}),[2]}})})},t}return r(t,e),t.prototype.load=function(){this._newsFeedData={feeds:_.map(function(e){return{pageId:e,posts:[]}})}},t.prototype.getPosts_filtered=function(e){return i(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this._postsAll_facebook?[3,2]:[4,this.loadFacebookPosts()];case 1:t.sent(),t.label=2;case 2:return[2,this._postsAll_facebook.filter(function(t){return l.isMatch(e,t)})]}})})},t}(u.PostsStoreBase);h=s([c.AutoSubscribeStore],h),t.NewsFeedStoreClass=h,t.NewsFeedStore=new h},214:function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,o,i):r(t,o))||i);return s>3&&i&&Object.defineProperty(t,o,i),i},s=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(i,a)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function o(e){return function(t){return n([e,t])}}function n(o){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,s&&(i=s[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(s,o[1])).done)return i;switch(s=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,s=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],s=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r,s,i,a,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var a=o(99),c=o(41),l=function(e){function t(){var t=e.call(this)||this;return t._error=null,t._isLoading=!0,t._isLoaded=!1,t._isLoadingMore=!1,t._postsActiveCount=10,t._hasMorePosts=!1,t.setSearch=function(e){return s(t,void 0,void 0,function(){return i(this,function(t){return console.log("PostsStoreBase.setSearch",{search:e}),e===this._search?[2]:(this._search=e,this.resetData(!0),[2])})})},t.loadMorePosts=function(){setTimeout(t.loadMorePosts_inner)},t._isIgnoringLoadMore=!1,t.loadMorePosts_inner=function(){return s(t,void 0,void 0,function(){return i(this,function(e){return console.log("PostsStoreBase.loadMorePosts"),this._isLoadingMore||this._isIgnoringLoadMore||!this._postsFiltered||(this._isIgnoringLoadMore=!0,setTimeout(this.loadMorePosts_resume,500),this._isLoadingMore=!0,this._postsActiveCount+=10,this.showActivePosts()),[2]})})},t.loadMorePosts_resume=function(){t._isIgnoringLoadMore=!1},t.setError=function(e,o){if(console.error(e,o),t._error=e,o)try{t._error=e+": "+JSON.stringify(o)}catch(n){t._error=e+": "+o}t._isLoading=!1,t._isLoaded=!1,t._isLoadingMore=!1,t.trigger()},t.load_super=function(){t.load(),t.resetData(!0)},t.resetData=function(e){void 0===e&&(e=!1),t._error=null,t._isLoading=!0,t._isLoaded=!1,t._isLoadingMore=!1,e&&(t._postsFiltered=null,t._postsActiveCount=10),t._postsActive=null,t.trigger()},t.loadData=function(){return s(t,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return this._postsFiltered?[3,2]:(e=this,[4,this.getPosts_filtered(this._search)]);case 1:e._postsFiltered=t.sent(),t.label=2;case 2:return this.showActivePosts(),[2]}})})},t.showActivePosts=function(){var e=t._postsFiltered;t._postsActive=e.slice(0,t._postsActiveCount),t._hasMorePosts=t._postsActive.length!==e.length,t._isLoaded=!0,t._isLoading=!1,t._isLoadingMore=!1,t.trigger()},setTimeout(t.load_super,10),setTimeout(t.loadData,1e3),t}return n(t,e),t.prototype.getPosts=function(){return this._postsActive||(this._postsActive=[],setTimeout(this.loadData)),this._postsActive},t.prototype.getError=function(){return this._error},t.prototype.getIsLoading=function(){return this._isLoading},t.prototype.getIsLoaded=function(){return this._isLoaded},t.prototype.getIsLoadingMore=function(){return this._isLoadingMore},t.prototype.getSearch=function(){return this._search},t.prototype.getHasMorePosts=function(){return this._hasMorePosts},t}(c.StoreBase);r([c.autoSubscribe],l.prototype,"getPosts",null),r([c.autoSubscribe],l.prototype,"getError",null),r([c.autoSubscribe],l.prototype,"getIsLoading",null),r([c.autoSubscribe],l.prototype,"getIsLoaded",null),r([a.autoSubscribeWithKey("_isLoadingMore")],l.prototype,"getIsLoadingMore",null),r([c.autoSubscribe],l.prototype,"getSearch",null),r([c.autoSubscribe],l.prototype,"getHasMorePosts",null),l=r([c.AutoSubscribeStore],l),t.PostsStoreBase=l},215:function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(s<3?r(i):s>3?r(t,o,i):r(t,o))||i);return s>3&&i&&Object.defineProperty(t,o,i),i},s=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(i,a)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function o(e){return function(t){return n([e,t])}}function n(o){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,s&&(i=s[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(s,o[1])).done)return i;switch(s=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,s=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],s=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r,s,i,a,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var a=o(41),c=o(205),l=o(103),u=o(102),p=o(213),f=function(e){function t(){var t=e.call(this)||this;return t.newsFeed=p.NewsFeedStore,t.account=u.AccountStore,t.uiActions=[],t._isLoading=!0,t._isLoadingChangeId=0,t.load=function(){return s(t,void 0,void 0,function(){return i(this,function(e){return[2]})})},t.startLoading=function(e){return void 0===e&&(e=!1),s(t,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return this._isLoading?[2]:(this._isLoading=!0,this._isLoadingChangeId++,e?[3,2]:(this.trigger(),[4,l.delay(10)]));case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.endLoading=function(e){return void 0===e&&(e=!1),s(t,void 0,void 0,function(){var t;return i(this,function(o){switch(o.label){case 0:return this._isLoading?(t=this._isLoadingChangeId,e?[3,2]:[4,l.delay(10)]):[2];case 1:o.sent(),o.label=2;case 2:return this._isLoading?t!==this._isLoadingChangeId?[2]:(this._isLoading=!1,this._isLoadingChangeId++,this.trigger(),[2]):[2]}})})},t.gotoPage=function(e){return s(t,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return this.startLoading(!0),this._page="Empty",this.trigger(),[4,l.delay(10)];case 1:return t.sent(),this._page=e,this.endLoading(),[2]}})})},setTimeout(t.load,250),t}return n(t,e),t.prototype.getIsLoading=function(){return this._isLoading},t.prototype.getPage=function(){return this._page},t}(a.StoreBase);r([c.autoDeviceStorage("Settings")],f.prototype,"_page",void 0),r([a.autoSubscribe],f.prototype,"getIsLoading",null),r([a.autoSubscribe],f.prototype,"getPage",null),f=r([a.AutoSubscribeStore],f),t.StoreClass=f,t.Store=new f},216:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),r=o(184);n.App.initialize(!0,!0),n.UserInterface.setMainView(n.createElement(r.App,null))},29:function(e,t,o){"use strict";function n(e,t){return s.createElement(a,{buildStateCallback:e,renderCallback:t})}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=o(1),i=o(41);t.storeComp=n;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._buildState=function(e,t){return this.props.buildStateCallback()},t.prototype.render=function(){return this.props.renderCallback(this.state)},t}(i.ComponentBase)},431:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),r=o(14),s=o(63),i=o(29),a=o(433);t.SettingsPage=function(e){return i.storeComp(function(){return{loginError:e.store.account.getError(),isLoggedIn:e.store.account.getIsFacebookLoggedIn(),accountMessage:"accessToken = '"+(e.store.account.getFacebookAccessToken()||"").substr(0,10)+"...'",platform:n.Platform.getType()}},function(t){return n.createElement(a.PageLayout,{store:e.store,postsStore:e.store},n.createElement(n.View,{style:r.styles.page},!!t.loginError&&n.createElement(n.Text,{style:r.styles.warning_text},t.loginError),n.createElement(n.View,{style:r.styles.heading},n.createElement(n.Text,{style:r.styles.heading_text},"Settings")),n.createElement(n.View,{style:r.styles.postPanel},n.createElement(n.View,{style:[r.styles.fullRow,r.styles.center_content]},n.createElement(n.View,{style:r.styles.flex1},n.createElement(n.Text,null,"Facebook: ")),n.createElement(s.FacebookLogin,{onLoginFinished:e.store.account.onLoginFinished,onError:e.store.account.setLoginError}))),n.createElement(n.View,{style:r.styles.heading},n.createElement(n.Text,{style:r.styles.heading_text},"Other Pages")),n.createElement(n.View,{style:r.styles.heading},n.createElement(n.Text,{style:r.styles.heading_text},"Debug")),n.createElement(n.View,{style:r.styles.postPanel},n.createElement(n.View,{style:r.styles.center_content},n.createElement(n.Text,null,t.accountMessage),n.createElement(n.Text,null,"Platform: '",t.platform,"'")))))})}},432:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),r=o(193),s=o(192),i=o(433),a=o(431),c=o(197);t.PageSelector=function(e){switch(e.pageName){case"Empty":return n.createElement(t.EmptyPage,{store:e.store});case"Newsfeed":return n.createElement(c.NewsPage,{store:e.store});default:return n.createElement(a.SettingsPage,{store:e.store})}},t.PageIcon=function(e){switch(e.pageName){case"Newsfeed":return n.createElement(r.NewsIcon,{style:e.iconStyle});default:return n.createElement(s.MenuIcon,{style:e.iconStyle})}},t.EmptyPage=function(e){return n.createElement(i.PageLayout,{store:e.store,postsStore:e.store},n.createElement(n.View,null))}},433:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),r=o(14),s=o(195),i=o(434);t.PageLayout=function(e){return n.createElement(s.MainLayout,{backgroundColor:r.colors.back_page,headerContent:n.createElement(i.HeaderBar,{store:e.postsStore}),footerContent:n.createElement(i.TabBar,{store:e.store}),footerHeight:r.sizes.footer_height,onScrollReachEnd:e.onScrollReachEnd},n.createElement(n.View,{style:[r.styles.fullColumn,r.styles.pageBackground]},e.children))}},434:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),r=o(14),s=o(29),i=o(194),a=o(189),c=o(204),l=o(432);t.TabBar=function(e){return n.createElement(n.View,{style:[r.styles.tabBar]},n.createElement(u,{name:"Newsfeed",store:e.store}),n.createElement(u,{name:"Settings",store:e.store}))};var u=function(e){return s.storeComp(function(){return{active:e.store.getPage()}},function(t){var o=e.store.uiActions,s="PageTab_onPress_"+e.name,i=o[s]=o[s]||function(){return e.store.gotoPage(e.name)},a=t.active,c=e.name===a?r.styles.tab_button_active:r.styles.tab_button,u=e.name===a?r.styles.tab_text_active:r.styles.tab_text,p=e.name===a?r.styles.tabIcon_active:r.styles.tabIcon,f=n.createElement(l.PageIcon,{pageName:e.name,iconStyle:p});return n.createElement(n.Button,{style:c,onPress:i},n.createElement(n.View,{style:r.styles.center_content},f),n.createElement(n.Text,{style:u},e.title||e.name))})};t.Loader=function(e){return s.storeComp(function(){return{isLoading:e.store.getIsLoading()}},function(e){return e.isLoading&&n.createElement(n.View,{style:r.styles.loader},n.createElement(n.ActivityIndicator,{size:"medium",color:r.colors.loader}))})},t.MiniLoader=function(e){return s.storeComp(function(){return{isLoading:e.store.getIsLoading(),isWeb:"web"===n.Platform.getType()}},function(e){return n.createElement(n.View,{style:r.styles.mini_loader},e.isLoading&&(e.isWeb?n.createElement(n.View,{style:r.styles.mini_loader_container_web},n.createElement(n.ActivityIndicator,{size:"tiny",color:r.colors.mini_loader_web,deferTime:0})):n.createElement(n.ActivityIndicator,{size:"tiny",color:r.colors.mini_loader_native,deferTime:0})))})},t.AppIconImage=function(){return n.createElement(n.View,{style:r.styles.headerBar_appIconImage_view},n.createElement(n.Image,{style:r.styles.headerBar_appIconImage,source:"/static/images/icon_24.png"}))},t.AppImage=function(){return n.createElement(n.View,{style:r.styles.appImage_view},n.createElement(n.Image,{style:r.styles.appImage,source:"/static/images/icon_128.png"}))},t.HeaderBar=function(e){return s.storeComp(function(){return{hasSearch:e.store.getSearch,search:e.store.getSearch&&e.store.getSearch()}},function(o){var s=o.search,l=null,u=function(e){s=e,clearTimeout(l),l=setTimeout(d,1e3)},f=function(){clearTimeout(l),e.store.setSearch("")},d=function(){clearTimeout(l),e.store.setSearch(s)};return n.createElement(n.View,{style:r.styles.headerBar},n.createElement(t.AppIconImage,null),n.createElement(t.MiniLoader,{store:e.store}),o.hasSearch?n.createElement(n.View,{style:r.styles.searchBox_view},n.createElement(i.SearchIcon,{style:r.styles.searchIcon}),n.createElement(p,{value:o.search,setValue:u,onDone:d}),n.createElement(n.Button,{onPress:f},n.createElement(a.ClearIcon,{style:r.styles.searchIcon}))):n.createElement(n.View,{style:r.styles.flex1}),n.createElement(n.View,{style:r.styles.headerButtons},n.createElement(c.FeedbackButton,null)))})};var p=function(e){return n.createElement(n.TextInput,{style:r.styles.searchBox_text,value:e.value,onChangeText:e.setValue,onSubmitEditing:e.onDone,onBlur:e.onDone,placeholder:"Search",placeholderTextColor:r.styles.searchBox_text_placeholder_color})}},435:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),r=o(14),s=o(29),i=o(202);t.PostsBaseList=function(e){return s.storeComp(function(){return{isLoading:e.postsStore.getIsLoading(),isLoaded:e.postsStore.getIsLoaded(),error:e.postsStore.getError(),posts:e.postsStore.getPosts()}},function(o){return n.createElement(n.View,null,!!o.error&&n.createElement(n.Text,{style:r.styles.warning_text},o.error),o.isLoaded&&!o.posts.length&&n.createElement(n.Text,{style:r.styles.warning_text},"No Items"),o.posts&&!!o.posts.length&&n.createElement(n.View,null,n.createElement(i.PostList,{store:e.store,items:o.posts}),n.createElement(t.LoadMore,{postsStore:e.postsStore})))})},t.LoadMore=function(e){return s.storeComp(function(){return{isLoadingMore:e.postsStore.getIsLoadingMore(),hasMorePosts:e.postsStore.getHasMorePosts()}},function(t){return t.hasMorePosts&&(t.isLoadingMore?n.createElement(n.View,{style:r.styles.center_content},n.createElement(n.ActivityIndicator,{size:"medium",color:r.colors.loader})):n.createElement(n.View,{style:r.styles.center_content},n.createElement(n.Button,{style:r.styles.action_button,onPress:e.postsStore.loadMorePosts},n.createElement(n.Text,{style:r.styles.action_button_text},"Load More"))))})}},436:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(29),r=o(1),s=o(432);t.Root=function(e){return n.storeComp(function(){return{page:e.store.getPage()}},function(t){return r.createElement(s.PageSelector,{store:e.store,pageName:t.page})})}},63:function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(i,a)}c((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function o(e){return function(t){return n([e,t])}}function n(o){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,s&&(i=s[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(s,o[1])).done)return i;switch(s=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,s=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],s=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r,s,i,a,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0});var i=o(64),a=o(1),c=o(190),l=o(185),u=o(14),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onLoginPress=function(){return r(t,void 0,void 0,function(){var e,t=this;return s(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,i.autoTimeout({timeoutErrorMessage:"Timeout: Facebook Login",errorMessage:"Error: Facebook Login"},function(){return r(t,void 0,void 0,function(){var e,t;return s(this,function(o){switch(o.label){case 0:return[4,l.loadFacebookSdk()];case 1:return e=o.sent(),[4,e.login()];case 2:return t=o.sent(),this.setState({isLoggedIn:"connected"===t.status}),t.error?this.props.onError("Error: Facebook Login",t.error):"connected"!==t.status&&this.props.onError("Error: Facebook Login","Not Connected"),[2]}})})})];case 1:return o.sent(),[3,3];case 2:return e=o.sent(),this.props.onError("Error: Facebook Login",e),[3,3];case 3:return[2]}})})},t.onLogoutPress=function(){return r(t,void 0,void 0,function(){var e,t;return s(this,function(o){switch(o.label){case 0:return[4,l.loadFacebookSdk()];case 1:return e=o.sent(),[4,e.logout()];case 2:return t=o.sent(),this.setState({isLoggedIn:"connected"===t.status}),[2]}})})},t}return n(t,e),t.prototype.render=function(){var e=this;return void 0===this.state.isLoggedIn&&setTimeout(function(){return r(e,void 0,void 0,function(){var e,t,o;return s(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,l.loadFacebookSdk()];case 1:return e=n.sent(),[4,e.getLoginStatus()];case 2:return t=n.sent(),this.setState({isLoggedIn:"connected"===t.status}),[3,4];case 3:return o=n.sent(),this.setState({isLoggedIn:!1}),[3,4];case 4:return[2]}})})}),this.state.isLoggedIn?a.createElement(a.Button,{style:u.styles.facebook_button,onPress:this.onLogoutPress},a.createElement(a.Text,{style:u.styles.facebook_button_text},"Logout of Facebook")):a.createElement(a.Button,{style:u.styles.facebook_button,onPress:this.onLoginPress},a.createElement(c.FacebookIcon,{style:u.styles.facebook_icon})," ",a.createElement(a.Text,{style:u.styles.facebook_button_text},"Continue with Facebook"))},t}(a.Component);t.FacebookLogin=p;var f=function(){function e(){}return e.prototype.getCurrentAccessToken=function(){return r(this,void 0,void 0,function(){var e,t,o;return s(this,function(n){switch(n.label){case 0:return console.log("START FacebookAccessClass.getCurrentAccessToken()"),[4,l.loadFacebookSdk()];case 1:return e=n.sent(),console.log("FacebookAccessClass.getCurrentAccessToken() loadedFacebookSdk"),[4,e.getLoginStatus()];case 2:return t=n.sent(),console.log("FacebookAccessClass.getCurrentAccessToken() got login status"),o="connected"===t.status&&t.authResponse.accessToken,console.log("END FacebookAccessClass.getCurrentAccessToken()",{token:o,result:t}),[2,o||null]}})})},e}();t.FacebookAccess=new f},64:function(e,t,o){"use strict";function n(e,t){return e={time:e.time||1e4,timeoutErrorMessage:e.timeoutErrorMessage||"Timeout",errorMessage:e.errorMessage||"Error"},new Promise(function(o,n){try{var r=setTimeout(function(){console.error(e.timeoutErrorMessage),n(e.timeoutErrorMessage)},e.time);t().then(function(e){clearTimeout(r),o(e)}).catch(function(t){clearTimeout(r),console.error(e.errorMessage,t),n(t)})}catch(t){console.error(e.errorMessage,t),n(t)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.autoTimeout=n}},[216]);
//# sourceMappingURL=bundle.js.map