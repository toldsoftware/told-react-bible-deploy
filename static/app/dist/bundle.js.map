{"version":3,"sources":["webpack:///bundle.js","webpack:///./src/app/components/common/simple-component-base.tsx","webpack:///./src/app/store/account-store.ts","webpack:///./src/app/store/helpers.ts","webpack:///./src/app/styles.ts","webpack:///./src/app/app.tsx","webpack:///./src/app/components/common/account/facebook-sdk-web.ts","webpack:///./src/app/components/common/controls/sized-image-common.ts","webpack:///./src/app/components/common/controls/sized-image.tsx","webpack:///./src/app/components/common/icons/circle-open.tsx","webpack:///./src/app/components/common/icons/clear.tsx","webpack:///./src/app/components/common/icons/icon-base.tsx","webpack:///./src/app/components/common/icons/facebook.tsx","webpack:///./src/app/components/common/icons/feedback.tsx","webpack:///./src/app/components/common/icons/menu.tsx","webpack:///./src/app/components/common/icons/news.tsx","webpack:///./src/app/components/common/icons/search.tsx","webpack:///./src/app/components/common/layout/main-layout.tsx","webpack:///./src/app/components/pages/news-page.tsx","webpack:///./src/app/components/posts/facebook-feed-post.tsx","webpack:///./src/app/components/posts/post-list.tsx","webpack:///./src/app/components/posts/post-selector.tsx","webpack:///./src/app/components/smart/feedbackButton.tsx","webpack:///./src/app/extensions/storage/autoDeviceStorage.ts","webpack:///./src/app/extensions/storage/storage.native.tsx","webpack:///./src/app/extensions/storage/storage.tsx","webpack:///./src/app/routes.ts","webpack:///./src/app/server-access/facebook-access.ts","webpack:///./src/app/server-access/facebook-client.ts","webpack:///./src/app/settings.dev.ts","webpack:///./src/app/settings.ts","webpack:///./src/app/store/news-feed-store.ts","webpack:///./src/app/store/posts-store-base.ts","webpack:///./src/app/store/store.ts","webpack:///./src/index.tsx","webpack:///./src/app/components/common/store-component-base.tsx","webpack:///./src/app/components/pages/settings-page.tsx","webpack:///./src/app/components/pages/page-selector.tsx","webpack:///./src/app/components/page/page-layout.tsx","webpack:///./src/app/components/page/page-layout-common.tsx","webpack:///./src/app/components/page/posts-base-list.tsx","webpack:///./src/app/components/page/root.tsx","webpack:///./src/app/components/common/account/facebook-login.tsx","webpack:///./src/app/components/common/utils/auto-timeout.ts"],"names":["webpackJsonp","101","module","exports","__webpack_require__","__extends","this","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","value","RX","SimpleComponentBase","_super","apply","arguments","Component","102","__decorate","decorators","target","key","desc","c","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","verb","n","v","op","f","TypeError","_","y","t","call","label","ops","pop","trys","push","g","sent","throw","return","Symbol","iterator","resub_1","facebook_login_1","AccountStoreClass","_this","_isFacebookLoggedIn","_error","setLoginError","message","data","JSON","stringify","err","_accessToken","trigger","console","error","load","err_1","_a","getFacebookAccessToken_async","log","accessToken","FacebookAccess","getCurrentAccessToken","onLoginFinished","setTimeout","getError","getIsFacebookLoggedIn","getFacebookAccessToken","StoreBase","autoSubscribe","AutoSubscribeStore","AccountStore","103","isMatch","search","item","toLowerCase","k","indexOf","delay","time","injectAds","items","adItems","merged","slice","bItems","map","x","order","Math","random","sort","a","itemsPerBusiness","floor","iFirstBusiness","bIndex","splice","14","__assign","assign","s","icon_base_1","pallette","primary_0","primary_1","primary_2","primary_3","primary_4","secondary_1_0","secondary_1_1","secondary_1_2","secondary_1_3","secondary_1_4","secondary_2_0","secondary_2_1","secondary_2_2","secondary_2_3","secondary_2_4","complement_0","complement_1","complement_2","complement_3","complement_4","iconColors_sections","a_purple","b_red","c_orange","d_orange_yellow","e_yellow","f_yellow_green","g_green","h_teal","iconColors_actions","pageColors","back_heading_default","text_heading_default","back_heading1","text_heading1","back_heading2","text_heading2","text_listItem","colors","actionIcons","sectionIcons","loader","mini_loader_native","mini_loader_web","mini_loader_background","icon_disabled","text_main","icon_main","back_main","text_modal","back_modal","text_title","text_title_edit","back_title_edit","text_button","back_button_action","back_button_warning","back_button_filter","back_button_nav","text_warning","back_warning","border_headerBar","back_headerBar","text_search","text_search_placeholder","back_search","border_tabBar","back_tabBar","text_tab","text_tab_active","back_page","back_panel","back_sponsored","icon_post","icon_post_action","text_post_title","text_post_subTitle","text_post_content","text_post_content_caption","text_post_content_details","text_post_info","back_post_image","border_post_content_section","pageSizes","padding_heading_default","font_heading_default","padding_heading1","font_heading1","padding_heading2","font_heading2","marginTop_paragraph","marginBottom_paragraph","margin_loneLink","paddingTop_loneLink","paddingBottom_loneLink","paddingLeft_loneLink","paddingRight_loneLink","paddingTop_listItem","paddingBottom_listItem","paddingLeft_listItem","paddingRight_listItem","icon_listItem","sizes","padding_button_tab","icon_button_tab","font_button_tab","footer_height","width_miniLoader","height_appIconImage","width_appIconImage","marginLeft_appIconImage","marginRight_appIconImage","height_appImage","width_appImage","margin_search","padding_search","paddingLeft_search","font_search","icon_search","radius_search","padding_page","marginBottom_panel","padding_panel","paddingLeft_heading","font_heading","padding_action_button","icon_list","paddingRight_postIcon","padding_icon_post_action","icon_post_section","icon_post_content","font_post_title","font_post_subTitle","font_post_content","font_post_content_caption","font_post_content_details","font_post_info","font_post_comment","marginLeft_post_section","marginBottom_post_section","marginTop_post_section","image_post_height","font_button","icon_button","font_stats","icon_stats","pageStyles","headings","section","Styles","createViewStyle","padding","backgroundColor","view","text","createTextStyle","fontSize","color","textAlign","fontWeight","alignItems","maxWidth","paragraph","flexDirection","flexWrap","marginTop","marginBottom","flex","inlineLink","createButtonStyle","paddingLeft","paddingRight","inlineLink_text","textDecorationLine","loneLink_view","loneLink_link","margin","paddingTop","paddingBottom","loneLink_text","list","listItem_view","listItem","listItem_icon","createIconStyle","fillColor","styles","row","fullRow","fullColumn","flex1","space_around_content","justifyContent","center_content","center_text","right_content","mini_loader","minWidth","minHeight","mini_loader_container_web","borderRadius","appImage_view","width","height","appImage","createImageStyle","headerBar","borderColor","borderBottomWidth","borderStyle","headerBar_appIconImage_view","marginLeft","marginRight","headerBar_appIconImage","headerButtons","searchBox_view","searchBox_text_placeholder_color","searchBox_text","searchIcon","tabBar","borderWidth","tab_button","tab_button_active","tab_text","tab_text_active","tabIcon","tabIcon_active","pageBackground","page","heading","heading_text","action_button","action_button_text","facebook_button","facebook_button_text","facebook_icon","warning_text","listIcon","postList","postItem","postPanel","sponsored","postContent_wrapper","borderLeftWidth","borderTopWidth","postIcon_padding","postIcon","postIcon_action","postIcon_action_disabled","postTitle_text","postSubTitle_text","postContent_section","postContent_section_text","postContent_section_caption_text","postContent_section_details_text","postContent_action","postInfo_text","postContent_comment_name_text","postContent_comment_message_text","postContent_comment_info_text","postStats_view","postStats_icon","postStats_text","postImage_maxWidth","postImage","postProfilePicture","184","store_1","routes_1","root_1","store","Store","handleRoute","App","createElement","Root","185","loadFacebookSdk","fb","resolves","hasStartedLoading","window","fbAsyncInit","FB","init","appId","settings_1","facebookAppId","cookie","xfbml","version","resolveAll","id","js","fjs","getElementsByTagName","getElementById","src","parentNode","insertBefore","document","auto_timeout_1","getFacebookSdk","getLoginStatus","force","autoTimeout","timeoutErrorMessage","errorMessage","login","logout","forEach","186","getSize","w","h","aspectRatio","187","simple_component_base_1","sized_image_common_1","SizedImage","onImageLoad","img","refs","getNativeWidth","getNativeHeight","setState","props","render","state","View","style","Image","ref","source","onLoad","188","reactxp_imagesvg_1","CircleOpenIcon","IconBase","viewBox","SvgPath","strokeColor","189","ClearIcon","19","default","children","190","FacebookIcon","191","FeedbackIcon","192","MenuIcon","193","NewsIcon","194","SearchIcon","195","MainLayout","onScroll","html","documentElement","contentHeight","max","scrollHeight","offsetHeight","clientHeight","scrollTop","onScrollReachEnd","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","headerContent","footerHeight","AutoHideHeader","footerContent","_lastScrollY","handleScroll","scrollY","dy","isVisible","abs","clonedChildren","Children","197","store_component_base_1","styles_1","posts_base_list_1","page_layout_1","NewsPage","PageLayout","postsStore","newsFeed","loadMorePosts","NewsPostList","storeComp","isFacebookLoggedIn","account","loginError","PostsBaseList","Text","FacebookLogin","onError","201","formatTime","Date","parse","replace","toLocaleDateString","toLocaleTimeString","sized_image_1","FacebookFeedPost","Button","onPress","Linking","openUrl","permalink_url","from","picture","url","name","created_time","full_picture","caption","description","shares","count","comments","Comment","comment","202","post_selector_1","PostList","PostSelector","203","circle_open_1","facebook_feed_post_1","kind","GenericPost","getOwnPropertyNames","filter","204","feedback_1","feedbackOnPress","FeedbackButton","205","autoDeviceStorage","defaultValue","classStorageKey","targetPrototype","propertyKey","propKey","descriptor","get","self","undefined","startLoading","storage_1","Storage","getItem_noMemCache","endLoading","set","setItem_noMemCache","206","XP","StorageClass","hasItem","getItem","setItem","207","testLocalStorage","localStorage","isOk","removeItem","storage_native_1","_supportsLocalStorage","_memCache","enumerable","configurable","_b","_c","supportsLocalStorage","Platform","getType","208","query","location","m","match","qPath","path","pathname","parts","split","209","getPosts","client","pageName","limit","sinceSeconds","untilSeconds","sinceQuery","untilQuery","limitQuery","postFields","graphApi","getPosts_multiplePages","pageNames","limitPerPage","join","graphApiRaw","210","errorName","json","fetch","method","facebookClient","211","212","213","cleanAndSortPosts","createdTimeTicks","hash","reduce","out","helpers_1","posts_store_base_1","facebook_access_1","account_store_1","facebook_client_1","facebookPageIds","NewsFeedStoreClass","accountStore","loadFacebookPosts","populateActivePosts","setError","allPosts","pagePosts","newPosts","_loop_1","this_1","err_2","postsActive","lastPost","oldestActiveTimeTicks","promises","err_3","_postsAll_facebook","_newsFeedData","feeds","pageId","feed","fPosts","posts","isLoading","oldestEntryTimeTicks","_postsActiveCount","Number","MAX_VALUE","loadMoreFeedPosts","all","err_4","_d","_e","_f","concat","getPosts_filtered","PostsStoreBase","NewsFeedStore","214","AutoSubscriptions_1","_isLoading","_isLoaded","_isLoadingMore","_hasMorePosts","setSearch","_search","resetData","loadMorePosts_inner","_isIgnoringLoadMore","_postsFiltered","loadMorePosts_resume","showActivePosts","load_super","shouldResetSearch","_postsActive","loadData","getIsLoading","getIsLoaded","getIsLoadingMore","getSearch","getHasMorePosts","autoSubscribeWithKey","215","autoDeviceStorage_1","news_feed_store_1","StoreClass","uiActions","_isLoadingChangeId","fast","gotoPage","_page","getPage","216","app_1","initialize","UserInterface","setMainView","29","buildStateCallback","renderCallback","StoreComponentBase","_buildState","initialBuild","ComponentBase","431","SettingsPage","isLoggedIn","accountMessage","substr","platform","432","news_1","menu_1","settings_page_1","news_page_1","PageSelector","EmptyPage","PageIcon","iconStyle","433","main_layout_1","page_layout_common_1","HeaderBar","TabBar","434","search_1","clear_1","feedbackButton_1","page_selector_1","PageTab","active","buttonStyle","textStyle","icon","title","Loader","ActivityIndicator","size","MiniLoader","isWeb","deferTime","AppIconImage","AppImage","hasSearch","searchTimeoutId","clearTimeout","onDone","clearSearch","SearchTextBox","setValue","TextInput","onChangeText","onSubmitEditing","onBlur","placeholder","placeholderTextColor","435","post_list_1","isLoaded","LoadMore","isLoadingMore","hasMorePosts","436","63","facebook_1","facebook_sdk_web_1","onLoginPress","status","onLogoutPress","FacebookAccessClass","token","authResponse","64","options","process","id_1","catch"],"mappings":"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","file":"bundle.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 101:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar SimpleComponentBase = (function (_super) {\r\n    __extends(SimpleComponentBase, _super);\r\n    function SimpleComponentBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return SimpleComponentBase;\r\n}(RX.Component));\r\nexports.SimpleComponentBase = SimpleComponentBase;\r\n\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar resub_1 = __webpack_require__(41);\r\nvar facebook_login_1 = __webpack_require__(63);\r\nvar AccountStoreClass = (function (_super) {\r\n    __extends(AccountStoreClass, _super);\r\n    function AccountStoreClass() {\r\n        var _this = _super.call(this) || this;\r\n        // @autoDeviceStorage(false, 'AccountStore')\r\n        _this._isFacebookLoggedIn = false;\r\n        _this._error = null;\r\n        _this.setLoginError = function (message, data) {\r\n            try {\r\n                _this._error = message + ': ' + JSON.stringify(data);\r\n            }\r\n            catch (err) {\r\n                _this._error = message + ': ' + data;\r\n            }\r\n            // Erase the access token on error?\r\n            _this._accessToken = null;\r\n            _this._isFacebookLoggedIn = false;\r\n            _this.trigger();\r\n            console.error(message, data);\r\n        };\r\n        _this.load = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var err_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4 /*yield*/, this.getFacebookAccessToken_async()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this._isFacebookLoggedIn = this._accessToken != null;\r\n                        this.trigger();\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        err_1 = _a.sent();\r\n                        // this._accessToken = null;\r\n                        // this._isFacebookLoggedIn = false;\r\n                        // this.trigger();\r\n                        console.log('Facebook did not return an access token on load', err_1);\r\n                        return [3 /*break*/, 3];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        _this.getFacebookAccessToken_async = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var accessToken;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, facebook_login_1.FacebookAccess.getCurrentAccessToken()];\r\n                    case 1:\r\n                        accessToken = _a.sent();\r\n                        console.log('getFacebookAccessToken_async', { accessToken: accessToken });\r\n                        this._accessToken = accessToken;\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        _this.onLoginFinished = function (accessToken) {\r\n            console.log('onLoginFinished', { accessToken: accessToken });\r\n            _this._accessToken = accessToken;\r\n            _this._isFacebookLoggedIn = true;\r\n            _this.trigger();\r\n        };\r\n        setTimeout(_this.load, 5);\r\n        return _this;\r\n    }\r\n    AccountStoreClass.prototype.getError = function () {\r\n        return this._error;\r\n    };\r\n    AccountStoreClass.prototype.getIsFacebookLoggedIn = function () {\r\n        return this._isFacebookLoggedIn;\r\n    };\r\n    AccountStoreClass.prototype.getFacebookAccessToken = function () {\r\n        console.log('getFacebookAccessToken', { accessToken: this._accessToken });\r\n        return this._accessToken;\r\n    };\r\n    return AccountStoreClass;\r\n}(resub_1.StoreBase));\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], AccountStoreClass.prototype, \"getError\", null);\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], AccountStoreClass.prototype, \"getIsFacebookLoggedIn\", null);\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], AccountStoreClass.prototype, \"getFacebookAccessToken\", null);\r\nAccountStoreClass = __decorate([\r\n    resub_1.AutoSubscribeStore\r\n], AccountStoreClass);\r\nexports.AccountStoreClass = AccountStoreClass;\r\nexports.AccountStore = new AccountStoreClass();\r\n\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction isMatch(search, item) {\r\n    if (!search) {\r\n        return true;\r\n    }\r\n    search = search.toLowerCase();\r\n    for (var k in item) {\r\n        var v = item[k];\r\n        var s = (v + '').toLowerCase();\r\n        if (s.indexOf(search) >= 0) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nexports.isMatch = isMatch;\r\nfunction delay(time) {\r\n    if (time === void 0) { time = 0; }\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            return [2 /*return*/, new Promise(function (resolve) {\r\n                    setTimeout(resolve, time);\r\n                })];\r\n        });\r\n    });\r\n}\r\nexports.delay = delay;\r\nfunction injectAds(items, adItems) {\r\n    var merged = items.slice();\r\n    var bItems = adItems.map(function (x) { return ({ x: x, order: Math.random() }); }).sort(function (a, b) { return a.order - b.order; }).map(function (x) { return x.x; });\r\n    var itemsPerBusiness = 7 + Math.floor(Math.random() * 3);\r\n    var iFirstBusiness = 2 + Math.floor(Math.random() * 5);\r\n    var bIndex = 0;\r\n    for (var i = iFirstBusiness; i < merged.length; i += itemsPerBusiness + 1) {\r\n        if (bIndex >= bItems.length) {\r\n            break;\r\n        }\r\n        merged.splice(i, 0, bItems[bIndex++]);\r\n    }\r\n    merged.push.apply(merged, bItems.slice(bIndex));\r\n    return merged;\r\n}\r\nexports.injectAds = injectAds;\r\n\n\n/***/ }),\n\n/***/ 14:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar icon_base_1 = __webpack_require__(19);\r\nvar pallette = {\r\n    primary_0: '#3D3783',\r\n    primary_1: '#7B76B6',\r\n    primary_2: '#57529B',\r\n    primary_3: '#29246E',\r\n    primary_4: '#141050',\r\n    secondary_1_0: '#993369',\r\n    secondary_1_1: '#D37DAA',\r\n    secondary_1_2: '#B65286',\r\n    secondary_1_3: '#801C51',\r\n    secondary_1_4: '#5E0634',\r\n    secondary_2_0: '#85AE3A',\r\n    secondary_2_1: '#CBEE8D',\r\n    secondary_2_2: '#A6CF5D',\r\n    secondary_2_3: '#699220',\r\n    secondary_2_4: '#476B07',\r\n    complement_0: '#BC9F3E',\r\n    complement_1: '#FFE797',\r\n    complement_2: '#DFC364',\r\n    complement_3: '#9D8122',\r\n    complement_4: '#735A08',\r\n};\r\n// const iconColors_sections = {\r\n//     a_purple: '#BC403D',\r\n//     b_red: '#852B77',\r\n//     c_orange: '#BC743D',\r\n//     d_orange_yellow: '#BC933D',\r\n//     e_yellow: '#BCB93D',\r\n//     f_yellow_green: '#88B039',\r\n//     g_green: '#419C33',\r\n//     h_teal: '#266F72',\r\n// };\r\nvar iconColors_sections = {\r\n    a_purple: '#880088',\r\n    b_red: '#880000',\r\n    c_orange: '#AA4400',\r\n    d_orange_yellow: '#AA6600',\r\n    e_yellow: '#AA8800',\r\n    f_yellow_green: '#668822',\r\n    g_green: '#008800',\r\n    h_teal: '#4466AA',\r\n};\r\nvar iconColors_actions = {\r\n    a_purple: '#CC00CC',\r\n    b_red: '#CC0000',\r\n    c_orange: '#FF6600',\r\n    d_orange_yellow: '#FF9900',\r\n    e_yellow: '#FFCC00',\r\n    f_yellow_green: '#99CC33',\r\n    g_green: '#00CC00',\r\n    h_teal: '#6699FF',\r\n};\r\nvar pageColors = {\r\n    back_heading_default: '#FFFFFF',\r\n    text_heading_default: pallette.secondary_1_0,\r\n    back_heading1: pallette.primary_4,\r\n    text_heading1: '#FFFFFF',\r\n    back_heading2: '#FFFFFF',\r\n    text_heading2: pallette.primary_0,\r\n    text_listItem: pallette.primary_0,\r\n};\r\nexports.colors = __assign({}, pageColors, { actionIcons: iconColors_actions, sectionIcons: iconColors_sections, \r\n    // BUG: Hex colors don't work\r\n    loader: pallette.primary_0, mini_loader_native: '#FFFFFF', mini_loader_web: pallette.primary_0, mini_loader_background: pallette.primary_1, icon_disabled: '#CCCCCC', text_main: pallette.primary_0, icon_main: pallette.complement_0, back_main: '#FFFFFF', text_modal: pallette.primary_2, back_modal: '#EEEEEE', text_title: pallette.primary_0, text_title_edit: pallette.primary_3, back_title_edit: pallette.secondary_2_1, text_button: '#FFFFFF', back_button_action: pallette.primary_2, back_button_warning: pallette.secondary_1_2, back_button_filter: pallette.secondary_2_2, back_button_nav: pallette.primary_3, text_warning: '#FFFFFF', back_warning: pallette.secondary_1_2, \r\n    // border_headerBar: pallette.primary_1,\r\n    // back_headerBar: '#EEEEEE',\r\n    // text_search: pallette.primary_2,\r\n    // back_search: '#FFFFFF',\r\n    border_headerBar: pallette.primary_1, back_headerBar: pallette.primary_0, text_search: pallette.primary_1, text_search_placeholder: pallette.primary_2, back_search: pallette.primary_4, border_tabBar: pallette.primary_1, back_tabBar: '#EEEEEE', text_tab: '#888888', text_tab_active: pallette.primary_4, back_page: '#EEEEEE', back_panel: '#FFFFFF', back_sponsored: '#F8F8F8', icon_post: pallette.primary_0, icon_post_action: pallette.secondary_2_0, text_post_title: pallette.primary_0, text_post_subTitle: pallette.primary_1, \r\n    // icon_post: pallette.secondary_1_0,\r\n    // text_post_title: pallette.secondary_1_0,\r\n    // text_post_subTitle: pallette.secondary_1_1,\r\n    // icon_post: pallette.secondary_2_0,\r\n    // text_post_title: pallette.secondary_2_0,\r\n    // text_post_subTitle: pallette.secondary_2_1,\r\n    text_post_content: '#000000', text_post_content_caption: '#555555', text_post_content_details: '#777777', text_post_info: '#888888', back_post_image: '#000000', border_post_content_section: pallette.secondary_2_1 });\r\nexports.pageSizes = {\r\n    padding_heading_default: 24,\r\n    font_heading_default: 20,\r\n    padding_heading1: 64,\r\n    font_heading1: 36,\r\n    padding_heading2: 36,\r\n    font_heading2: 28,\r\n    marginTop_paragraph: 8,\r\n    marginBottom_paragraph: 8,\r\n    margin_loneLink: 16,\r\n    paddingTop_loneLink: 8,\r\n    paddingBottom_loneLink: 8,\r\n    paddingLeft_loneLink: 24,\r\n    paddingRight_loneLink: 24,\r\n    paddingTop_listItem: 4,\r\n    paddingBottom_listItem: 4,\r\n    paddingLeft_listItem: 8,\r\n    paddingRight_listItem: 8,\r\n    icon_listItem: 12,\r\n};\r\nexports.sizes = __assign({}, exports.pageSizes, { \r\n    // Sizes\r\n    border_tabBar: 1, padding_button_tab: 4, icon_button_tab: 24, font_button_tab: 12, footer_height: 2 * (1 + 4) + 24 + (12 + 2), width_miniLoader: 24, height_appIconImage: 24, width_appIconImage: 24, marginLeft_appIconImage: 4, marginRight_appIconImage: 4, height_appImage: 128, width_appImage: 128, margin_search: 4, padding_search: 4, paddingLeft_search: 8, font_search: 16, icon_search: 16, radius_search: 8, padding_page: 8, marginBottom_panel: 8, padding_panel: 8, paddingLeft_heading: 16, font_heading: 24, padding_action_button: 8, icon_list: 24, icon_post: 36, paddingRight_postIcon: 8, padding_icon_post_action: 2, icon_post_section: 28, icon_post_content: 14, font_post_title: 18, font_post_subTitle: 14, font_post_content: 14, font_post_content_caption: 13, font_post_content_details: 12, font_post_info: 10, font_post_comment: 12, marginLeft_post_section: 8, marginBottom_post_section: 8, marginTop_post_section: 8, image_post_height: 200, font_button: 18, icon_button: 24, font_stats: 24, icon_stats: 28 });\r\n// Default Provider\r\nexports.pageStyles = {\r\n    headings: [\r\n        // Default (No Heading, Heading 3,4,5, etc.)\r\n        {\r\n            section: RX.Styles.createViewStyle({\r\n                padding: exports.sizes.padding_heading_default,\r\n                backgroundColor: pageColors.back_heading_default,\r\n            }),\r\n            view: RX.Styles.createViewStyle({}),\r\n            text: RX.Styles.createTextStyle({\r\n                fontSize: exports.sizes.font_heading_default,\r\n                color: pageColors.text_heading_default,\r\n                textAlign: 'left',\r\n                fontWeight: 'bold',\r\n            })\r\n        },\r\n        // Heading 1\r\n        {\r\n            section: RX.Styles.createViewStyle({\r\n                padding: exports.sizes.padding_heading1,\r\n                backgroundColor: pageColors.back_heading1,\r\n                alignItems: 'center',\r\n            }),\r\n            view: RX.Styles.createViewStyle({\r\n                maxWidth: 600,\r\n            }),\r\n            text: RX.Styles.createTextStyle({\r\n                fontSize: exports.sizes.font_heading1,\r\n                color: pageColors.text_heading1,\r\n                textAlign: 'center',\r\n                fontWeight: 'bold',\r\n            })\r\n        },\r\n        // Heading 2\r\n        {\r\n            section: RX.Styles.createViewStyle({\r\n                padding: exports.sizes.padding_heading2,\r\n                backgroundColor: pageColors.back_heading2,\r\n                alignItems: 'center',\r\n            }),\r\n            view: RX.Styles.createViewStyle({\r\n                maxWidth: 600,\r\n            }),\r\n            text: RX.Styles.createTextStyle({\r\n                fontSize: exports.sizes.font_heading2,\r\n                color: pageColors.text_heading2,\r\n                textAlign: 'center',\r\n                fontWeight: 'bold',\r\n            })\r\n        },\r\n    ],\r\n    paragraph: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        marginTop: exports.pageSizes.marginTop_paragraph,\r\n        marginBottom: exports.pageSizes.marginBottom_paragraph,\r\n    }),\r\n    text: RX.Styles.createTextStyle({\r\n        flex: -1,\r\n        color: exports.colors.text_main,\r\n    }),\r\n    inlineLink: RX.Styles.createButtonStyle({\r\n        backgroundColor: exports.colors.back_button_action,\r\n        paddingLeft: exports.sizes.padding_action_button,\r\n        paddingRight: exports.sizes.padding_action_button,\r\n    }),\r\n    inlineLink_text: RX.Styles.createTextStyle({\r\n        flex: -1,\r\n        color: exports.colors.text_button,\r\n        textDecorationLine: 'none',\r\n    }),\r\n    loneLink_view: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n    }),\r\n    loneLink_link: RX.Styles.createButtonStyle({\r\n        flex: 1,\r\n        margin: exports.pageSizes.margin_loneLink,\r\n        paddingTop: exports.pageSizes.paddingTop_loneLink,\r\n        paddingBottom: exports.pageSizes.paddingBottom_loneLink,\r\n        paddingLeft: exports.pageSizes.paddingLeft_loneLink,\r\n        paddingRight: exports.pageSizes.paddingRight_loneLink,\r\n        backgroundColor: exports.colors.back_button_action,\r\n    }),\r\n    loneLink_text: RX.Styles.createTextStyle({\r\n        flex: -1,\r\n        color: exports.colors.text_button,\r\n        textDecorationLine: 'none',\r\n        textAlign: 'center',\r\n        fontSize: exports.sizes.font_button,\r\n    }),\r\n    list: RX.Styles.createViewStyle({\r\n        flexDirection: 'column',\r\n    }),\r\n    listItem_view: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n    }),\r\n    listItem: RX.Styles.createTextStyle({\r\n        flex: -1,\r\n        color: pageColors.text_listItem,\r\n        paddingTop: exports.pageSizes.paddingTop_listItem,\r\n        paddingBottom: exports.pageSizes.paddingBottom_listItem,\r\n        paddingLeft: exports.pageSizes.paddingLeft_listItem,\r\n        paddingRight: exports.pageSizes.paddingRight_listItem,\r\n    }),\r\n    listItem_icon: icon_base_1.createIconStyle({\r\n        fillColor: pageColors.text_listItem,\r\n        fontSize: exports.pageSizes.icon_listItem,\r\n        padding: 0,\r\n    }),\r\n};\r\nexports.styles = __assign({}, exports.pageStyles, { row: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n    }), fullRow: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flex: 1,\r\n    }), fullColumn: RX.Styles.createViewStyle({\r\n        flexDirection: 'column',\r\n        flex: 1,\r\n    }), flex1: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n    }), flexWrap: RX.Styles.createViewStyle({\r\n        flexWrap: 'wrap',\r\n    }), \r\n    // flexRow_wrap: RX.Styles.createViewStyle({\r\n    //     flex: 1,\r\n    //     flexDirection: 'row',\r\n    //     flexWrap: 'wrap',\r\n    //     // alignItems: 'stretch',\r\n    // }),\r\n    // flexWrap: RX.Styles.createViewStyle({\r\n    //     flexWrap: 'wrap',\r\n    // }),\r\n    space_around_content: RX.Styles.createViewStyle({\r\n        alignItems: 'center',\r\n        justifyContent: 'space-around',\r\n    }), center_content: RX.Styles.createViewStyle({\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }), center_text: RX.Styles.createTextStyle({\r\n        textAlign: 'center',\r\n    }), right_content: RX.Styles.createTextStyle({\r\n        flexDirection: 'row',\r\n        alignItems: 'flex-end',\r\n        justifyContent: 'flex-end',\r\n    }), loader: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        backgroundColor: exports.colors.back_modal,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }), mini_loader: RX.Styles.createViewStyle({\r\n        minWidth: exports.sizes.width_miniLoader,\r\n        minHeight: exports.sizes.width_miniLoader,\r\n        // flex: 1,\r\n        // backgroundColor: colors.back_modal,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }), mini_loader_container_web: RX.Styles.createViewStyle({\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: exports.colors.mini_loader_background,\r\n        borderRadius: exports.sizes.width_miniLoader,\r\n    }), appImage_view: RX.Styles.createViewStyle({\r\n        width: exports.sizes.width_appImage,\r\n        height: exports.sizes.height_appImage,\r\n    }), appImage: RX.Styles.createImageStyle({\r\n        width: exports.sizes.width_appImage,\r\n        height: exports.sizes.height_appImage,\r\n    }), \r\n    // Header\r\n    headerBar: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flex: 1,\r\n        backgroundColor: exports.colors.back_headerBar,\r\n        borderColor: exports.colors.border_headerBar,\r\n        borderBottomWidth: 1,\r\n        borderStyle: 'solid',\r\n        alignItems: 'center',\r\n    }), headerBar_appIconImage_view: RX.Styles.createViewStyle({\r\n        width: exports.sizes.width_appIconImage,\r\n        height: exports.sizes.height_appIconImage,\r\n        marginLeft: exports.sizes.marginLeft_appIconImage,\r\n        marginRight: exports.sizes.marginRight_appIconImage,\r\n    }), headerBar_appIconImage: RX.Styles.createImageStyle({\r\n        width: exports.sizes.width_appIconImage,\r\n        height: exports.sizes.height_appIconImage,\r\n    }), headerButtons: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }), searchBox_view: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        margin: exports.sizes.margin_search,\r\n        padding: exports.sizes.padding_search,\r\n        backgroundColor: exports.colors.back_search,\r\n        borderRadius: exports.sizes.radius_search,\r\n    }), searchBox_text_placeholder_color: exports.colors.text_search_placeholder, searchBox_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_search,\r\n        color: exports.colors.text_search,\r\n        backgroundColor: 'transparent',\r\n        margin: 0,\r\n        paddingLeft: exports.sizes.paddingLeft_search,\r\n        paddingRight: 0,\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n        flex: 1,\r\n    }), searchIcon: icon_base_1.createIconStyle({\r\n        fontSize: exports.sizes.icon_search,\r\n        padding: 0,\r\n        fillColor: exports.colors.text_search,\r\n    }), \r\n    // Footer\r\n    tabBar: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flex: 1,\r\n        backgroundColor: exports.colors.back_tabBar,\r\n        borderColor: exports.colors.border_tabBar,\r\n        borderWidth: exports.sizes.border_tabBar,\r\n        borderStyle: 'solid',\r\n    }), tab_button: RX.Styles.createButtonStyle({\r\n        flex: 1,\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: exports.sizes.padding_button_tab,\r\n    }), tab_button_active: RX.Styles.createButtonStyle({\r\n        flex: 1,\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: exports.sizes.padding_button_tab,\r\n    }), tab_text: RX.Styles.createTextStyle({\r\n        textAlign: 'center',\r\n        fontSize: exports.sizes.font_button_tab,\r\n        color: exports.colors.text_tab,\r\n    }), tab_text_active: RX.Styles.createTextStyle({\r\n        textAlign: 'center',\r\n        fontSize: exports.sizes.font_button_tab,\r\n        color: exports.colors.text_tab_active,\r\n    }), tabIcon: icon_base_1.createIconStyle({\r\n        fontSize: exports.sizes.icon_button_tab,\r\n        padding: 0,\r\n        fillColor: exports.colors.text_tab,\r\n    }), tabIcon_active: icon_base_1.createIconStyle({\r\n        fontSize: exports.sizes.icon_button_tab,\r\n        padding: 0,\r\n        fillColor: exports.colors.text_tab_active,\r\n    }), \r\n    // Page\r\n    pageBackground: RX.Styles.createViewStyle({\r\n        backgroundColor: exports.colors.back_page,\r\n    }), page: RX.Styles.createViewStyle({\r\n        // padding: sizes.padding_page,\r\n        backgroundColor: exports.colors.back_page,\r\n    }), \r\n    // Headings\r\n    heading: RX.Styles.createViewStyle({\r\n        // alignItems: 'center',\r\n        // justifyContent: 'center',\r\n        paddingLeft: exports.sizes.paddingLeft_heading\r\n    }), heading_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_heading,\r\n    }), \r\n    // Actions\r\n    action_button: RX.Styles.createButtonStyle({\r\n        // // flex: 1,\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }), action_button_text: RX.Styles.createTextStyle({\r\n        padding: exports.sizes.padding_action_button,\r\n        backgroundColor: exports.colors.back_button_action,\r\n        color: exports.colors.text_button,\r\n        fontSize: exports.sizes.font_button,\r\n    }), facebook_button: RX.Styles.createButtonStyle({\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: exports.colors.back_button_action,\r\n        // backgroundColor: '#3b5998',\r\n        padding: exports.sizes.padding_action_button,\r\n    }), facebook_button_text: RX.Styles.createTextStyle({\r\n        color: '#FFFFFF',\r\n        fontSize: exports.sizes.font_button,\r\n        marginLeft: 8,\r\n    }), facebook_icon: icon_base_1.createIconStyle({\r\n        fontSize: exports.sizes.icon_button,\r\n        padding: 0,\r\n        fillColor: '#FFFFFF',\r\n    }), warning_text: RX.Styles.createTextStyle({\r\n        padding: exports.sizes.padding_action_button,\r\n        backgroundColor: exports.colors.back_warning,\r\n        color: exports.colors.text_warning,\r\n    }), \r\n    // List\r\n    listIcon: icon_base_1.createIconStyle({\r\n        fontSize: exports.sizes.icon_list,\r\n        padding: 0,\r\n        fillColor: exports.colors.icon_main,\r\n    }), \r\n    // Post - Wrapping\r\n    // postList: RX.Styles.createViewStyle({\r\n    //     flexDirection: 'row',\r\n    //     flexWrap: 'wrap',\r\n    // }),\r\n    // postItem: RX.Styles.createViewStyle({\r\n    //     flex: 1,\r\n    // }),\r\n    // postPanel: RX.Styles.createViewStyle({\r\n    //     flex: 1,\r\n    //     marginRight: sizes.marginBottom_panel,\r\n    //     marginBottom: sizes.marginBottom_panel,\r\n    //     padding: sizes.padding_panel,\r\n    //     backgroundColor: colors.back_panel,\r\n    // }),\r\n    // Post- Normal\r\n    postList: RX.Styles.createViewStyle({}), postItem: RX.Styles.createViewStyle({}), postPanel: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        marginBottom: exports.sizes.marginBottom_panel,\r\n        padding: exports.sizes.padding_panel,\r\n        backgroundColor: exports.colors.back_panel,\r\n    }), sponsored: RX.Styles.createViewStyle({\r\n        backgroundColor: exports.colors.back_sponsored,\r\n    }), postContent_wrapper: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        flexDirection: 'column',\r\n        borderColor: exports.colors.border_post_content_section,\r\n        borderStyle: 'solid',\r\n        borderLeftWidth: 1,\r\n        borderTopWidth: 1,\r\n        marginTop: 4,\r\n        marginLeft: 4,\r\n        paddingTop: 4,\r\n        paddingLeft: 4,\r\n        minWidth: 150,\r\n    }), postIcon_padding: RX.Styles.createViewStyle({\r\n        paddingRight: exports.sizes.paddingRight_postIcon,\r\n    }), postIcon: icon_base_1.createIconStyle({\r\n        fontSize: exports.sizes.icon_post,\r\n        padding: 0,\r\n        fillColor: exports.colors.icon_post,\r\n    }), postIcon_action: icon_base_1.createIconStyle({\r\n        fontSize: exports.sizes.icon_post_section,\r\n        padding: 0,\r\n        fillColor: exports.colors.icon_post_action,\r\n    }), postIcon_action_disabled: icon_base_1.createIconStyle({\r\n        // TODO: Update\r\n        fontSize: exports.sizes.icon_post_section,\r\n        padding: 0,\r\n        fillColor: exports.colors.icon_disabled,\r\n    }), postTitle_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_post_title,\r\n        color: exports.colors.text_post_title,\r\n    }), postSubTitle_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_post_subTitle,\r\n        color: exports.colors.text_post_subTitle,\r\n    }), postContent_section: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        marginTop: exports.sizes.marginTop_post_section,\r\n        marginBottom: exports.sizes.marginBottom_post_section,\r\n        marginLeft: exports.sizes.marginLeft_post_section,\r\n    }), postContent_section_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_post_content,\r\n        color: exports.colors.text_post_content\r\n    }), postContent_section_caption_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_post_content_caption,\r\n        color: exports.colors.text_post_content_caption\r\n    }), postContent_section_details_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_post_content_details,\r\n        color: exports.colors.text_post_content_details\r\n    }), postContent_action: RX.Styles.createViewStyle({\r\n        padding: exports.sizes.padding_icon_post_action\r\n    }), postInfo_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_post_info,\r\n        color: exports.colors.text_post_info,\r\n    }), postContent_comment_name_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_post_comment,\r\n        color: exports.colors.text_post_title,\r\n    }), postContent_comment_message_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_post_comment,\r\n        color: exports.colors.text_post_content,\r\n    }), postContent_comment_info_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_post_info,\r\n        color: exports.colors.text_post_info,\r\n    }), postStats_view: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        borderStyle: 'solid',\r\n        borderColor: exports.colors.border_post_content_section,\r\n        borderTopWidth: 1,\r\n        marginTop: exports.sizes.marginBottom_post_section,\r\n        paddingTop: exports.sizes.marginBottom_post_section,\r\n    }), postStats_icon: icon_base_1.createIconStyle({\r\n        fontSize: exports.sizes.icon_stats,\r\n        padding: 0,\r\n        fillColor: exports.colors.icon_disabled,\r\n    }), postStats_text: RX.Styles.createTextStyle({\r\n        fontSize: exports.sizes.font_stats,\r\n        padding: 0,\r\n    }), \r\n    // TEMP\r\n    postImage_maxWidth: 375, postImage: RX.Styles.createImageStyle({\r\n        flex: 1,\r\n    }), postProfilePicture: RX.Styles.createImageStyle({\r\n        width: 32,\r\n        height: 32,\r\n    }) });\r\n\n\n/***/ }),\n\n/***/ 184:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar store_1 = __webpack_require__(215);\r\nvar routes_1 = __webpack_require__(208);\r\nvar root_1 = __webpack_require__(436);\r\nvar store = store_1.Store;\r\nroutes_1.handleRoute();\r\nexports.App = function () { return (RX.createElement(root_1.Root, { store: store })); };\r\n\n\n/***/ }),\n\n/***/ 185:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar settings_1 = __webpack_require__(212);\r\nvar auto_timeout_1 = __webpack_require__(64);\r\nvar hasStartedLoading = false;\r\nvar fb;\r\nvar getFacebookSdk = function () {\r\n    return fb = fb || {\r\n        getLoginStatus: function (force) {\r\n            return auto_timeout_1.autoTimeout({\r\n                timeoutErrorMessage: 'Timeout: FacebookSdk.getLoginStatus',\r\n                errorMessage: 'Error: FacebookSdk.getLoginStatus',\r\n            }, function () {\r\n                return new Promise(function (resolve, reject) {\r\n                    FB.getLoginStatus(function (r) {\r\n                        resolve(r);\r\n                    }, force || false);\r\n                });\r\n            });\r\n        },\r\n        login: function () {\r\n            return auto_timeout_1.autoTimeout({\r\n                timeoutErrorMessage: 'Timeout: FacebookSdk.getLoginStatus',\r\n                errorMessage: 'Error: FacebookSdk.getLoginStatus',\r\n            }, function () {\r\n                return new Promise(function (resolve, reject) {\r\n                    FB.login(function (r) {\r\n                        resolve(r);\r\n                    });\r\n                });\r\n            });\r\n        },\r\n        logout: function () {\r\n            return auto_timeout_1.autoTimeout({\r\n                timeoutErrorMessage: 'Timeout: FacebookSdk.getLoginStatus',\r\n                errorMessage: 'Error: FacebookSdk.getLoginStatus',\r\n            }, function () {\r\n                return new Promise(function (resolve, reject) {\r\n                    FB.logout(function (r) {\r\n                        resolve(r);\r\n                    });\r\n                });\r\n            });\r\n        },\r\n    };\r\n};\r\nvar resolves = [];\r\nvar resolveAll = function () {\r\n    var f = getFacebookSdk();\r\n    var r = resolves;\r\n    resolves = [];\r\n    r.forEach(function (x) { return x(f); });\r\n};\r\nfunction loadFacebookSdk() {\r\n    return new Promise(function (resolve, reject) {\r\n        if (fb) {\r\n            resolve(fb);\r\n            return;\r\n        }\r\n        resolves.push(resolve);\r\n        if (hasStartedLoading) {\r\n            return;\r\n        }\r\n        hasStartedLoading = true;\r\n        console.log('START loadFacebookSdk');\r\n        window.fbAsyncInit = function () {\r\n            FB.init({\r\n                appId: settings_1.facebookAppId,\r\n                cookie: true,\r\n                // the session\r\n                xfbml: false,\r\n                version: 'v2.8' // use graph api version 2.8\r\n            });\r\n            // FB.getLoginStatus((response) => {\r\n            //     // statusChangeCallback(response);\r\n            // });\r\n            resolveAll();\r\n            console.log('END loadFacebookSdk');\r\n        };\r\n        // Load the SDK asynchronously\r\n        (function (d, s, id) {\r\n            var js, fjs = d.getElementsByTagName(s)[0];\r\n            if (d.getElementById(id))\r\n                return;\r\n            js = d.createElement(s);\r\n            js.id = id;\r\n            js.src = \"//connect.facebook.net/en_US/sdk.js\";\r\n            fjs.parentNode.insertBefore(js, fjs);\r\n        }(document, 'script', 'facebook-jssdk'));\r\n    });\r\n}\r\nexports.loadFacebookSdk = loadFacebookSdk;\r\n\n\n/***/ }),\n\n/***/ 186:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction getSize(w, h, maxWidth) {\r\n    if (w > maxWidth) {\r\n        var aspectRatio = h / w;\r\n        w = maxWidth;\r\n        h = Math.floor(maxWidth * aspectRatio);\r\n    }\r\n    return { width: w, height: h };\r\n}\r\nexports.getSize = getSize;\r\n\n\n/***/ }),\n\n/***/ 187:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar simple_component_base_1 = __webpack_require__(101);\r\nvar RX = __webpack_require__(1);\r\nvar sized_image_common_1 = __webpack_require__(186);\r\nvar SizedImage = (function (_super) {\r\n    __extends(SizedImage, _super);\r\n    function SizedImage() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.onImageLoad = function () {\r\n            var img = _this.refs['img'];\r\n            var w = img.getNativeWidth();\r\n            var h = img.getNativeHeight();\r\n            _this.setState(sized_image_common_1.getSize(w, h, _this.props.maxWidth));\r\n        };\r\n        return _this;\r\n    }\r\n    SizedImage.prototype.render = function () {\r\n        var w = this.state && this.state.width || 50;\r\n        var h = this.state && this.state.height || 50;\r\n        var s = RX.Styles.createViewStyle({\r\n            width: w,\r\n            height: h,\r\n        }, false);\r\n        return (RX.createElement(RX.View, { style: s },\r\n            RX.createElement(RX.Image, { ref: 'img', source: this.props.source, style: this.props.style, onLoad: this.onImageLoad })));\r\n    };\r\n    return SizedImage;\r\n}(simple_component_base_1.SimpleComponentBase));\r\nexports.SizedImage = SizedImage;\r\n\n\n/***/ }),\n\n/***/ 188:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar reactxp_imagesvg_1 = __webpack_require__(23);\r\nvar icon_base_1 = __webpack_require__(19);\r\nexports.CircleOpenIcon = function (props) { return (RX.createElement(icon_base_1.IconBase, __assign({ viewBox: '0 0 40 40' }, props),\r\n    RX.createElement(reactxp_imagesvg_1.SvgPath, { strokeColor: props.style.strokeColor, fillColor: props.style.fillColor, \r\n        // tslint:disable-next-line:max-line-length\r\n        d: 'm20.1 7.9q-3.3 0-6.1 1.6t-4.4 4.4-1.6 6.1 1.6 6.1 4.4 4.4 6.1 1.6 6.1-1.6 4.5-4.4 1.6-6.1-1.6-6.1-4.5-4.4-6.1-1.6z m17.2 12.1q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z' }))); };\r\n\n\n/***/ }),\n\n/***/ 189:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar reactxp_imagesvg_1 = __webpack_require__(23);\r\nvar icon_base_1 = __webpack_require__(19);\r\nexports.ClearIcon = function (props) { return (RX.createElement(icon_base_1.IconBase, __assign({ viewBox: '0 0 40 40' }, props),\r\n    RX.createElement(reactxp_imagesvg_1.SvgPath, { strokeColor: props.style.strokeColor, fillColor: props.style.fillColor, \r\n        // tslint:disable-next-line:max-line-length\r\n        d: 'm31.6 10.7l-9.3 9.3 9.3 9.3-2.3 2.3-9.3-9.3-9.3 9.3-2.3-2.3 9.3-9.3-9.3-9.3 2.3-2.3 9.3 9.3 9.3-9.3z' }))); };\r\n\n\n/***/ }),\n\n/***/ 19:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar reactxp_imagesvg_1 = __webpack_require__(23);\r\nfunction createIconStyle(style) { return style; }\r\nexports.createIconStyle = createIconStyle;\r\n// {props.style.strokeColor}\r\n// {props.style.fillColor} \r\nexports.IconBase = function (props) {\r\n    // console.log('IconBase', props.children);\r\n    return (RX.createElement(reactxp_imagesvg_1.default, { height: props.style.fontSize + props.style.padding * 2, width: props.style.fontSize + props.style.padding * 2, viewBox: props.viewBox }, props.children));\r\n};\r\n\n\n/***/ }),\n\n/***/ 190:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar reactxp_imagesvg_1 = __webpack_require__(23);\r\nvar icon_base_1 = __webpack_require__(19);\r\nexports.FacebookIcon = function (props) { return (RX.createElement(icon_base_1.IconBase, __assign({ viewBox: '0 0 40 40' }, props),\r\n    RX.createElement(reactxp_imagesvg_1.SvgPath, { strokeColor: props.style.strokeColor, fillColor: props.style.fillColor, \r\n        // tslint:disable-next-line:max-line-length\r\n        d: 'm35.4 2.9q0.8 0 1.3 0.5t0.6 1.4v30.4q0 0.8-0.6 1.4t-1.3 0.5h-8.7v-13.2h4.4l0.7-5.2h-5.1v-3.3q0-1.3 0.5-1.9t2-0.6l2.7 0v-4.7q-1.4-0.2-3.9-0.2-3.1 0-4.9 1.8t-1.8 5.1v3.8h-4.5v5.2h4.5v13.2h-16.4q-0.8 0-1.3-0.5t-0.6-1.4v-30.4q0-0.8 0.6-1.4t1.3-0.5h30.5z' }))); };\r\n\n\n/***/ }),\n\n/***/ 191:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar reactxp_imagesvg_1 = __webpack_require__(23);\r\nvar icon_base_1 = __webpack_require__(19);\r\nexports.FeedbackIcon = function (props) { return (RX.createElement(icon_base_1.IconBase, __assign({ viewBox: '0 0 40 40' }, props),\r\n    RX.createElement(reactxp_imagesvg_1.SvgPath, { strokeColor: props.style.strokeColor, fillColor: props.style.fillColor, \r\n        // tslint:disable-next-line:max-line-length\r\n        d: 'm21.6 16.6v-6.6h-3.2v6.6h3.2z m0 6.8v-3.4h-3.2v3.4h3.2z m11.8-20q1.3 0 2.3 0.9t0.9 2.3v20q0 1.4-0.9 2.4t-2.3 1h-23.4l-6.6 6.6v-30q0-1.3 0.9-2.3t2.3-0.9h26.8z' }))); };\r\n\n\n/***/ }),\n\n/***/ 192:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar reactxp_imagesvg_1 = __webpack_require__(23);\r\nvar icon_base_1 = __webpack_require__(19);\r\nexports.MenuIcon = function (props) { return (RX.createElement(icon_base_1.IconBase, __assign({ viewBox: '0 0 40 40' }, props),\r\n    RX.createElement(reactxp_imagesvg_1.SvgPath, { strokeColor: props.style.strokeColor, fillColor: props.style.fillColor, \r\n        // tslint:disable-next-line:max-line-length\r\n        d: 'm5 10h30v3.4h-30v-3.4z m0 11.6v-3.2h30v3.2h-30z m0 8.4v-3.4h30v3.4h-30z' }))); };\r\n\n\n/***/ }),\n\n/***/ 193:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar reactxp_imagesvg_1 = __webpack_require__(23);\r\nvar icon_base_1 = __webpack_require__(19);\r\nexports.NewsIcon = function (props) { return (RX.createElement(icon_base_1.IconBase, __assign({ viewBox: '0 -2 40 40' }, props),\r\n    RX.createElement(reactxp_imagesvg_1.SvgPath, { strokeColor: props.style.strokeColor, fillColor: props.style.fillColor, \r\n        // tslint:disable-next-line:max-line-length\r\n        d: 'm19.9 12.5h-7.5v7.5h7.5v-7.5z m2.5 12.5v2.5h-12.5v-2.5h12.5z m0-14.9v12.4h-12.5v-12.4h12.5z m12.4 14.9v2.5h-10v-2.5h10z m0-5v2.5h-10v-2.5h10z m0-5v2.5h-10v-2.5h10z m0-4.9v2.4h-10v-2.4h10z m-29.8 18.6v-18.6h-2.5v18.6q0 0.5 0.4 0.9t0.8 0.3 0.9-0.3 0.4-0.9z m32.3 0v-21.1h-29.8v21.1q0 0.6-0.3 1.2h28.8q0.5 0 0.9-0.3t0.4-0.9z m2.5-23.6v23.6q0 1.5-1.1 2.6t-2.7 1.1h-32.3q-1.5 0-2.6-1.1t-1.1-2.6v-21.1h5v-2.5h34.8z' }))); };\r\n\n\n/***/ }),\n\n/***/ 194:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar reactxp_imagesvg_1 = __webpack_require__(23);\r\nvar icon_base_1 = __webpack_require__(19);\r\nexports.SearchIcon = function (props) { return (RX.createElement(icon_base_1.IconBase, __assign({ viewBox: '0 0 40 40' }, props),\r\n    RX.createElement(reactxp_imagesvg_1.SvgPath, { strokeColor: props.style.strokeColor, fillColor: props.style.fillColor, \r\n        // tslint:disable-next-line:max-line-length\r\n        d: 'm27.2 18.6q0-4.2-2.9-7.1t-7.1-2.9-7 2.9-3 7.1 2.9 7 7.1 3 7.1-3 2.9-7z m11.4 18.5q0 1.2-0.8 2.1t-2 0.8q-1.2 0-2-0.8l-7.7-7.7q-4 2.8-8.9 2.8-3.2 0-6.1-1.3t-5-3.3-3.4-5-1.2-6.1 1.2-6.1 3.4-5.1 5-3.3 6.1-1.2 6.1 1.2 5 3.3 3.4 5.1 1.2 6.1q0 4.9-2.7 8.9l7.6 7.6q0.8 0.9 0.8 2z' }))); };\r\n\n\n/***/ }),\n\n/***/ 195:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar simple_component_base_1 = __webpack_require__(101);\r\nvar styles = {\r\n    fullRow: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flex: 1,\r\n    }),\r\n    fullColumn: RX.Styles.createViewStyle({\r\n        flexDirection: 'column',\r\n        flex: 1,\r\n    }),\r\n};\r\nvar MainLayout = (function (_super) {\r\n    __extends(MainLayout, _super);\r\n    function MainLayout() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.onScroll = function () {\r\n            // From: https://stackoverflow.com/questions/1145850/how-to-get-height-of-entire-document-with-javascript\r\n            var body = document.body;\r\n            var html = document.documentElement;\r\n            var contentHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\r\n            var yTop = document.body.scrollTop;\r\n            var viewHeight = document.body.clientHeight;\r\n            var yBottom = yTop + viewHeight;\r\n            // console.log('onScroll', { yBottom, contentHeight, viewHeight, yTop });\r\n            if (yBottom > contentHeight - 100) {\r\n                _this.props.onScrollReachEnd && _this.props.onScrollReachEnd();\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    MainLayout.prototype.componentDidMount = function () {\r\n        if (this.props.onScrollReachEnd) {\r\n            window.addEventListener('scroll', this.onScroll);\r\n            this.onScroll();\r\n        }\r\n    };\r\n    MainLayout.prototype.componentWillUnmount = function () {\r\n        if (this.props.onScrollReachEnd) {\r\n            window.removeEventListener('scroll', this.onScroll);\r\n        }\r\n    };\r\n    MainLayout.prototype.render = function () {\r\n        return (RX.createElement(\"div\", { style: \"width:100%; height: 100%; background-color: \" + this.props.backgroundColor },\r\n            RX.createElement(\"div\", { style: 'width:100%' }, this.props.headerContent),\r\n            RX.createElement(\"div\", { style: 'width:100%; display:flex;' },\r\n                RX.createElement(RX.View, { style: styles.fullColumn }, this.props.children)),\r\n            RX.createElement(\"div\", { style: \"height:\" + this.props.footerHeight + \"px;\" }),\r\n            RX.createElement(AutoHideHeader, null, this.props.headerContent),\r\n            RX.createElement(\"div\", { style: 'position:fixed; bottom: 0; width: 100%;' }, this.props.footerContent)));\r\n    };\r\n    return MainLayout;\r\n}(simple_component_base_1.SimpleComponentBase));\r\nexports.MainLayout = MainLayout;\r\nvar AutoHideHeader = (function (_super) {\r\n    __extends(AutoHideHeader, _super);\r\n    function AutoHideHeader() {\r\n        var _this = _super.call(this) || this;\r\n        _this._lastScrollY = 0;\r\n        _this.handleScroll = function (e) {\r\n            var scrollY = window.scrollY;\r\n            var dy = scrollY - _this._lastScrollY;\r\n            var isVisible = _this.state.isVisible;\r\n            // Make invisible if negative scroll (mobile web)\r\n            if (scrollY < 0) {\r\n                if (isVisible) {\r\n                    _this.setState({\r\n                        isVisible: false\r\n                    });\r\n                }\r\n                return;\r\n            }\r\n            // Ignore small changes\r\n            if (Math.abs(dy) < 100) {\r\n                return;\r\n            }\r\n            _this._lastScrollY = scrollY;\r\n            if (!isVisible && dy < 0) {\r\n                _this.setState({\r\n                    isVisible: true\r\n                });\r\n            }\r\n            else if (isVisible && dy > 0) {\r\n                _this.setState({\r\n                    isVisible: false\r\n                });\r\n            }\r\n        };\r\n        setTimeout(function () {\r\n            _this.state = {\r\n                isVisible: false,\r\n                clonedChildren: RX.Children.map(_this.props.children, function (c) { return c; }),\r\n            };\r\n        });\r\n        return _this;\r\n    }\r\n    AutoHideHeader.prototype.componentDidMount = function () {\r\n        window.addEventListener('scroll', this.handleScroll);\r\n    };\r\n    AutoHideHeader.prototype.componentWillUnmount = function () {\r\n        window.removeEventListener('scroll', this.handleScroll);\r\n    };\r\n    AutoHideHeader.prototype.render = function () {\r\n        return (this.state.isVisible &&\r\n            RX.createElement(\"div\", { style: 'position:fixed; top: 0; width: 100%;' }, this.state.clonedChildren));\r\n    };\r\n    return AutoHideHeader;\r\n}(simple_component_base_1.SimpleComponentBase));\r\nexports.AutoHideHeader = AutoHideHeader;\r\n\n\n/***/ }),\n\n/***/ 197:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar store_component_base_1 = __webpack_require__(29);\r\nvar styles_1 = __webpack_require__(14);\r\nvar facebook_login_1 = __webpack_require__(63);\r\nvar posts_base_list_1 = __webpack_require__(435);\r\nvar page_layout_1 = __webpack_require__(433);\r\nexports.NewsPage = function (props) { return (RX.createElement(page_layout_1.PageLayout, { store: props.store, postsStore: props.store.newsFeed, onScrollReachEnd: props.store.newsFeed.loadMorePosts },\r\n    RX.createElement(RX.View, { style: styles_1.styles.page },\r\n        RX.createElement(exports.NewsPostList, { store: props.store })))); };\r\nexports.NewsPostList = function (props) { return store_component_base_1.storeComp(function () { return ({\r\n    isFacebookLoggedIn: props.store.account.getIsFacebookLoggedIn(),\r\n    loginError: props.store.account.getError(),\r\n}); }, function (state) { return (RX.createElement(RX.View, null, !state.isFacebookLoggedIn ? (RX.createElement(RX.View, null,\r\n    RX.createElement(RX.Text, { style: styles_1.styles.warning_text }, \"Facebook not Logged In\"),\r\n    !!state.loginError && RX.createElement(RX.Text, { style: styles_1.styles.warning_text }, state.loginError),\r\n    RX.createElement(RX.View, { style: styles_1.styles.postPanel },\r\n        RX.createElement(RX.View, { style: styles_1.styles.center_content },\r\n            RX.createElement(facebook_login_1.FacebookLogin, { onLoginFinished: props.store.account.onLoginFinished, onError: props.store.account.setLoginError }))))) : (RX.createElement(posts_base_list_1.PostsBaseList, { store: props.store, postsStore: props.store.newsFeed })))); }); };\r\n// export const NewsPostList = (props: { store: Store }) => storeComp(() => ({\r\n// }), (state) => (\r\n//     <RX.View>\r\n//         <PostsBaseList store={props.store} postsStore={props.store.newsFeed} />\r\n//     </RX.View>\r\n// )); \r\n\n\n/***/ }),\n\n/***/ 201:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar styles_1 = __webpack_require__(14);\r\nvar sized_image_1 = __webpack_require__(187);\r\nexports.FacebookFeedPost = function (props) {\r\n    return (RX.createElement(RX.View, { style: [styles_1.styles.postPanel, styles_1.styles.sponsored] },\r\n        RX.createElement(RX.Button, { onPress: function () { return RX.Linking.openUrl(props.item.permalink_url); } },\r\n            RX.createElement(RX.View, { style: styles_1.styles.fullRow },\r\n                RX.createElement(RX.View, { style: styles_1.styles.postIcon_padding },\r\n                    RX.createElement(RX.Image, { source: props.item.from.picture.data.url, style: styles_1.styles.postProfilePicture })),\r\n                RX.createElement(RX.View, { style: styles_1.styles.fullColumn },\r\n                    RX.createElement(RX.View, null,\r\n                        RX.createElement(RX.Text, { style: styles_1.styles.postTitle_text }, props.item.from.name)),\r\n                    RX.createElement(RX.View, null,\r\n                        RX.createElement(RX.Text, { style: styles_1.styles.postInfo_text }, formatTime(props.item.created_time)))))),\r\n        RX.createElement(RX.View, { style: [styles_1.styles.fullColumn] },\r\n            !!props.item.message && (RX.createElement(RX.View, { style: styles_1.styles.fullRow },\r\n                RX.createElement(RX.View, { style: styles_1.styles.postContent_section },\r\n                    RX.createElement(RX.Text, { style: styles_1.styles.postContent_section_text }, props.item.message)))),\r\n            !!props.item.full_picture && (RX.createElement(RX.View, { style: [styles_1.styles.fullRow, styles_1.styles.center_content] },\r\n                RX.createElement(sized_image_1.SizedImage, { style: styles_1.styles.postImage, source: props.item.full_picture, maxWidth: styles_1.styles.postImage_maxWidth }))),\r\n            !!props.item.caption && (RX.createElement(RX.View, { style: styles_1.styles.fullRow },\r\n                RX.createElement(RX.View, { style: styles_1.styles.postContent_section },\r\n                    RX.createElement(RX.Text, { style: styles_1.styles.postContent_section_caption_text }, props.item.caption)))),\r\n            !!props.item.description && (RX.createElement(RX.View, { style: styles_1.styles.fullRow },\r\n                RX.createElement(RX.View, { style: styles_1.styles.postContent_section },\r\n                    RX.createElement(RX.Text, { style: styles_1.styles.postContent_section_details_text }, props.item.description))))),\r\n        props.item.shares && props.item.shares.count && (RX.createElement(RX.View, { style: [styles_1.styles.fullColumn, styles_1.styles.postStats_view] },\r\n            RX.createElement(RX.View, { style: [styles_1.styles.postContent_section, styles_1.styles.fullRow] },\r\n                RX.createElement(RX.Text, { style: styles_1.styles.postContent_section_details_text },\r\n                    props.item.shares.count,\r\n                    \" shares \"),\r\n                RX.createElement(RX.Text, { style: styles_1.styles.postContent_section_details_text },\r\n                    props.item.comments && props.item.comments.data && props.item.comments.data.length || 0,\r\n                    \" comments \")))),\r\n        props.item.comments && props.item.comments.data && props.item.comments.data.length && (RX.createElement(RX.View, { style: [styles_1.styles.fullColumn, styles_1.styles.postStats_view] }, props.item.comments.data.map(function (c) { return (RX.createElement(exports.Comment, { key: c.id, comment: c })); }))),\r\n        RX.createElement(RX.View, { style: styles_1.styles.right_content },\r\n            RX.createElement(RX.Button, { style: styles_1.styles.action_button, onPress: function () { return RX.Linking.openUrl(props.item.permalink_url); } },\r\n                RX.createElement(RX.Text, { style: styles_1.styles.action_button_text }, \"Open in Facebook\")))));\r\n};\r\nexports.Comment = function (props) { return (RX.createElement(RX.View, { style: [styles_1.styles.postContent_section, styles_1.styles.fullRow] },\r\n    RX.createElement(RX.Image, { source: props.comment.from.picture.data.url, style: styles_1.styles.postProfilePicture }),\r\n    RX.createElement(RX.View, { style: styles_1.styles.fullColumn },\r\n        RX.createElement(RX.View, { style: styles_1.styles.flex1 },\r\n            RX.createElement(RX.Text, { style: styles_1.styles.postContent_comment_message_text },\r\n                RX.createElement(RX.Text, { style: styles_1.styles.postContent_comment_name_text },\r\n                    props.comment.from.name,\r\n                    \" \"),\r\n                props.comment.message)),\r\n        RX.createElement(RX.Text, { style: styles_1.styles.postContent_comment_info_text }, formatTime(props.comment.created_time))))); };\r\nfunction formatTime(time) {\r\n    var d = new Date(Date.parse(time.replace('+0000', '+00:00')));\r\n    return d.toLocaleDateString() + ' ' + d.toLocaleTimeString();\r\n}\r\nexports.formatTime = formatTime;\r\n\n\n/***/ }),\n\n/***/ 202:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar post_selector_1 = __webpack_require__(203);\r\nvar styles_1 = __webpack_require__(14);\r\nexports.PostList = function (props) { return (RX.createElement(RX.View, { style: styles_1.styles.postList }, props.items.map(function (x, i) { return (RX.createElement(RX.View, { style: styles_1.styles.postItem, key: i },\r\n    RX.createElement(post_selector_1.PostSelector, { store: props.store, item: x }))); }))); };\r\n\n\n/***/ }),\n\n/***/ 203:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar circle_open_1 = __webpack_require__(188);\r\nvar styles_1 = __webpack_require__(14);\r\nvar RX = __webpack_require__(1);\r\nvar facebook_feed_post_1 = __webpack_require__(201);\r\nexports.PostSelector = function (props) {\r\n    switch (props.item.kind) {\r\n        case 'FacebookPost': return RX.createElement(facebook_feed_post_1.FacebookFeedPost, { store: props.store, item: props.item });\r\n        // Should never happen\r\n        default: return RX.createElement(exports.GenericPost, { store: props.store, item: props.item });\r\n    }\r\n};\r\nexports.GenericPost = function (props) {\r\n    var x = props.item;\r\n    return (RX.createElement(RX.View, { style: styles_1.styles.postPanel },\r\n        RX.createElement(RX.View, { style: styles_1.styles.fullRow },\r\n            RX.createElement(RX.View, { style: styles_1.styles.postIcon_padding },\r\n                RX.createElement(circle_open_1.CircleOpenIcon, { style: styles_1.styles.postIcon })),\r\n            RX.createElement(RX.View, { style: styles_1.styles.fullColumn },\r\n                RX.createElement(RX.View, null,\r\n                    RX.createElement(RX.Text, { style: styles_1.styles.postTitle_text }, x.kind)))),\r\n        RX.createElement(RX.View, { style: styles_1.styles.postContent_section }, Object.getOwnPropertyNames(x).filter(function (k) { return k !== 'kind'; }).map(function (k, i) { return (RX.createElement(RX.View, { key: i },\r\n            RX.createElement(RX.Text, { style: styles_1.styles.postContent_section_text }, x[k] + ''))); }))));\r\n};\r\n\n\n/***/ }),\n\n/***/ 204:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar styles_1 = __webpack_require__(14);\r\nvar feedback_1 = __webpack_require__(191);\r\nvar formLinkUrl = 'https://goo.gl/forms/FORM_URL?';\r\nvar style = __assign({}, styles_1.styles.postIcon_action, { fillColor: styles_1.colors.actionIcons.e_yellow });\r\nvar feedbackOnPress = function () {\r\n    RX.Linking.openUrl(formLinkUrl);\r\n};\r\nexports.FeedbackButton = function () { return (RX.createElement(RX.Button, { onPress: feedbackOnPress },\r\n    RX.createElement(feedback_1.FeedbackIcon, { style: style }))); };\r\n\n\n/***/ }),\n\n/***/ 205:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar storage_1 = __webpack_require__(207);\r\nvar version = 'v0_1';\r\nfunction autoDeviceStorage(defaultValue, classStorageKey) {\r\n    if (defaultValue === void 0) { defaultValue = null; }\r\n    if (classStorageKey === void 0) { classStorageKey = ''; }\r\n    return function (targetPrototype, propertyKey) {\r\n        var propKey = version + classStorageKey + propertyKey + '__value';\r\n        var descriptor = {};\r\n        descriptor.get = function () {\r\n            var self = this;\r\n            // const key = propKey + (self['_store_instance_name'] || '');\r\n            var key = propKey;\r\n            var value = self[key];\r\n            // console.log('get from self', { key, propKey, self, value: self[key] });\r\n            if (value === undefined) {\r\n                self[key] = null;\r\n                value = defaultValue;\r\n                // Get value from storage\r\n                if (self.startLoading) {\r\n                    self.startLoading();\r\n                }\r\n                var prom = storage_1.Storage.getItem_noMemCache(key);\r\n                prom.then(function (x) {\r\n                    if (self.endLoading) {\r\n                        self.endLoading();\r\n                    }\r\n                    if (x == null) {\r\n                        return;\r\n                    }\r\n                    self[key] = JSON.parse(x);\r\n                    // console.log('get from storage', { key, self, value: self[key] });\r\n                    self.trigger();\r\n                });\r\n            }\r\n            return value;\r\n        };\r\n        descriptor.set = function (v) {\r\n            var self = this;\r\n            //const key = propKey + (self['_store_instance_name'] || '');\r\n            var key = propKey;\r\n            self[key] = v;\r\n            storage_1.Storage.setItem_noMemCache(key, JSON.stringify(v));\r\n        };\r\n        return descriptor;\r\n    };\r\n}\r\nexports.autoDeviceStorage = autoDeviceStorage;\r\n\n\n/***/ }),\n\n/***/ 206:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar XP = __webpack_require__(1);\r\nvar StorageClass = (function () {\r\n    function StorageClass() {\r\n        var _this = this;\r\n        this.hasItem = function (key) { return __awaiter(_this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, XP.Storage.getItem(key)];\r\n                    case 1: return [2 /*return*/, (_a.sent()) != null];\r\n                }\r\n            });\r\n        }); };\r\n        console.log('Using StorageClass (native)');\r\n    }\r\n    StorageClass.prototype.getItem = function (key) {\r\n        return XP.Storage.getItem(key);\r\n    };\r\n    StorageClass.prototype.getItem_noMemCache = function (key) {\r\n        return XP.Storage.getItem(key);\r\n    };\r\n    StorageClass.prototype.setItem = function (key, value) {\r\n        return XP.Storage.setItem(key, value);\r\n    };\r\n    StorageClass.prototype.setItem_noMemCache = function (key, value) {\r\n        return XP.Storage.setItem(key, value);\r\n    };\r\n    return StorageClass;\r\n}());\r\nexports.Storage = new StorageClass();\r\n\n\n/***/ }),\n\n/***/ 207:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar XP = __webpack_require__(1);\r\nvar storage_native_1 = __webpack_require__(206);\r\nvar StorageClass = (function () {\r\n    function StorageClass() {\r\n        this._supportsLocalStorage = undefined;\r\n        this._memCache = {};\r\n        console.log('Using StorageClass (web-memStorage/localStorage)');\r\n    }\r\n    Object.defineProperty(StorageClass.prototype, \"supportsLocalStorage\", {\r\n        get: function () {\r\n            return this._supportsLocalStorage !== undefined ? this._supportsLocalStorage\r\n                : this._supportsLocalStorage = testLocalStorage();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    StorageClass.prototype.getItem = function (key) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a, _b;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        if (!(this._memCache[key] === undefined)) return [3 /*break*/, 2];\r\n                        _a = this._memCache;\r\n                        _b = key;\r\n                        return [4 /*yield*/, this.getItem_noMemCache(key)];\r\n                    case 1:\r\n                        _a[_b] = _c.sent();\r\n                        _c.label = 2;\r\n                    case 2: return [2 /*return*/, this._memCache[key]];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    StorageClass.prototype.getItem_noMemCache = function (key) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                // console.log('getItem_noMemCache', { key });\r\n                if (this.supportsLocalStorage) {\r\n                    return [2 /*return*/, localStorage.getItem(key)];\r\n                }\r\n                else {\r\n                    return [2 /*return*/, null];\r\n                }\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    StorageClass.prototype.setItem = function (key, value) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                this._memCache[key] = value;\r\n                this.setItem_noMemCache(key, value);\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    StorageClass.prototype.setItem_noMemCache = function (key, value) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                // console.log('setItem_noMemCache', { key, value });\r\n                if (this.supportsLocalStorage) {\r\n                    return [2 /*return*/, localStorage.setItem(key, value)];\r\n                }\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    StorageClass.prototype.hasItem = function (key) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, this.getItem(key) !== undefined];\r\n            });\r\n        });\r\n    };\r\n    return StorageClass;\r\n}());\r\nfunction testLocalStorage() {\r\n    try {\r\n        if (typeof localStorage === undefined) {\r\n            return false;\r\n        }\r\n        var key = '___test' + Math.random();\r\n        var value = 'Test Value';\r\n        localStorage[key] = value;\r\n        var isOk = localStorage[key] === value;\r\n        localStorage.removeItem(key);\r\n        return isOk;\r\n    }\r\n    catch (err) {\r\n        return false;\r\n    }\r\n}\r\nexports.Storage = XP.Platform.getType() === 'web' ? new StorageClass()\r\n    : storage_native_1.Storage;\r\n\n\n/***/ }),\n\n/***/ 208:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nfunction handleRoute() {\r\n    if (RX.Platform.getType() !== 'web') {\r\n        return;\r\n    }\r\n    var query = location.search;\r\n    var m = query.match(/\\Wpath=([^&]+)(?:&|$)/);\r\n    var qPath = m && m[1];\r\n    var path = qPath || location.pathname;\r\n    console.log('handleRoute', { path: path });\r\n    var parts = path.replace(/^\\//, '').split('/');\r\n    var page = (parts[0] || '').toLowerCase();\r\n    // if (page === 'custom') {\r\n    //     const id = parts[1];\r\n    //     if (id) {\r\n    //         Store.route_openCustomPage(id);\r\n    //         return;\r\n    //     }\r\n    // }\r\n}\r\nexports.handleRoute = handleRoute;\r\n\n\n/***/ }),\n\n/***/ 209:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar fromFields = 'from{id,name,picture}';\r\nvar postFields = \"created_time,message,picture,full_picture,id,caption,description,type,source,link,icon,permalink_url,shares,\" + fromFields + \",comments{id,\" + fromFields + \",message,created_time}\";\r\n// Get Posts for a single page\r\nfunction getPosts(client, accessToken, pageName, limit, sinceSeconds, untilSeconds) {\r\n    if (limit === void 0) { limit = 10; }\r\n    if (sinceSeconds === void 0) { sinceSeconds = null; }\r\n    if (untilSeconds === void 0) { untilSeconds = null; }\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var sinceQuery, untilQuery, limitQuery, url;\r\n        return __generator(this, function (_a) {\r\n            sinceQuery = sinceSeconds && \"&since=\" + sinceSeconds || '';\r\n            untilQuery = untilSeconds && \"&until=\" + untilSeconds || '';\r\n            limitQuery = limit && \"&limit=\" + limit || '';\r\n            url = \"https://graph.facebook.com/v2.6/\" + pageName + \"/posts?fields=\" + postFields + limitQuery + sinceQuery + untilQuery + \"&access_token=\" + accessToken;\r\n            return [2 /*return*/, client.graphApi(url, 'getPosts')];\r\n        });\r\n    });\r\n}\r\nexports.getPosts = getPosts;\r\n// Get posts for multiple pages in a single request\r\n// NOTE: if any pageName is not found, the whole request will fail\r\nfunction getPosts_multiplePages(client, accessToken, pageNames, limitPerPage, sinceSeconds, untilSeconds) {\r\n    if (limitPerPage === void 0) { limitPerPage = 10; }\r\n    if (sinceSeconds === void 0) { sinceSeconds = null; }\r\n    if (untilSeconds === void 0) { untilSeconds = null; }\r\n    var sinceQuery = sinceSeconds && \"&since=\" + sinceSeconds || '';\r\n    var untilQuery = untilSeconds && \"&until=\" + untilSeconds || '';\r\n    var limitQuery = limitPerPage && \"&limit=\" + limitPerPage || '';\r\n    var url = \"https://graph.facebook.com/v2.6/posts?ids=\" + pageNames.join(',') + \"&fields=\" + postFields + limitQuery + sinceQuery + untilQuery + \"&access_token=\" + accessToken;\r\n    return client.graphApiRaw(url, 'getPosts_multiplePages');\r\n}\r\nexports.getPosts_multiplePages = getPosts_multiplePages;\r\n\n\n/***/ }),\n\n/***/ 210:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar auto_timeout_1 = __webpack_require__(64);\r\nfunction graphApiRaw(url, errorName) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var _this = this;\r\n        return __generator(this, function (_a) {\r\n            return [2 /*return*/, auto_timeout_1.autoTimeout({\r\n                    timeoutErrorMessage: 'Timeout: ' + errorName,\r\n                    errorMessage: 'Error: ' + errorName\r\n                }, function () { return __awaiter(_this, void 0, void 0, function () {\r\n                    var r, json, result;\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0: return [4 /*yield*/, fetch(url, { method: 'GET' })];\r\n                            case 1:\r\n                                r = _a.sent();\r\n                                return [4 /*yield*/, r.json()];\r\n                            case 2:\r\n                                json = _a.sent();\r\n                                if (json.error) {\r\n                                    console.error(errorName + 'graphApi ERROR', json);\r\n                                    throw '' + json.error;\r\n                                }\r\n                                result = json;\r\n                                return [2 /*return*/, result];\r\n                        }\r\n                    });\r\n                }); })];\r\n        });\r\n    });\r\n}\r\nfunction graphApi(url, errorName) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, graphApiRaw(url, errorName)];\r\n                case 1: return [2 /*return*/, (_a.sent()).data];\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.facebookClient = {\r\n    graphApiRaw: graphApiRaw,\r\n    graphApi: graphApi,\r\n};\r\n\n\n/***/ }),\n\n/***/ 211:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.facebookAppId = '12345'; // localhost:3100\r\n\n\n/***/ }),\n\n/***/ 212:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(__webpack_require__(211));\r\n// export * from './settings.prod'; \r\n\n\n/***/ }),\n\n/***/ 213:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar resub_1 = __webpack_require__(41);\r\nvar helpers_1 = __webpack_require__(103);\r\nvar posts_store_base_1 = __webpack_require__(214);\r\nvar facebook_access_1 = __webpack_require__(209);\r\nvar account_store_1 = __webpack_require__(102);\r\nvar facebook_client_1 = __webpack_require__(210);\r\nvar facebookPageIds = [];\r\nvar NewsFeedStoreClass = (function (_super) {\r\n    __extends(NewsFeedStoreClass, _super);\r\n    function NewsFeedStoreClass() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.accountStore = account_store_1.AccountStore;\r\n        _this.loadFacebookPosts = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var err_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 3, , 4]);\r\n                        return [4 /*yield*/, this.accountStore.getFacebookAccessToken_async()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.populateActivePosts()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        err_1 = _a.sent();\r\n                        this.setError('Failed to load data from Facebook', err_1);\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        _this.populateActivePosts = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var _this = this;\r\n            var accessToken, allPosts, pagePosts, newPosts, _loop_1, this_1, k, err_2, postsActive, lastPost, oldestActiveTimeTicks, promises, err_3, _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        accessToken = this.accountStore.getFacebookAccessToken();\r\n                        console.log('NewsFeedStore.populateActivePosts START', { accessToken: accessToken });\r\n                        if (!accessToken) {\r\n                            this.setError('Facebook Account not Connected');\r\n                            return [2 /*return*/];\r\n                        }\r\n                        allPosts = this._postsAll_facebook;\r\n                        if (!(!allPosts || !allPosts.length)) return [3 /*break*/, 4];\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, facebook_access_1.getPosts_multiplePages(facebook_client_1.facebookClient, accessToken, this._newsFeedData.feeds.map(function (x) { return x.pageId; }))];\r\n                    case 2:\r\n                        pagePosts = _b.sent();\r\n                        newPosts = [];\r\n                        _loop_1 = function (k) {\r\n                            var feed = this_1._newsFeedData.feeds.filter(function (f) { return f.pageId === k; })[0];\r\n                            console.log('NewsFeedStore.populateActivePosts AddAllFeeds', { k: k, feed: feed, pagePosts: pagePosts, _newsFeedData: this_1._newsFeedData });\r\n                            var fPosts = pagePosts[k].data;\r\n                            feed.posts = feed.posts || [];\r\n                            (_a = feed.posts).push.apply(_a, fPosts);\r\n                            feed.posts = cleanAndSortPosts(feed.posts);\r\n                            feed.isLoading = false;\r\n                            feed.oldestEntryTimeTicks = feed.posts && feed.posts[feed.posts.length - 1].createdTimeTicks || 0;\r\n                            newPosts.push.apply(newPosts, fPosts);\r\n                            var _a;\r\n                        };\r\n                        this_1 = this;\r\n                        for (k in pagePosts) {\r\n                            _loop_1(k);\r\n                        }\r\n                        this._postsAll_facebook = this._postsAll_facebook || [];\r\n                        (_a = this._postsAll_facebook).push.apply(_a, newPosts);\r\n                        this._postsAll_facebook = cleanAndSortPosts(this._postsAll_facebook);\r\n                        console.log('NewsFeedStore.populateActivePosts END', { allPosts: this._postsAll_facebook, pagePosts: pagePosts });\r\n                        return [2 /*return*/];\r\n                    case 3:\r\n                        err_2 = _b.sent();\r\n                        this.setError('Failed to load posts from Facebook', err_2);\r\n                        return [2 /*return*/];\r\n                    case 4:\r\n                        postsActive = this._postsAll_facebook.slice(0, this._postsActiveCount);\r\n                        lastPost = postsActive && postsActive.length && postsActive[postsActive.length - 1];\r\n                        oldestActiveTimeTicks = lastPost && lastPost.createdTimeTicks || Number.MAX_VALUE;\r\n                        promises = this._newsFeedData.feeds.filter(function (f) {\r\n                            // If the feed has newer items (greater), expand it\r\n                            return !f.isLoading && ((f.oldestEntryTimeTicks || 0) > oldestActiveTimeTicks);\r\n                        }).map(function (x) { return _this.loadMoreFeedPosts(x); });\r\n                        _b.label = 5;\r\n                    case 5:\r\n                        _b.trys.push([5, 7, , 8]);\r\n                        return [4 /*yield*/, Promise.all(promises)];\r\n                    case 6:\r\n                        _b.sent();\r\n                        return [3 /*break*/, 8];\r\n                    case 7:\r\n                        err_3 = _b.sent();\r\n                        this.setError('Failed to load more posts from Facebook', err_3);\r\n                        return [2 /*return*/];\r\n                    case 8:\r\n                        console.log('NewsFeedStore.populateActivePosts END', { allPosts: this._postsAll_facebook, promises: promises, oldestActiveTimeTicks: oldestActiveTimeTicks });\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        _this.loadMoreFeedPosts = function (feed) { return __awaiter(_this, void 0, void 0, function () {\r\n            var accessToken, untilSeconds, _a, _b, _c, err_4, _d, _e;\r\n            return __generator(this, function (_f) {\r\n                switch (_f.label) {\r\n                    case 0:\r\n                        accessToken = this.accountStore.getFacebookAccessToken();\r\n                        console.log('NewsFeedStore.loadMoreFeedPosts START', { feed: feed, allPosts: this._postsAll_facebook, accessToken: accessToken });\r\n                        _f.label = 1;\r\n                    case 1:\r\n                        _f.trys.push([1, 3, , 4]);\r\n                        feed.isLoading = true;\r\n                        feed.posts = feed.posts || [];\r\n                        untilSeconds = feed.posts && feed.posts[feed.posts.length - 1].createdTimeTicks / 1000 || null;\r\n                        _b = (_a = (_d = feed.posts).push).apply;\r\n                        _c = [_d];\r\n                        return [4 /*yield*/, facebook_access_1.getPosts(facebook_client_1.facebookClient, accessToken, feed.pageId, null, null, untilSeconds)];\r\n                    case 2:\r\n                        _b.apply(_a, _c.concat([_f.sent()]));\r\n                        feed.posts = cleanAndSortPosts(feed.posts);\r\n                        feed.isLoading = false;\r\n                        feed.oldestEntryTimeTicks = feed.posts && feed.posts[feed.posts.length - 1].createdTimeTicks || 0;\r\n                        this._postsAll_facebook = this._postsAll_facebook || [];\r\n                        (_e = this._postsAll_facebook).push.apply(_e, feed.posts);\r\n                        this._postsAll_facebook = cleanAndSortPosts(this._postsAll_facebook);\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        err_4 = _f.sent();\r\n                        console.log('NewsFeedStore.loadMoreFeedPosts FAIL', err_4);\r\n                        feed.isLoading = false;\r\n                        throw err_4;\r\n                    case 4:\r\n                        console.log('NewsFeedStore.loadMoreFeedPosts END', { feed: feed, allPosts: this._postsAll_facebook });\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        return _this;\r\n    }\r\n    NewsFeedStoreClass.prototype.load = function () {\r\n        this._newsFeedData = {\r\n            feeds: facebookPageIds.map(function (x) { return ({\r\n                pageId: x,\r\n                posts: [],\r\n            }); })\r\n        };\r\n    };\r\n    NewsFeedStoreClass.prototype.getPosts_filtered = function (search) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!!this._postsAll_facebook) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.loadFacebookPosts()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/, this._postsAll_facebook.filter(function (x) { return helpers_1.isMatch(search, x); })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ;\r\n    return NewsFeedStoreClass;\r\n}(posts_store_base_1.PostsStoreBase));\r\nNewsFeedStoreClass = __decorate([\r\n    resub_1.AutoSubscribeStore\r\n], NewsFeedStoreClass);\r\nexports.NewsFeedStoreClass = NewsFeedStoreClass;\r\nfunction cleanAndSortPosts(items) {\r\n    items.forEach(function (x) {\r\n        x.createdTimeTicks = Date.parse(x.created_time.replace('+0000', '+00:00'));\r\n        x.kind = 'FacebookPost';\r\n    });\r\n    var hash = items.reduce(function (out, x) {\r\n        out[x.id] = x;\r\n        return out;\r\n    }, {});\r\n    var final = Object.getOwnPropertyNames(hash).map(function (k) { return hash[k]; });\r\n    return final.sort(function (a, b) { return b.createdTimeTicks - a.createdTimeTicks; });\r\n}\r\nexports.NewsFeedStore = new NewsFeedStoreClass();\r\n\n\n/***/ }),\n\n/***/ 214:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AutoSubscriptions_1 = __webpack_require__(99);\r\nvar resub_1 = __webpack_require__(41);\r\nvar PostsStoreBase = (function (_super) {\r\n    __extends(PostsStoreBase, _super);\r\n    function PostsStoreBase() {\r\n        var _this = _super.call(this) || this;\r\n        _this._error = null;\r\n        _this._isLoading = true;\r\n        _this._isLoaded = false;\r\n        _this._isLoadingMore = false;\r\n        _this._postsActiveCount = 10;\r\n        _this._hasMorePosts = false;\r\n        _this.setSearch = function (search) { return __awaiter(_this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                console.log('PostsStoreBase.setSearch', { search: search });\r\n                if (search === this._search) {\r\n                    return [2 /*return*/];\r\n                }\r\n                this._search = search;\r\n                this.resetData(true);\r\n                return [2 /*return*/];\r\n            });\r\n        }); };\r\n        _this.loadMorePosts = function () {\r\n            setTimeout(_this.loadMorePosts_inner);\r\n        };\r\n        _this._isIgnoringLoadMore = false;\r\n        _this.loadMorePosts_inner = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                console.log('PostsStoreBase.loadMorePosts');\r\n                if (!this._isLoadingMore && !this._isIgnoringLoadMore && this._postsFiltered) {\r\n                    this._isIgnoringLoadMore = true;\r\n                    setTimeout(this.loadMorePosts_resume, 500);\r\n                    this._isLoadingMore = true;\r\n                    // this.trigger('_isLoadingMore');\r\n                    // await delay(1000);\r\n                    this._postsActiveCount += 10;\r\n                    this.showActivePosts();\r\n                }\r\n                return [2 /*return*/];\r\n            });\r\n        }); };\r\n        _this.loadMorePosts_resume = function () {\r\n            _this._isIgnoringLoadMore = false;\r\n        };\r\n        _this.setError = function (message, data) {\r\n            console.error(message, data);\r\n            _this._error = message;\r\n            if (data) {\r\n                try {\r\n                    _this._error = message + ': ' + JSON.stringify(data);\r\n                }\r\n                catch (err) {\r\n                    _this._error = message + ': ' + data;\r\n                }\r\n            }\r\n            _this._isLoading = false;\r\n            _this._isLoaded = false;\r\n            _this._isLoadingMore = false;\r\n            _this.trigger();\r\n        };\r\n        _this.load_super = function () {\r\n            _this.load();\r\n            _this.resetData(true);\r\n        };\r\n        _this.resetData = function (shouldResetSearch) {\r\n            if (shouldResetSearch === void 0) { shouldResetSearch = false; }\r\n            _this._error = null;\r\n            _this._isLoading = true;\r\n            _this._isLoaded = false;\r\n            _this._isLoadingMore = false;\r\n            if (shouldResetSearch) {\r\n                _this._postsFiltered = null;\r\n                _this._postsActiveCount = 10;\r\n            }\r\n            _this._postsActive = null;\r\n            _this.trigger();\r\n        };\r\n        _this.loadData = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        if (!!this._postsFiltered) return [3 /*break*/, 2];\r\n                        _a = this;\r\n                        return [4 /*yield*/, this.getPosts_filtered(this._search)];\r\n                    case 1:\r\n                        _a._postsFiltered = _b.sent();\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        this.showActivePosts();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        _this.showActivePosts = function () {\r\n            var posts = _this._postsFiltered;\r\n            _this._postsActive = posts.slice(0, _this._postsActiveCount);\r\n            _this._hasMorePosts = _this._postsActive.length !== posts.length;\r\n            _this._isLoaded = true;\r\n            _this._isLoading = false;\r\n            _this._isLoadingMore = false;\r\n            _this.trigger();\r\n        };\r\n        setTimeout(_this.load_super, 10);\r\n        // Load Data Automatically on App Load\r\n        setTimeout(_this.loadData, 1000);\r\n        return _this;\r\n    }\r\n    PostsStoreBase.prototype.getPosts = function () {\r\n        if (!this._postsActive) {\r\n            this._postsActive = [];\r\n            setTimeout(this.loadData);\r\n        }\r\n        return this._postsActive;\r\n    };\r\n    PostsStoreBase.prototype.getError = function () {\r\n        return this._error;\r\n    };\r\n    PostsStoreBase.prototype.getIsLoading = function () {\r\n        return this._isLoading;\r\n    };\r\n    PostsStoreBase.prototype.getIsLoaded = function () {\r\n        return this._isLoaded;\r\n    };\r\n    PostsStoreBase.prototype.getIsLoadingMore = function () {\r\n        return this._isLoadingMore;\r\n    };\r\n    PostsStoreBase.prototype.getSearch = function () {\r\n        return this._search;\r\n    };\r\n    PostsStoreBase.prototype.getHasMorePosts = function () {\r\n        return this._hasMorePosts;\r\n    };\r\n    return PostsStoreBase;\r\n}(resub_1.StoreBase));\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], PostsStoreBase.prototype, \"getPosts\", null);\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], PostsStoreBase.prototype, \"getError\", null);\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], PostsStoreBase.prototype, \"getIsLoading\", null);\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], PostsStoreBase.prototype, \"getIsLoaded\", null);\r\n__decorate([\r\n    AutoSubscriptions_1.autoSubscribeWithKey('_isLoadingMore')\r\n], PostsStoreBase.prototype, \"getIsLoadingMore\", null);\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], PostsStoreBase.prototype, \"getSearch\", null);\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], PostsStoreBase.prototype, \"getHasMorePosts\", null);\r\nPostsStoreBase = __decorate([\r\n    resub_1.AutoSubscribeStore\r\n], PostsStoreBase);\r\nexports.PostsStoreBase = PostsStoreBase;\r\n\n\n/***/ }),\n\n/***/ 215:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar resub_1 = __webpack_require__(41);\r\nvar autoDeviceStorage_1 = __webpack_require__(205);\r\nvar helpers_1 = __webpack_require__(103);\r\nvar account_store_1 = __webpack_require__(102);\r\nvar news_feed_store_1 = __webpack_require__(213);\r\nvar StoreClass = (function (_super) {\r\n    __extends(StoreClass, _super);\r\n    function StoreClass() {\r\n        var _this = _super.call(this) || this;\r\n        _this.newsFeed = news_feed_store_1.NewsFeedStore;\r\n        _this.account = account_store_1.AccountStore;\r\n        _this.uiActions = [];\r\n        _this._isLoading = true;\r\n        _this._isLoadingChangeId = 0;\r\n        _this.load = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/];\r\n            });\r\n        }); };\r\n        _this.startLoading = function (fast) {\r\n            if (fast === void 0) { fast = false; }\r\n            return __awaiter(_this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (this._isLoading) {\r\n                                return [2 /*return*/];\r\n                            }\r\n                            this._isLoading = true;\r\n                            this._isLoadingChangeId++;\r\n                            if (!!fast) return [3 /*break*/, 2];\r\n                            this.trigger();\r\n                            return [4 /*yield*/, helpers_1.delay(10)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        _this.endLoading = function (fast) {\r\n            if (fast === void 0) { fast = false; }\r\n            return __awaiter(_this, void 0, void 0, function () {\r\n                var id;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            // this.refreshPage();\r\n                            if (!this._isLoading) {\r\n                                return [2 /*return*/];\r\n                            }\r\n                            id = this._isLoadingChangeId;\r\n                            if (!!fast) return [3 /*break*/, 2];\r\n                            return [4 /*yield*/, helpers_1.delay(10)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            if (!this._isLoading) {\r\n                                return [2 /*return*/];\r\n                            }\r\n                            if (id !== this._isLoadingChangeId) {\r\n                                return [2 /*return*/];\r\n                            }\r\n                            this._isLoading = false;\r\n                            this._isLoadingChangeId++;\r\n                            this.trigger();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        _this.gotoPage = function (page) { return __awaiter(_this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        // console.log('gotoPage', { page });\r\n                        this.startLoading(true);\r\n                        // await this.startLoading(true);\r\n                        this._page = 'Empty';\r\n                        this.trigger();\r\n                        return [4 /*yield*/, helpers_1.delay(10)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this._page = page;\r\n                        this.endLoading();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        setTimeout(_this.load, 250);\r\n        return _this;\r\n    }\r\n    StoreClass.prototype.getIsLoading = function () {\r\n        return this._isLoading;\r\n    };\r\n    StoreClass.prototype.getPage = function () {\r\n        return this._page;\r\n    };\r\n    return StoreClass;\r\n}(resub_1.StoreBase));\r\n__decorate([\r\n    autoDeviceStorage_1.autoDeviceStorage('Settings')\r\n], StoreClass.prototype, \"_page\", void 0);\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], StoreClass.prototype, \"getIsLoading\", null);\r\n__decorate([\r\n    resub_1.autoSubscribe\r\n], StoreClass.prototype, \"getPage\", null);\r\nStoreClass = __decorate([\r\n    resub_1.AutoSubscribeStore\r\n], StoreClass);\r\nexports.StoreClass = StoreClass;\r\n;\r\nexports.Store = new StoreClass();\r\n\n\n/***/ }),\n\n/***/ 216:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar app_1 = __webpack_require__(184);\r\nRX.App.initialize(true, true);\r\nRX.UserInterface.setMainView(RX.createElement(app_1.App, null));\r\n\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar resub_1 = __webpack_require__(41);\r\nfunction storeComp(buildStateCallback, renderCallback) {\r\n    return RX.createElement(StoreComponentBase, { buildStateCallback: buildStateCallback, renderCallback: renderCallback });\r\n}\r\nexports.storeComp = storeComp;\r\n;\r\nvar StoreComponentBase = (function (_super) {\r\n    __extends(StoreComponentBase, _super);\r\n    function StoreComponentBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    StoreComponentBase.prototype._buildState = function (props, initialBuild) {\r\n        return this.props.buildStateCallback();\r\n    };\r\n    StoreComponentBase.prototype.render = function () {\r\n        return this.props.renderCallback(this.state);\r\n    };\r\n    return StoreComponentBase;\r\n}(resub_1.ComponentBase));\r\n\n\n/***/ }),\n\n/***/ 431:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar styles_1 = __webpack_require__(14);\r\nvar facebook_login_1 = __webpack_require__(63);\r\nvar store_component_base_1 = __webpack_require__(29);\r\nvar page_layout_1 = __webpack_require__(433);\r\nexports.SettingsPage = function (props) { return store_component_base_1.storeComp(function () { return ({\r\n    loginError: props.store.account.getError(),\r\n    isLoggedIn: props.store.account.getIsFacebookLoggedIn(),\r\n    accountMessage: \"accessToken = '\" + ((props.store.account.getFacebookAccessToken() || '').substr(0, 10) + '...') + \"'\",\r\n    platform: RX.Platform.getType(),\r\n}); }, function (state) { return (RX.createElement(page_layout_1.PageLayout, { store: props.store, postsStore: props.store },\r\n    RX.createElement(RX.View, { style: styles_1.styles.page },\r\n        !!state.loginError && RX.createElement(RX.Text, { style: styles_1.styles.warning_text }, state.loginError),\r\n        RX.createElement(RX.View, { style: styles_1.styles.heading },\r\n            RX.createElement(RX.Text, { style: styles_1.styles.heading_text }, \"Settings\")),\r\n        RX.createElement(RX.View, { style: styles_1.styles.postPanel },\r\n            RX.createElement(RX.View, { style: [styles_1.styles.fullRow, styles_1.styles.center_content] },\r\n                RX.createElement(RX.View, { style: styles_1.styles.flex1 },\r\n                    RX.createElement(RX.Text, null, \"Facebook: \")),\r\n                RX.createElement(facebook_login_1.FacebookLogin, { onLoginFinished: props.store.account.onLoginFinished, onError: props.store.account.setLoginError }))),\r\n        RX.createElement(RX.View, { style: styles_1.styles.heading },\r\n            RX.createElement(RX.Text, { style: styles_1.styles.heading_text }, \"Other Pages\")),\r\n        RX.createElement(RX.View, { style: styles_1.styles.heading },\r\n            RX.createElement(RX.Text, { style: styles_1.styles.heading_text }, \"Debug\")),\r\n        RX.createElement(RX.View, { style: styles_1.styles.postPanel },\r\n            RX.createElement(RX.View, { style: styles_1.styles.center_content },\r\n                RX.createElement(RX.Text, null, state.accountMessage),\r\n                RX.createElement(RX.Text, null,\r\n                    \"Platform: '\",\r\n                    state.platform,\r\n                    \"'\")))))); }); };\r\nvar PageLink = function (props) { return (RX.createElement(RX.View, { style: styles_1.styles.postPanel },\r\n    RX.createElement(RX.View, { style: [styles_1.styles.fullRow, styles_1.styles.center_content] },\r\n        RX.createElement(RX.View, { style: styles_1.styles.flex1 },\r\n            RX.createElement(RX.Text, null, props.title)),\r\n        RX.createElement(RX.Button, { style: styles_1.styles.action_button, onPress: function () { return props.store.gotoPage(props.pageName); } },\r\n            RX.createElement(RX.Text, { style: styles_1.styles.action_button_text },\r\n                \"Open \",\r\n                props.title))))); };\r\n\n\n/***/ }),\n\n/***/ 432:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar news_1 = __webpack_require__(193);\r\nvar menu_1 = __webpack_require__(192);\r\nvar page_layout_1 = __webpack_require__(433);\r\nvar settings_page_1 = __webpack_require__(431);\r\nvar news_page_1 = __webpack_require__(197);\r\nexports.PageSelector = function (props) {\r\n    switch (props.pageName) {\r\n        case 'Empty': return RX.createElement(exports.EmptyPage, { store: props.store });\r\n        case 'Newsfeed': return RX.createElement(news_page_1.NewsPage, { store: props.store });\r\n        default: return RX.createElement(settings_page_1.SettingsPage, { store: props.store });\r\n    }\r\n};\r\nexports.PageIcon = function (props) {\r\n    switch (props.pageName) {\r\n        case 'Newsfeed': return RX.createElement(news_1.NewsIcon, { style: props.iconStyle });\r\n        default: return RX.createElement(menu_1.MenuIcon, { style: props.iconStyle });\r\n    }\r\n};\r\nexports.EmptyPage = function (props) { return (RX.createElement(page_layout_1.PageLayout, { store: props.store, postsStore: props.store },\r\n    RX.createElement(RX.View, null))); };\r\n\n\n/***/ }),\n\n/***/ 433:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar styles_1 = __webpack_require__(14);\r\nvar main_layout_1 = __webpack_require__(195);\r\nvar page_layout_common_1 = __webpack_require__(434);\r\nexports.PageLayout = function (props) {\r\n    return (RX.createElement(main_layout_1.MainLayout, { backgroundColor: styles_1.colors.back_page, headerContent: RX.createElement(page_layout_common_1.HeaderBar, { store: props.postsStore }), footerContent: RX.createElement(page_layout_common_1.TabBar, { store: props.store }), footerHeight: styles_1.sizes.footer_height, onScrollReachEnd: props.onScrollReachEnd },\r\n        RX.createElement(RX.View, { style: [styles_1.styles.fullColumn, styles_1.styles.pageBackground] }, props.children)));\r\n};\r\n\n\n/***/ }),\n\n/***/ 434:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar styles_1 = __webpack_require__(14);\r\nvar store_component_base_1 = __webpack_require__(29);\r\nvar search_1 = __webpack_require__(194);\r\nvar clear_1 = __webpack_require__(189);\r\nvar feedbackButton_1 = __webpack_require__(204);\r\nvar page_selector_1 = __webpack_require__(432);\r\nexports.TabBar = function (props) {\r\n    return (RX.createElement(RX.View, { style: [styles_1.styles.tabBar] },\r\n        RX.createElement(PageTab, { name: 'Newsfeed', store: props.store }),\r\n        RX.createElement(PageTab, { name: 'Settings', store: props.store })));\r\n};\r\nvar PageTab = function (props) { return store_component_base_1.storeComp(function () { return ({\r\n    active: props.store.getPage()\r\n}); }, function (state) {\r\n    // Cache Action in Store    \r\n    var s = props.store.uiActions;\r\n    var n = 'PageTab_onPress_' + props.name;\r\n    var onPress = s[n] = s[n] || (function () { return props.store.gotoPage(props.name); });\r\n    // Creates an arrow function every render\r\n    // const onPress = () => props.store.gotoPage(props.name);\r\n    var active = state.active;\r\n    var buttonStyle = props.name === active ? styles_1.styles.tab_button_active : styles_1.styles.tab_button;\r\n    var textStyle = props.name === active ? styles_1.styles.tab_text_active : styles_1.styles.tab_text;\r\n    var iconStyle = props.name === active ? styles_1.styles.tabIcon_active : styles_1.styles.tabIcon;\r\n    var icon = (RX.createElement(page_selector_1.PageIcon, { pageName: props.name, iconStyle: iconStyle }));\r\n    return (RX.createElement(RX.Button, { style: buttonStyle, onPress: onPress },\r\n        RX.createElement(RX.View, { style: styles_1.styles.center_content }, icon),\r\n        RX.createElement(RX.Text, { style: textStyle }, props.title || props.name)));\r\n}); };\r\nexports.Loader = function (props) { return store_component_base_1.storeComp(function () { return ({\r\n    isLoading: props.store.getIsLoading(),\r\n}); }, function (state) {\r\n    // console.log('Loader.render', state.isLoading);\r\n    return state.isLoading && (RX.createElement(RX.View, { style: styles_1.styles.loader },\r\n        RX.createElement(RX.ActivityIndicator, { size: 'medium', color: styles_1.colors.loader })));\r\n}); };\r\nexports.MiniLoader = function (props) { return store_component_base_1.storeComp(function () { return ({\r\n    isLoading: props.store.getIsLoading(),\r\n    isWeb: RX.Platform.getType() === 'web'\r\n}); }, function (state) {\r\n    // console.log('Loader.render', state.isLoading);\r\n    return (RX.createElement(RX.View, { style: styles_1.styles.mini_loader }, state.isLoading && (state.isWeb ? (RX.createElement(RX.View, { style: styles_1.styles.mini_loader_container_web },\r\n        RX.createElement(RX.ActivityIndicator, { size: 'tiny', color: styles_1.colors.mini_loader_web, deferTime: 0 }))) : (RX.createElement(RX.ActivityIndicator, { size: 'tiny', color: styles_1.colors.mini_loader_native, deferTime: 0 })))));\r\n}); };\r\nexports.AppIconImage = function () { return (RX.createElement(RX.View, { style: styles_1.styles.headerBar_appIconImage_view },\r\n    RX.createElement(RX.Image, { style: styles_1.styles.headerBar_appIconImage, source: '/static/images/icon_24.png' }))); };\r\nexports.AppImage = function () { return (RX.createElement(RX.View, { style: styles_1.styles.appImage_view },\r\n    RX.createElement(RX.Image, { style: styles_1.styles.appImage, source: '/static/images/icon_128.png' }))); };\r\nexports.HeaderBar = function (props) { return store_component_base_1.storeComp(function () { return ({\r\n    hasSearch: props.store.getSearch,\r\n    search: props.store.getSearch && props.store.getSearch(),\r\n}); }, function (state) {\r\n    var s = state.search;\r\n    var searchTimeoutId = null;\r\n    var setSearch = function (value) {\r\n        s = value;\r\n        clearTimeout(searchTimeoutId);\r\n        searchTimeoutId = setTimeout(onDone, 1000);\r\n    };\r\n    var clearSearch = function () {\r\n        clearTimeout(searchTimeoutId);\r\n        props.store.setSearch('');\r\n    };\r\n    var onDone = function () {\r\n        clearTimeout(searchTimeoutId);\r\n        props.store.setSearch(s);\r\n    };\r\n    return (RX.createElement(RX.View, { style: styles_1.styles.headerBar },\r\n        RX.createElement(exports.AppIconImage, null),\r\n        RX.createElement(exports.MiniLoader, { store: props.store }),\r\n        state.hasSearch ? (RX.createElement(RX.View, { style: styles_1.styles.searchBox_view },\r\n            RX.createElement(search_1.SearchIcon, { style: styles_1.styles.searchIcon }),\r\n            RX.createElement(SearchTextBox, { value: state.search, setValue: setSearch, onDone: onDone }),\r\n            RX.createElement(RX.Button, { onPress: clearSearch },\r\n                RX.createElement(clear_1.ClearIcon, { style: styles_1.styles.searchIcon })))) : (RX.createElement(RX.View, { style: styles_1.styles.flex1 })),\r\n        RX.createElement(RX.View, { style: styles_1.styles.headerButtons },\r\n            RX.createElement(feedbackButton_1.FeedbackButton, null))));\r\n}); };\r\nvar SearchTextBox = function (props) { return (RX.createElement(RX.TextInput, { style: styles_1.styles.searchBox_text, value: props.value, onChangeText: props.setValue, onSubmitEditing: props.onDone, onBlur: props.onDone, placeholder: 'Search', placeholderTextColor: styles_1.styles.searchBox_text_placeholder_color })); };\r\n\n\n/***/ }),\n\n/***/ 435:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar RX = __webpack_require__(1);\r\nvar styles_1 = __webpack_require__(14);\r\nvar store_component_base_1 = __webpack_require__(29);\r\nvar post_list_1 = __webpack_require__(202);\r\nexports.PostsBaseList = function (props) { return store_component_base_1.storeComp(function () { return ({\r\n    isLoading: props.postsStore.getIsLoading(),\r\n    isLoaded: props.postsStore.getIsLoaded(),\r\n    error: props.postsStore.getError(),\r\n    posts: props.postsStore.getPosts(),\r\n}); }, function (state) { return (RX.createElement(RX.View, null,\r\n    !!state.error && RX.createElement(RX.Text, { style: styles_1.styles.warning_text }, state.error),\r\n    state.isLoaded && !state.posts.length && (RX.createElement(RX.Text, { style: styles_1.styles.warning_text }, \"No Items\")),\r\n    state.posts && !!state.posts.length && (RX.createElement(RX.View, null,\r\n        RX.createElement(post_list_1.PostList, { store: props.store, items: state.posts }),\r\n        RX.createElement(exports.LoadMore, { postsStore: props.postsStore }))))); }); };\r\nexports.LoadMore = function (props) { return store_component_base_1.storeComp(function () { return ({\r\n    isLoadingMore: props.postsStore.getIsLoadingMore(),\r\n    hasMorePosts: props.postsStore.getHasMorePosts(),\r\n}); }, function (state) { return (state.hasMorePosts && (!state.isLoadingMore ? (RX.createElement(RX.View, { style: styles_1.styles.center_content },\r\n    RX.createElement(RX.Button, { style: styles_1.styles.action_button, onPress: props.postsStore.loadMorePosts },\r\n        RX.createElement(RX.Text, { style: styles_1.styles.action_button_text }, \"Load More\")))) : (RX.createElement(RX.View, { style: styles_1.styles.center_content },\r\n    RX.createElement(RX.ActivityIndicator, { size: 'medium', color: styles_1.colors.loader }))))); }); };\r\n\n\n/***/ }),\n\n/***/ 436:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar store_component_base_1 = __webpack_require__(29);\r\nvar RX = __webpack_require__(1);\r\nvar page_selector_1 = __webpack_require__(432);\r\nexports.Root = function (props) { return store_component_base_1.storeComp(function () { return ({\r\n    page: props.store.getPage()\r\n}); }, function (state) { return (RX.createElement(page_selector_1.PageSelector, { store: props.store, pageName: state.page })); }); };\r\n\n\n/***/ }),\n\n/***/ 63:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar auto_timeout_1 = __webpack_require__(64);\r\nvar RX = __webpack_require__(1);\r\nvar facebook_1 = __webpack_require__(190);\r\nvar facebook_sdk_web_1 = __webpack_require__(185);\r\nvar styles_1 = __webpack_require__(14);\r\nvar FacebookLogin = (function (_super) {\r\n    __extends(FacebookLogin, _super);\r\n    function FacebookLogin() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.onLoginPress = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var _this = this;\r\n            var err_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4 /*yield*/, auto_timeout_1.autoTimeout({\r\n                                timeoutErrorMessage: 'Timeout: Facebook Login',\r\n                                errorMessage: 'Error: Facebook Login',\r\n                            }, function () { return __awaiter(_this, void 0, void 0, function () {\r\n                                var fb, result;\r\n                                return __generator(this, function (_a) {\r\n                                    switch (_a.label) {\r\n                                        case 0: return [4 /*yield*/, facebook_sdk_web_1.loadFacebookSdk()];\r\n                                        case 1:\r\n                                            fb = _a.sent();\r\n                                            return [4 /*yield*/, fb.login()];\r\n                                        case 2:\r\n                                            result = _a.sent();\r\n                                            this.setState({\r\n                                                isLoggedIn: result.status === 'connected',\r\n                                            });\r\n                                            if (result.error) {\r\n                                                this.props.onError('Error: Facebook Login', result.error);\r\n                                            }\r\n                                            else if (result.status !== 'connected') {\r\n                                                this.props.onError('Error: Facebook Login', 'Not Connected');\r\n                                            }\r\n                                            return [2 /*return*/];\r\n                                    }\r\n                                });\r\n                            }); })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 3];\r\n                    case 2:\r\n                        err_1 = _a.sent();\r\n                        this.props.onError('Error: Facebook Login', err_1);\r\n                        return [3 /*break*/, 3];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        _this.onLogoutPress = function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var fb, result;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, facebook_sdk_web_1.loadFacebookSdk()];\r\n                    case 1:\r\n                        fb = _a.sent();\r\n                        return [4 /*yield*/, fb.logout()];\r\n                    case 2:\r\n                        result = _a.sent();\r\n                        this.setState({\r\n                            isLoggedIn: result.status === 'connected',\r\n                        });\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        return _this;\r\n    }\r\n    FacebookLogin.prototype.render = function () {\r\n        var _this = this;\r\n        if (this.state.isLoggedIn === undefined) {\r\n            setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var fb, result, err_2;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            _a.trys.push([0, 3, , 4]);\r\n                            return [4 /*yield*/, facebook_sdk_web_1.loadFacebookSdk()];\r\n                        case 1:\r\n                            fb = _a.sent();\r\n                            return [4 /*yield*/, fb.getLoginStatus()];\r\n                        case 2:\r\n                            result = _a.sent();\r\n                            this.setState({\r\n                                isLoggedIn: result.status === 'connected',\r\n                            });\r\n                            return [3 /*break*/, 4];\r\n                        case 3:\r\n                            err_2 = _a.sent();\r\n                            this.setState({\r\n                                isLoggedIn: false,\r\n                            });\r\n                            return [3 /*break*/, 4];\r\n                        case 4: return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n        }\r\n        return (!this.state.isLoggedIn ? (RX.createElement(RX.Button, { style: styles_1.styles.facebook_button, onPress: this.onLoginPress },\r\n            RX.createElement(facebook_1.FacebookIcon, { style: styles_1.styles.facebook_icon }),\r\n            \" \",\r\n            RX.createElement(RX.Text, { style: styles_1.styles.facebook_button_text }, \"Continue with Facebook\"))) : (RX.createElement(RX.Button, { style: styles_1.styles.facebook_button, onPress: this.onLogoutPress },\r\n            RX.createElement(RX.Text, { style: styles_1.styles.facebook_button_text }, \"Logout of Facebook\"))));\r\n    };\r\n    return FacebookLogin;\r\n}(RX.Component));\r\nexports.FacebookLogin = FacebookLogin;\r\n;\r\nvar FacebookAccessClass = (function () {\r\n    function FacebookAccessClass() {\r\n    }\r\n    FacebookAccessClass.prototype.getCurrentAccessToken = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var fb, result, token;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        console.log('START FacebookAccessClass.getCurrentAccessToken()');\r\n                        return [4 /*yield*/, facebook_sdk_web_1.loadFacebookSdk()];\r\n                    case 1:\r\n                        fb = _a.sent();\r\n                        console.log('FacebookAccessClass.getCurrentAccessToken() loadedFacebookSdk');\r\n                        return [4 /*yield*/, fb.getLoginStatus()];\r\n                    case 2:\r\n                        result = _a.sent();\r\n                        console.log('FacebookAccessClass.getCurrentAccessToken() got login status');\r\n                        token = result.status === 'connected' && result.authResponse.accessToken;\r\n                        console.log('END FacebookAccessClass.getCurrentAccessToken()', { token: token, result: result });\r\n                        return [2 /*return*/, token || null];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return FacebookAccessClass;\r\n}());\r\nexports.FacebookAccess = new FacebookAccessClass();\r\n\n\n/***/ }),\n\n/***/ 64:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction autoTimeout(options, process) {\r\n    options = {\r\n        time: options.time || 10000,\r\n        timeoutErrorMessage: options.timeoutErrorMessage || 'Timeout',\r\n        errorMessage: options.errorMessage || 'Error',\r\n    };\r\n    return new Promise(function (resolve, reject) {\r\n        try {\r\n            var id_1 = setTimeout(function () {\r\n                console.error(options.timeoutErrorMessage);\r\n                reject(options.timeoutErrorMessage);\r\n            }, options.time);\r\n            process()\r\n                .then(function (x) {\r\n                clearTimeout(id_1);\r\n                resolve(x);\r\n            })\r\n                .catch(function (err) {\r\n                clearTimeout(id_1);\r\n                console.error(options.errorMessage, err);\r\n                reject(err);\r\n            });\r\n        }\r\n        catch (err) {\r\n            console.error(options.errorMessage, err);\r\n            reject(err);\r\n        }\r\n    });\r\n}\r\nexports.autoTimeout = autoTimeout;\r\n\n\n/***/ })\n\n},[216]);\n\n\n// WEBPACK FOOTER //\n// bundle.js","import * as RX from 'reactxp';\r\n\r\nexport class SimpleComponentBase<T = {}, S = {}> extends RX.Component<T & { children?: JSX.Element | null }, S> {\r\n    // constructor() {\r\n    //     super();\r\n    //     this.state = {} as any;\r\n    // }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/simple-component-base.tsx","import { StoreBase, AutoSubscribeStore, autoSubscribe } from 'resub';\r\n\r\nimport { autoDeviceStorage } from '../extensions/storage/autoDeviceStorage';\r\nimport { FacebookAccess } from \"../components/common/account/facebook-login\";\r\n\r\n@AutoSubscribeStore\r\nexport class AccountStoreClass extends StoreBase {\r\n\r\n    // @autoDeviceStorage(false, 'AccountStore')\r\n    private _isFacebookLoggedIn: boolean = false;\r\n\r\n    // @autoDeviceStorage(null, 'AccountStore')\r\n    private _accessToken: string;\r\n\r\n    private _error: string = null;\r\n\r\n    @autoSubscribe\r\n    getError() {\r\n        return this._error;\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        setTimeout(this.load, 5);\r\n    }\r\n\r\n    setLoginError = (message: string, data: any) => {\r\n        try {\r\n            this._error = message + ': ' + JSON.stringify(data);\r\n        } catch (err) {\r\n            this._error = message + ': ' + data;\r\n        }\r\n\r\n        // Erase the access token on error?\r\n        this._accessToken = null;\r\n        this._isFacebookLoggedIn = false;\r\n        this.trigger();\r\n        console.error(message, data);\r\n    };\r\n\r\n    load = async () => {\r\n        try {\r\n            await this.getFacebookAccessToken_async();\r\n            this._isFacebookLoggedIn = this._accessToken != null;\r\n            this.trigger();\r\n            // this._accessToken = await FacebookAccess.getCurrentAccessToken();\r\n            // this._isFacebookLoggedIn = true;\r\n            // this.trigger();\r\n            // console.log('Facebook access token', this._accessToken);\r\n        } catch (err) {\r\n            // this._accessToken = null;\r\n            // this._isFacebookLoggedIn = false;\r\n            // this.trigger();\r\n            console.log('Facebook did not return an access token on load', err);\r\n        }\r\n    }\r\n\r\n    @autoSubscribe\r\n    getIsFacebookLoggedIn() {\r\n        return this._isFacebookLoggedIn;\r\n    }\r\n\r\n    @autoSubscribe\r\n    getFacebookAccessToken() {\r\n        console.log('getFacebookAccessToken', { accessToken: this._accessToken });\r\n        return this._accessToken;\r\n    }\r\n\r\n    getFacebookAccessToken_async = async () => {\r\n        const accessToken = await FacebookAccess.getCurrentAccessToken();\r\n        console.log('getFacebookAccessToken_async', { accessToken });\r\n\r\n        this._accessToken = accessToken;\r\n    };\r\n\r\n    onLoginFinished = (accessToken: string) => {\r\n        console.log('onLoginFinished', { accessToken });\r\n\r\n        this._accessToken = accessToken;\r\n        this._isFacebookLoggedIn = true;\r\n        this.trigger();\r\n    };\r\n}\r\n\r\nexport const AccountStore = new AccountStoreClass();\r\nexport type AccountStore = AccountStoreClass;\n\n\n// WEBPACK FOOTER //\n// ./src/app/store/account-store.ts","export function isMatch(search: string, item: any) {\r\n    if (!search) { return true; }\r\n\r\n    search = search.toLowerCase();\r\n\r\n    for (let k in item) {\r\n        const v = item[k];\r\n        let s = (v + '').toLowerCase();\r\n        if (s.indexOf(search) >= 0) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nexport async function delay(time = 0) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, time);\r\n    });\r\n}\r\n\r\nexport function injectAds<TPost, TBusiness>(items: TPost[], adItems:TBusiness[]): (TPost|TBusiness)[] {\r\n\r\n    const merged = items.slice() as (TPost|TBusiness)[];\r\n    const bItems = adItems.map(x => ({ x: x, order: Math.random() })).sort((a, b) => a.order - b.order).map(x => x.x);\r\n\r\n    const itemsPerBusiness = 7 + Math.floor(Math.random() * 3);\r\n    const iFirstBusiness = 2 + Math.floor(Math.random() * 5);\r\n    let bIndex = 0;\r\n\r\n    for (let i = iFirstBusiness; i < merged.length; i += itemsPerBusiness + 1) {\r\n        if (bIndex >= bItems.length) {\r\n            break;\r\n        }\r\n\r\n        merged.splice(i, 0, bItems[bIndex++]);\r\n    }\r\n\r\n    merged.push(...bItems.slice(bIndex));\r\n\r\n    return merged;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/store/helpers.ts","import * as RX from 'reactxp';\r\n\r\nimport { createIconStyle } from './components/common/icons/icon-base';\r\n\r\nconst pallette = {\r\n    primary_0: '#3D3783',\r\n    primary_1: '#7B76B6',\r\n    primary_2: '#57529B',\r\n    primary_3: '#29246E',\r\n    primary_4: '#141050',\r\n    secondary_1_0: '#993369',\r\n    secondary_1_1: '#D37DAA',\r\n    secondary_1_2: '#B65286',\r\n    secondary_1_3: '#801C51',\r\n    secondary_1_4: '#5E0634',\r\n    secondary_2_0: '#85AE3A',\r\n    secondary_2_1: '#CBEE8D',\r\n    secondary_2_2: '#A6CF5D',\r\n    secondary_2_3: '#699220',\r\n    secondary_2_4: '#476B07',\r\n    complement_0: '#BC9F3E',\r\n    complement_1: '#FFE797',\r\n    complement_2: '#DFC364',\r\n    complement_3: '#9D8122',\r\n    complement_4: '#735A08',\r\n};\r\n\r\n// const iconColors_sections = {\r\n//     a_purple: '#BC403D',\r\n//     b_red: '#852B77',\r\n//     c_orange: '#BC743D',\r\n//     d_orange_yellow: '#BC933D',\r\n\r\n//     e_yellow: '#BCB93D',\r\n//     f_yellow_green: '#88B039',\r\n//     g_green: '#419C33',\r\n//     h_teal: '#266F72',\r\n// };\r\n\r\nconst iconColors_sections = {\r\n    a_purple: '#880088',\r\n    b_red: '#880000',\r\n    c_orange: '#AA4400',\r\n    d_orange_yellow: '#AA6600',\r\n\r\n    e_yellow: '#AA8800',\r\n    f_yellow_green: '#668822',\r\n    g_green: '#008800',\r\n    h_teal: '#4466AA',\r\n};\r\n\r\nconst iconColors_actions = {\r\n    a_purple: '#CC00CC',\r\n    b_red: '#CC0000',\r\n    c_orange: '#FF6600',\r\n    d_orange_yellow: '#FF9900',\r\n\r\n    e_yellow: '#FFCC00',\r\n    f_yellow_green: '#99CC33',\r\n    g_green: '#00CC00',\r\n    h_teal: '#6699FF',\r\n};\r\n\r\nconst pageColors = {\r\n    back_heading_default: '#FFFFFF',\r\n    text_heading_default: pallette.secondary_1_0,\r\n    back_heading1: pallette.primary_4,\r\n    text_heading1: '#FFFFFF',\r\n    back_heading2: '#FFFFFF',\r\n    text_heading2: pallette.primary_0,\r\n\r\n    text_listItem: pallette.primary_0,\r\n};\r\n\r\nexport const colors = {\r\n    ...pageColors,\r\n    actionIcons: iconColors_actions,\r\n    sectionIcons: iconColors_sections,\r\n    // BUG: Hex colors don't work\r\n    loader: pallette.primary_0,\r\n    mini_loader_native: '#FFFFFF',\r\n    mini_loader_web: pallette.primary_0,\r\n    mini_loader_background: pallette.primary_1,\r\n\r\n    icon_disabled: '#CCCCCC',\r\n\r\n    text_main: pallette.primary_0,\r\n    icon_main: pallette.complement_0,\r\n    back_main: '#FFFFFF',\r\n\r\n    text_modal: pallette.primary_2,\r\n    back_modal: '#EEEEEE',\r\n\r\n    text_title: pallette.primary_0,\r\n\r\n    text_title_edit: pallette.primary_3,\r\n    back_title_edit: pallette.secondary_2_1,\r\n\r\n    text_button: '#FFFFFF',\r\n    back_button_action: pallette.primary_2,\r\n    back_button_warning: pallette.secondary_1_2,\r\n    back_button_filter: pallette.secondary_2_2,\r\n    back_button_nav: pallette.primary_3,\r\n\r\n    text_warning: '#FFFFFF',\r\n    back_warning: pallette.secondary_1_2,\r\n\r\n    // border_headerBar: pallette.primary_1,\r\n    // back_headerBar: '#EEEEEE',\r\n    // text_search: pallette.primary_2,\r\n    // back_search: '#FFFFFF',\r\n    border_headerBar: pallette.primary_1,\r\n    back_headerBar: pallette.primary_0,\r\n    text_search: pallette.primary_1,\r\n    text_search_placeholder: pallette.primary_2,\r\n    back_search: pallette.primary_4,\r\n\r\n    border_tabBar: pallette.primary_1,\r\n    back_tabBar: '#EEEEEE',\r\n    text_tab: '#888888',\r\n    text_tab_active: pallette.primary_4,\r\n\r\n    back_page: '#EEEEEE',\r\n    back_panel: '#FFFFFF',\r\n    back_sponsored: '#F8F8F8',\r\n\r\n    icon_post: pallette.primary_0,\r\n    icon_post_action: pallette.secondary_2_0,\r\n    text_post_title: pallette.primary_0,\r\n    text_post_subTitle: pallette.primary_1,\r\n    // icon_post: pallette.secondary_1_0,\r\n    // text_post_title: pallette.secondary_1_0,\r\n    // text_post_subTitle: pallette.secondary_1_1,\r\n    // icon_post: pallette.secondary_2_0,\r\n    // text_post_title: pallette.secondary_2_0,\r\n    // text_post_subTitle: pallette.secondary_2_1,\r\n    text_post_content: '#000000',\r\n    text_post_content_caption: '#555555',\r\n    text_post_content_details: '#777777',\r\n    text_post_info: '#888888',\r\n    back_post_image: '#000000',\r\n\r\n    border_post_content_section: pallette.secondary_2_1,\r\n};\r\n\r\nexport const pageSizes = {\r\n    padding_heading_default: 24,\r\n    font_heading_default: 20,\r\n    padding_heading1: 64,\r\n    font_heading1: 36,\r\n    padding_heading2: 36,\r\n    font_heading2: 28,\r\n\r\n    marginTop_paragraph: 8,\r\n    marginBottom_paragraph: 8,\r\n\r\n    margin_loneLink: 16,\r\n    paddingTop_loneLink: 8,\r\n    paddingBottom_loneLink: 8,\r\n    paddingLeft_loneLink: 24,\r\n    paddingRight_loneLink: 24,\r\n\r\n    paddingTop_listItem: 4,\r\n    paddingBottom_listItem: 4,\r\n    paddingLeft_listItem: 8,\r\n    paddingRight_listItem: 8,\r\n    icon_listItem: 12,\r\n};\r\n\r\nexport const sizes = {\r\n    // Page Sizes\r\n    ...pageSizes,\r\n\r\n    // Sizes\r\n    border_tabBar: 1,\r\n    padding_button_tab: 4,\r\n    icon_button_tab: 24,\r\n    font_button_tab: 12,\r\n    footer_height: 2 * (1 + 4) + 24 + (12 + 2),\r\n\r\n    width_miniLoader: 24,\r\n    height_appIconImage: 24,\r\n    width_appIconImage: 24,\r\n    marginLeft_appIconImage: 4,\r\n    marginRight_appIconImage: 4,\r\n\r\n    height_appImage: 128,\r\n    width_appImage: 128,\r\n\r\n    margin_search: 4,\r\n    padding_search: 4,\r\n    paddingLeft_search: 8,\r\n    font_search: 16,\r\n    icon_search: 16,\r\n    radius_search: 8,\r\n\r\n    padding_page: 8,\r\n    marginBottom_panel: 8,\r\n    padding_panel: 8,\r\n\r\n    paddingLeft_heading: 16,\r\n    font_heading: 24,\r\n\r\n    padding_action_button: 8,\r\n    icon_list: 24,\r\n\r\n    icon_post: 36,\r\n    paddingRight_postIcon: 8,\r\n    padding_icon_post_action: 2,\r\n    icon_post_section: 28,\r\n    icon_post_content: 14,\r\n    font_post_title: 18,\r\n    font_post_subTitle: 14,\r\n    font_post_content: 14,\r\n    font_post_content_caption: 13,\r\n    font_post_content_details: 12,\r\n    font_post_info: 10,\r\n\r\n    font_post_comment: 12,\r\n\r\n    marginLeft_post_section: 8,\r\n    marginBottom_post_section: 8,\r\n    marginTop_post_section: 8,\r\n\r\n    image_post_height: 200,\r\n\r\n    font_button: 18,\r\n    icon_button: 24,\r\n\r\n    font_stats: 24,\r\n    icon_stats: 28,\r\n};\r\n\r\n// Default Provider\r\nexport const pageStyles = {\r\n    headings: [\r\n        // Default (No Heading, Heading 3,4,5, etc.)\r\n        {\r\n            section: RX.Styles.createViewStyle({\r\n                padding: sizes.padding_heading_default,\r\n                backgroundColor: pageColors.back_heading_default,\r\n            }),\r\n            view: RX.Styles.createViewStyle({\r\n            }),\r\n            text: RX.Styles.createTextStyle({\r\n                fontSize: sizes.font_heading_default,\r\n                color: pageColors.text_heading_default,\r\n                textAlign: 'left',\r\n                fontWeight: 'bold',\r\n            })\r\n        },\r\n        // Heading 1\r\n        {\r\n            section: RX.Styles.createViewStyle({\r\n                padding: sizes.padding_heading1,\r\n                backgroundColor: pageColors.back_heading1,\r\n                alignItems: 'center',\r\n            }),\r\n            view: RX.Styles.createViewStyle({\r\n                maxWidth: 600,\r\n            }),\r\n            text: RX.Styles.createTextStyle({\r\n                fontSize: sizes.font_heading1,\r\n                color: pageColors.text_heading1,\r\n                textAlign: 'center',\r\n                fontWeight: 'bold',\r\n            })\r\n        },\r\n        // Heading 2\r\n        {\r\n            section: RX.Styles.createViewStyle({\r\n                padding: sizes.padding_heading2,\r\n                backgroundColor: pageColors.back_heading2,\r\n                alignItems: 'center',\r\n            }),\r\n            view: RX.Styles.createViewStyle({\r\n                maxWidth: 600,\r\n            }),\r\n            text: RX.Styles.createTextStyle({\r\n                fontSize: sizes.font_heading2,\r\n                color: pageColors.text_heading2,\r\n                textAlign: 'center',\r\n                fontWeight: 'bold',\r\n            })\r\n        },\r\n    ],\r\n\r\n    paragraph: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        marginTop: pageSizes.marginTop_paragraph,\r\n        marginBottom: pageSizes.marginBottom_paragraph,\r\n    }),\r\n    text: RX.Styles.createTextStyle({\r\n        flex: -1,\r\n        color: colors.text_main,\r\n    }),\r\n    inlineLink: RX.Styles.createButtonStyle({\r\n        backgroundColor: colors.back_button_action,\r\n        paddingLeft: sizes.padding_action_button,\r\n        paddingRight: sizes.padding_action_button,\r\n    }),\r\n    inlineLink_text: RX.Styles.createTextStyle({\r\n        flex: -1,\r\n        color: colors.text_button,\r\n        textDecorationLine: 'none',\r\n    }),\r\n\r\n    loneLink_view: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n    }),\r\n    loneLink_link: RX.Styles.createButtonStyle({\r\n        flex: 1,\r\n\r\n        margin: pageSizes.margin_loneLink,\r\n        paddingTop: pageSizes.paddingTop_loneLink,\r\n        paddingBottom: pageSizes.paddingBottom_loneLink,\r\n        paddingLeft: pageSizes.paddingLeft_loneLink,\r\n        paddingRight: pageSizes.paddingRight_loneLink,\r\n\r\n        backgroundColor: colors.back_button_action,\r\n    }),\r\n    loneLink_text: RX.Styles.createTextStyle({\r\n        flex: -1,\r\n        color: colors.text_button,\r\n        textDecorationLine: 'none',\r\n        textAlign: 'center',\r\n        fontSize: sizes.font_button,\r\n    }),\r\n\r\n    list: RX.Styles.createViewStyle({\r\n        flexDirection: 'column',\r\n    }),\r\n    listItem_view: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n    }),\r\n    listItem: RX.Styles.createTextStyle({\r\n        flex: -1,\r\n        color: pageColors.text_listItem,\r\n        paddingTop: pageSizes.paddingTop_listItem,\r\n        paddingBottom: pageSizes.paddingBottom_listItem,\r\n        paddingLeft: pageSizes.paddingLeft_listItem,\r\n        paddingRight: pageSizes.paddingRight_listItem,\r\n    }),\r\n    listItem_icon: createIconStyle({\r\n        fillColor: pageColors.text_listItem,\r\n        fontSize: pageSizes.icon_listItem,\r\n        padding: 0,\r\n    }),\r\n};\r\n\r\nexport const styles = {\r\n    ...pageStyles,\r\n\r\n    row: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n    }),\r\n    fullRow: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flex: 1,\r\n    }),\r\n    fullColumn: RX.Styles.createViewStyle({\r\n        flexDirection: 'column',\r\n        flex: 1,\r\n    }),\r\n    flex1: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n    }),\r\n\r\n    flexWrap: RX.Styles.createViewStyle({\r\n        flexWrap: 'wrap',\r\n    }),\r\n\r\n    // flexRow_wrap: RX.Styles.createViewStyle({\r\n    //     flex: 1,\r\n    //     flexDirection: 'row',\r\n    //     flexWrap: 'wrap',\r\n    //     // alignItems: 'stretch',\r\n    // }),\r\n    // flexWrap: RX.Styles.createViewStyle({\r\n    //     flexWrap: 'wrap',\r\n    // }),\r\n\r\n    space_around_content: RX.Styles.createViewStyle({\r\n        alignItems: 'center',\r\n        justifyContent: 'space-around',\r\n    }),\r\n\r\n    center_content: RX.Styles.createViewStyle({\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }),\r\n    center_text: RX.Styles.createTextStyle({\r\n        textAlign: 'center',\r\n    }),\r\n\r\n    right_content: RX.Styles.createTextStyle({\r\n        flexDirection: 'row',\r\n        alignItems: 'flex-end',\r\n        justifyContent: 'flex-end',\r\n    }),\r\n\r\n    loader: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        backgroundColor: colors.back_modal,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }),\r\n\r\n    mini_loader: RX.Styles.createViewStyle({\r\n        minWidth: sizes.width_miniLoader,\r\n        minHeight: sizes.width_miniLoader,\r\n        // flex: 1,\r\n        // backgroundColor: colors.back_modal,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }),\r\n\r\n    mini_loader_container_web: RX.Styles.createViewStyle({\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: colors.mini_loader_background,\r\n        borderRadius: sizes.width_miniLoader,\r\n    }),\r\n\r\n    appImage_view: RX.Styles.createViewStyle({\r\n        width: sizes.width_appImage,\r\n        height: sizes.height_appImage,\r\n    }),\r\n    appImage: RX.Styles.createImageStyle({\r\n        width: sizes.width_appImage,\r\n        height: sizes.height_appImage,\r\n    }),\r\n\r\n    // Header\r\n    headerBar: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flex: 1,\r\n        backgroundColor: colors.back_headerBar,\r\n        borderColor: colors.border_headerBar,\r\n        borderBottomWidth: 1,\r\n        borderStyle: 'solid',\r\n        alignItems: 'center',\r\n    }),\r\n    headerBar_appIconImage_view: RX.Styles.createViewStyle({\r\n        width: sizes.width_appIconImage,\r\n        height: sizes.height_appIconImage,\r\n        marginLeft: sizes.marginLeft_appIconImage,\r\n        marginRight: sizes.marginRight_appIconImage,\r\n    }),\r\n    headerBar_appIconImage: RX.Styles.createImageStyle({\r\n        width: sizes.width_appIconImage,\r\n        height: sizes.height_appIconImage,\r\n    }),\r\n    headerButtons: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        // margin: sizes.margin_search,\r\n        // padding: sizes.padding_search,\r\n    }),\r\n    searchBox_view: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        margin: sizes.margin_search,\r\n        padding: sizes.padding_search,\r\n        backgroundColor: colors.back_search,\r\n        borderRadius: sizes.radius_search,\r\n    }),\r\n    searchBox_text_placeholder_color: colors.text_search_placeholder,\r\n    searchBox_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_search,\r\n        color: colors.text_search,\r\n        backgroundColor: 'transparent',\r\n        margin: 0,\r\n        paddingLeft: sizes.paddingLeft_search,\r\n        paddingRight: 0,\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n        flex: 1,\r\n    }),\r\n    searchIcon: createIconStyle({\r\n        fontSize: sizes.icon_search,\r\n        padding: 0,\r\n        fillColor: colors.text_search,\r\n    }),\r\n\r\n    // Footer\r\n    tabBar: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flex: 1,\r\n        backgroundColor: colors.back_tabBar,\r\n        borderColor: colors.border_tabBar,\r\n        borderWidth: sizes.border_tabBar,\r\n        borderStyle: 'solid',\r\n    }),\r\n    tab_button: RX.Styles.createButtonStyle({\r\n        flex: 1,\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: sizes.padding_button_tab,\r\n    }),\r\n    tab_button_active: RX.Styles.createButtonStyle({\r\n        flex: 1,\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: sizes.padding_button_tab,\r\n    }),\r\n    tab_text: RX.Styles.createTextStyle({\r\n        textAlign: 'center',\r\n        fontSize: sizes.font_button_tab,\r\n        color: colors.text_tab,\r\n    }),\r\n    tab_text_active: RX.Styles.createTextStyle({\r\n        textAlign: 'center',\r\n        fontSize: sizes.font_button_tab,\r\n        color: colors.text_tab_active,\r\n    }),\r\n    tabIcon: createIconStyle({\r\n        fontSize: sizes.icon_button_tab,\r\n        padding: 0,\r\n        fillColor: colors.text_tab,\r\n    }),\r\n    tabIcon_active: createIconStyle({\r\n        fontSize: sizes.icon_button_tab,\r\n        padding: 0,\r\n        fillColor: colors.text_tab_active,\r\n    }),\r\n\r\n    // Page\r\n    pageBackground: RX.Styles.createViewStyle({\r\n        backgroundColor: colors.back_page,\r\n    }),\r\n    page: RX.Styles.createViewStyle({\r\n        // padding: sizes.padding_page,\r\n        backgroundColor: colors.back_page,\r\n    }),\r\n\r\n    // Headings\r\n    heading: RX.Styles.createViewStyle({\r\n        // alignItems: 'center',\r\n        // justifyContent: 'center',\r\n        paddingLeft: sizes.paddingLeft_heading\r\n    }),\r\n    heading_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_heading,\r\n    }),\r\n\r\n    // Actions\r\n    action_button: RX.Styles.createButtonStyle({\r\n        // // flex: 1,\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }),\r\n    action_button_text: RX.Styles.createTextStyle({\r\n        padding: sizes.padding_action_button,\r\n        backgroundColor: colors.back_button_action,\r\n        color: colors.text_button,\r\n        fontSize: sizes.font_button,\r\n    }),\r\n\r\n    facebook_button: RX.Styles.createButtonStyle({\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: colors.back_button_action,\r\n        // backgroundColor: '#3b5998',\r\n        padding: sizes.padding_action_button,\r\n        // borderRadius: 4,\r\n    }),\r\n    facebook_button_text: RX.Styles.createTextStyle({\r\n        color: '#FFFFFF',\r\n        fontSize: sizes.font_button,\r\n        marginLeft: 8,\r\n    }),\r\n    facebook_icon: createIconStyle({\r\n        fontSize: sizes.icon_button,\r\n        padding: 0,\r\n        fillColor: '#FFFFFF',\r\n    }),\r\n\r\n    warning_text: RX.Styles.createTextStyle({\r\n        padding: sizes.padding_action_button,\r\n        backgroundColor: colors.back_warning,\r\n        color: colors.text_warning,\r\n    }),\r\n\r\n    // List\r\n    listIcon: createIconStyle({\r\n        fontSize: sizes.icon_list,\r\n        padding: 0,\r\n        fillColor: colors.icon_main,\r\n    }),\r\n\r\n    // Post - Wrapping\r\n\r\n    // postList: RX.Styles.createViewStyle({\r\n    //     flexDirection: 'row',\r\n    //     flexWrap: 'wrap',\r\n    // }),\r\n    // postItem: RX.Styles.createViewStyle({\r\n    //     flex: 1,\r\n    // }),\r\n\r\n    // postPanel: RX.Styles.createViewStyle({\r\n    //     flex: 1,\r\n    //     marginRight: sizes.marginBottom_panel,\r\n    //     marginBottom: sizes.marginBottom_panel,\r\n    //     padding: sizes.padding_panel,\r\n    //     backgroundColor: colors.back_panel,\r\n    // }),\r\n\r\n    // Post- Normal\r\n    postList: RX.Styles.createViewStyle({\r\n    }),\r\n    postItem: RX.Styles.createViewStyle({\r\n    }),\r\n\r\n    postPanel: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        marginBottom: sizes.marginBottom_panel,\r\n        padding: sizes.padding_panel,\r\n        backgroundColor: colors.back_panel,\r\n    }),\r\n\r\n    sponsored: RX.Styles.createViewStyle({\r\n        backgroundColor: colors.back_sponsored,\r\n    }),\r\n\r\n    postContent_wrapper: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        flexDirection: 'column',\r\n\r\n        borderColor: colors.border_post_content_section,\r\n        borderStyle: 'solid',\r\n        borderLeftWidth: 1,\r\n        borderTopWidth: 1,\r\n        marginTop: 4,\r\n        marginLeft: 4,\r\n        paddingTop: 4,\r\n        paddingLeft: 4,\r\n        minWidth: 150,\r\n    }),\r\n\r\n    postIcon_padding: RX.Styles.createViewStyle({\r\n        paddingRight: sizes.paddingRight_postIcon,\r\n    }),\r\n\r\n    postIcon: createIconStyle({\r\n        fontSize: sizes.icon_post,\r\n        padding: 0,\r\n        fillColor: colors.icon_post,\r\n    }),\r\n    postIcon_action: createIconStyle({\r\n        fontSize: sizes.icon_post_section,\r\n        padding: 0,\r\n        fillColor: colors.icon_post_action,\r\n    }),\r\n    postIcon_action_disabled: createIconStyle({\r\n        // TODO: Update\r\n        fontSize: sizes.icon_post_section,\r\n        padding: 0,\r\n        fillColor: colors.icon_disabled,\r\n    }),\r\n\r\n    postTitle_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_post_title,\r\n        color: colors.text_post_title,\r\n    }),\r\n    postSubTitle_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_post_subTitle,\r\n        color: colors.text_post_subTitle,\r\n    }),\r\n    postContent_section: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        marginTop: sizes.marginTop_post_section,\r\n        marginBottom: sizes.marginBottom_post_section,\r\n        marginLeft: sizes.marginLeft_post_section,\r\n    }),\r\n    postContent_section_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_post_content,\r\n        color: colors.text_post_content\r\n    }),\r\n    postContent_section_caption_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_post_content_caption,\r\n        color: colors.text_post_content_caption\r\n    }),\r\n    postContent_section_details_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_post_content_details,\r\n        color: colors.text_post_content_details\r\n    }),\r\n    postContent_action: RX.Styles.createViewStyle({\r\n        padding: sizes.padding_icon_post_action\r\n    }),\r\n    postInfo_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_post_info,\r\n        color: colors.text_post_info,\r\n    }),\r\n\r\n    postContent_comment_name_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_post_comment,\r\n        color: colors.text_post_title,\r\n    }),\r\n    postContent_comment_message_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_post_comment,\r\n        color: colors.text_post_content,\r\n    }),\r\n    postContent_comment_info_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_post_info,\r\n        color: colors.text_post_info,\r\n    }),\r\n\r\n    postStats_view: RX.Styles.createViewStyle({\r\n        flex: 1,\r\n        borderStyle: 'solid',\r\n        borderColor: colors.border_post_content_section,\r\n        borderTopWidth: 1,\r\n        marginTop: sizes.marginBottom_post_section,\r\n        paddingTop: sizes.marginBottom_post_section,\r\n    }),\r\n\r\n    postStats_icon: createIconStyle({\r\n        fontSize: sizes.icon_stats,\r\n        padding: 0,\r\n        fillColor: colors.icon_disabled,\r\n    }),\r\n    postStats_text: RX.Styles.createTextStyle({\r\n        fontSize: sizes.font_stats,\r\n        padding: 0,\r\n    }),\r\n\r\n    // TEMP\r\n    postImage_maxWidth: 375,\r\n    postImage: RX.Styles.createImageStyle({\r\n        flex: 1,\r\n        // minHeight: sizes.image_post_height,\r\n        // backgroundColor: colors.back_post_image,\r\n        // maxHeight: 202,\r\n        // maxWidth: 360,\r\n    }),\r\n\r\n    postProfilePicture: RX.Styles.createImageStyle({\r\n        width: 32,\r\n        height: 32,\r\n    }),\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/app/styles.ts","import * as RX from 'reactxp';\r\nimport { Store } from './store/store';\r\nimport { handleRoute } from \"./routes\";\r\nimport { Root } from \"./components/page/root\";\r\n\r\nconst store = Store;\r\n\r\nhandleRoute();\r\n\r\nexport const App = () => (\r\n    <Root store={store} />\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.tsx","import { facebookAppId } from \"../../../settings\";\r\nimport { autoTimeout } from \"../utils/auto-timeout\";\r\n\r\n// https://developers.facebook.com/docs/facebook-login/web\r\nexport interface FacebookLoginStatusResponse {\r\n    error?: string;\r\n    status: 'connected' | 'not_authorized' | 'unknown';\r\n    authResponse: {\r\n        accessToken: string;\r\n    };\r\n}\r\n\r\ntype FacebookSdkRaw = {\r\n    init: (options: any) => void;\r\n    login: (callback: (response: FacebookLoginStatusResponse) => void) => void;\r\n    logout: (callback: (response: FacebookLoginStatusResponse) => void) => void;\r\n    getLoginStatus: (callback: (response: FacebookLoginStatusResponse) => void, force?: boolean) => void;\r\n};\r\n\r\ninterface FacebookSdk {\r\n    login: () => Promise<FacebookLoginStatusResponse>;\r\n    logout: () => Promise<FacebookLoginStatusResponse>;\r\n    getLoginStatus: (force?: boolean) => Promise<FacebookLoginStatusResponse>;\r\n}\r\n\r\ndeclare var FB: FacebookSdkRaw;\r\nlet hasStartedLoading = false;\r\nlet fb: FacebookSdk;\r\n\r\nconst getFacebookSdk = () => {\r\n    return fb = fb || {\r\n        getLoginStatus: (force) => {\r\n            return autoTimeout({\r\n                timeoutErrorMessage: 'Timeout: FacebookSdk.getLoginStatus',\r\n                errorMessage: 'Error: FacebookSdk.getLoginStatus',\r\n            }, () => {\r\n                return new Promise<FacebookLoginStatusResponse>((resolve, reject) => {\r\n                    FB.getLoginStatus(r => {\r\n                        resolve(r);\r\n                    }, force || false);\r\n                });\r\n            });\r\n        },\r\n        login: () => {\r\n            return autoTimeout({\r\n                timeoutErrorMessage: 'Timeout: FacebookSdk.getLoginStatus',\r\n                errorMessage: 'Error: FacebookSdk.getLoginStatus',\r\n            }, () => {\r\n                return new Promise<FacebookLoginStatusResponse>((resolve, reject) => {\r\n                    FB.login(r => {\r\n                        resolve(r);\r\n                    });\r\n                });\r\n            });\r\n        },\r\n        logout: () => {\r\n            return autoTimeout({\r\n                timeoutErrorMessage: 'Timeout: FacebookSdk.getLoginStatus',\r\n                errorMessage: 'Error: FacebookSdk.getLoginStatus',\r\n            }, () => {\r\n                return new Promise<FacebookLoginStatusResponse>((resolve, reject) => {\r\n                    FB.logout(r => {\r\n                        resolve(r);\r\n                    });\r\n                });\r\n            });\r\n        },\r\n    };\r\n};\r\n\r\nlet resolves: ((value: FacebookSdk) => void)[] = [];\r\n\r\nconst resolveAll = () => {\r\n    const f = getFacebookSdk();\r\n    const r = resolves;\r\n    resolves = [];\r\n    r.forEach(x => x(f));\r\n};\r\n\r\nexport function loadFacebookSdk(): Promise<FacebookSdk> {\r\n    return new Promise<FacebookSdk>((resolve, reject) => {\r\n        if (fb) {\r\n            resolve(fb);\r\n            return;\r\n        }\r\n\r\n        resolves.push(resolve);\r\n\r\n        if (hasStartedLoading) {\r\n            return;\r\n        }\r\n\r\n        hasStartedLoading = true;\r\n        console.log('START loadFacebookSdk');\r\n\r\n        (window as any).fbAsyncInit = function () {\r\n            FB.init({\r\n                appId: facebookAppId,\r\n                cookie: true,  // enable cookies to allow the server to access \r\n                // the session\r\n                xfbml: false,  // parse social plugins on this page\r\n                version: 'v2.8' // use graph api version 2.8\r\n            });\r\n            // FB.getLoginStatus((response) => {\r\n            //     // statusChangeCallback(response);\r\n            // });\r\n            resolveAll();\r\n            console.log('END loadFacebookSdk');\r\n        };\r\n\r\n        // Load the SDK asynchronously\r\n        (function (d, s, id) {\r\n            var js, fjs = d.getElementsByTagName(s)[0];\r\n            if (d.getElementById(id)) return;\r\n            js = d.createElement(s) as HTMLScriptElement;\r\n            js.id = id;\r\n            js.src = \"//connect.facebook.net/en_US/sdk.js\";\r\n            fjs.parentNode.insertBefore(js, fjs);\r\n        }(document, 'script', 'facebook-jssdk'));\r\n    });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/account/facebook-sdk-web.ts","export function getSize(w: number, h: number, maxWidth: number) {\r\n\r\n    if (w > maxWidth) {\r\n        const aspectRatio = h / w;\r\n        w = maxWidth;\r\n        h = Math.floor(maxWidth * aspectRatio);\r\n    }\r\n\r\n    return { width: w, height: h };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/controls/sized-image-common.ts","import { SimpleComponentBase } from '../simple-component-base';\r\nimport * as RX from 'reactxp';\r\nimport { getSize } from \"./sized-image-common\";\r\n\r\nexport class SizedImage extends SimpleComponentBase<{ source: string, style: RX.Types.ImageStyle, maxWidth: number }, { width: number, height: number }>{\r\n\r\n    onImageLoad = () => {\r\n        const img = this.refs['img'] as RX.Image;\r\n        const w = img.getNativeWidth();\r\n        const h = img.getNativeHeight();\r\n\r\n        this.setState(getSize(w, h, this.props.maxWidth));\r\n    };\r\n\r\n    render() {\r\n\r\n        const w = this.state && this.state.width || 50;\r\n        const h = this.state && this.state.height || 50;\r\n        const s = RX.Styles.createViewStyle({\r\n            width: w,\r\n            height: h,\r\n        }, false);\r\n\r\n        return (\r\n            <RX.View style={s}>\r\n                <RX.Image ref='img' source={this.props.source} style={this.props.style} onLoad={this.onImageLoad} />\r\n            </RX.View>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/controls/sized-image.tsx","import * as RX from 'reactxp';\r\nimport ImageSvg, { SvgPath } from 'reactxp-imagesvg';\r\nimport { IconBase, IconProps } from './icon-base';\r\n\r\nexport const CircleOpenIcon = (props: IconProps) => (\r\n    <IconBase viewBox='0 0 40 40' {...props} >\r\n        <SvgPath strokeColor={props.style.strokeColor} fillColor={props.style.fillColor} \r\n            // tslint:disable-next-line:max-line-length\r\n            d='m20.1 7.9q-3.3 0-6.1 1.6t-4.4 4.4-1.6 6.1 1.6 6.1 4.4 4.4 6.1 1.6 6.1-1.6 4.5-4.4 1.6-6.1-1.6-6.1-4.5-4.4-6.1-1.6z m17.2 12.1q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z'\r\n        />\r\n    </IconBase>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/icons/circle-open.tsx","import * as RX from 'reactxp';\r\nimport ImageSvg, { SvgPath } from 'reactxp-imagesvg';\r\nimport { IconBase, IconProps } from './icon-base';\r\n\r\nexport const ClearIcon = (props: IconProps) => (\r\n    <IconBase viewBox='0 0 40 40' {...props} >\r\n        <SvgPath strokeColor={props.style.strokeColor} fillColor={props.style.fillColor} \r\n            // tslint:disable-next-line:max-line-length\r\n            d='m31.6 10.7l-9.3 9.3 9.3 9.3-2.3 2.3-9.3-9.3-9.3 9.3-2.3-2.3 9.3-9.3-9.3-9.3 2.3-2.3 9.3 9.3 9.3-9.3z'\r\n        />\r\n    </IconBase>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/icons/clear.tsx","import * as RX from 'reactxp';\r\nimport ImageSvg, { SvgPath } from 'reactxp-imagesvg';\r\n\r\nexport interface IconStyle {\r\n    fontSize: number;\r\n    padding: number;\r\n    // width?: number;\r\n    // height?: number;\r\n    strokeColor?: string;\r\n    fillColor?: string;\r\n}\r\n\r\nexport function createIconStyle(style: IconStyle) { return style; }\r\nexport type IconProps = { style: IconStyle };\r\n\r\n// {props.style.strokeColor}\r\n// {props.style.fillColor} \r\nexport const IconBase = (props: IconProps & { viewBox: string, children?: JSX.Element | null }) => {\r\n    // console.log('IconBase', props.children);\r\n    return (\r\n        <ImageSvg\r\n            height={props.style.fontSize + props.style.padding * 2}\r\n            width={props.style.fontSize + props.style.padding * 2}\r\n            viewBox={props.viewBox}\r\n        >\r\n            {props.children}\r\n        </ImageSvg>\r\n    );\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/icons/icon-base.tsx","import * as RX from 'reactxp';\r\nimport ImageSvg, { SvgPath } from 'reactxp-imagesvg';\r\nimport { IconBase, IconProps } from './icon-base';\r\n\r\nexport const FacebookIcon = (props: IconProps) => (\r\n    <IconBase viewBox='0 0 40 40' {...props} >\r\n        <SvgPath strokeColor={props.style.strokeColor} fillColor={props.style.fillColor} \r\n            // tslint:disable-next-line:max-line-length\r\n            d='m35.4 2.9q0.8 0 1.3 0.5t0.6 1.4v30.4q0 0.8-0.6 1.4t-1.3 0.5h-8.7v-13.2h4.4l0.7-5.2h-5.1v-3.3q0-1.3 0.5-1.9t2-0.6l2.7 0v-4.7q-1.4-0.2-3.9-0.2-3.1 0-4.9 1.8t-1.8 5.1v3.8h-4.5v5.2h4.5v13.2h-16.4q-0.8 0-1.3-0.5t-0.6-1.4v-30.4q0-0.8 0.6-1.4t1.3-0.5h30.5z'\r\n        />\r\n    </IconBase>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/icons/facebook.tsx","import * as RX from 'reactxp';\r\nimport ImageSvg, { SvgPath } from 'reactxp-imagesvg';\r\nimport { IconBase, IconProps } from './icon-base';\r\n\r\nexport const FeedbackIcon = (props: IconProps) => (\r\n    <IconBase viewBox='0 0 40 40' {...props} >\r\n        <SvgPath strokeColor={props.style.strokeColor} fillColor={props.style.fillColor} \r\n            // tslint:disable-next-line:max-line-length\r\n            d='m21.6 16.6v-6.6h-3.2v6.6h3.2z m0 6.8v-3.4h-3.2v3.4h3.2z m11.8-20q1.3 0 2.3 0.9t0.9 2.3v20q0 1.4-0.9 2.4t-2.3 1h-23.4l-6.6 6.6v-30q0-1.3 0.9-2.3t2.3-0.9h26.8z'\r\n        />\r\n    </IconBase>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/icons/feedback.tsx","import * as RX from 'reactxp';\r\nimport ImageSvg, { SvgPath } from 'reactxp-imagesvg';\r\nimport { IconBase, IconProps } from './icon-base';\r\n\r\nexport const MenuIcon = (props: IconProps) => (\r\n    <IconBase viewBox='0 0 40 40' {...props} >\r\n        <SvgPath strokeColor={props.style.strokeColor} fillColor={props.style.fillColor}\r\n            // tslint:disable-next-line:max-line-length\r\n            d='m5 10h30v3.4h-30v-3.4z m0 11.6v-3.2h30v3.2h-30z m0 8.4v-3.4h30v3.4h-30z'\r\n        />\r\n    </IconBase>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/icons/menu.tsx","import * as RX from 'reactxp';\r\nimport ImageSvg, { SvgPath } from 'reactxp-imagesvg';\r\nimport { IconBase, IconProps } from './icon-base';\r\n\r\nexport const NewsIcon = (props: IconProps) => (\r\n    <IconBase viewBox='0 -2 40 40' {...props} >\r\n        <SvgPath strokeColor={props.style.strokeColor} fillColor={props.style.fillColor} \r\n            // tslint:disable-next-line:max-line-length\r\n            d='m19.9 12.5h-7.5v7.5h7.5v-7.5z m2.5 12.5v2.5h-12.5v-2.5h12.5z m0-14.9v12.4h-12.5v-12.4h12.5z m12.4 14.9v2.5h-10v-2.5h10z m0-5v2.5h-10v-2.5h10z m0-5v2.5h-10v-2.5h10z m0-4.9v2.4h-10v-2.4h10z m-29.8 18.6v-18.6h-2.5v18.6q0 0.5 0.4 0.9t0.8 0.3 0.9-0.3 0.4-0.9z m32.3 0v-21.1h-29.8v21.1q0 0.6-0.3 1.2h28.8q0.5 0 0.9-0.3t0.4-0.9z m2.5-23.6v23.6q0 1.5-1.1 2.6t-2.7 1.1h-32.3q-1.5 0-2.6-1.1t-1.1-2.6v-21.1h5v-2.5h34.8z'\r\n        />\r\n    </IconBase>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/icons/news.tsx","import * as RX from 'reactxp';\r\nimport ImageSvg, { SvgPath } from 'reactxp-imagesvg';\r\nimport { IconBase, IconProps } from './icon-base';\r\n\r\nexport const SearchIcon = (props: IconProps) => (\r\n    <IconBase viewBox='0 0 40 40' {...props} >\r\n        <SvgPath strokeColor={props.style.strokeColor} fillColor={props.style.fillColor} \r\n            // tslint:disable-next-line:max-line-length\r\n            d='m27.2 18.6q0-4.2-2.9-7.1t-7.1-2.9-7 2.9-3 7.1 2.9 7 7.1 3 7.1-3 2.9-7z m11.4 18.5q0 1.2-0.8 2.1t-2 0.8q-1.2 0-2-0.8l-7.7-7.7q-4 2.8-8.9 2.8-3.2 0-6.1-1.3t-5-3.3-3.4-5-1.2-6.1 1.2-6.1 3.4-5.1 5-3.3 6.1-1.2 6.1 1.2 5 3.3 3.4 5.1 1.2 6.1q0 4.9-2.7 8.9l7.6 7.6q0.8 0.9 0.8 2z'\r\n        />\r\n    </IconBase>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/icons/search.tsx","import * as RX from 'reactxp';\r\nimport { SimpleComponentBase } from '../simple-component-base';\r\n\r\nconst styles = {\r\n    fullRow: RX.Styles.createViewStyle({\r\n        flexDirection: 'row',\r\n        flex: 1,\r\n    }),\r\n    fullColumn: RX.Styles.createViewStyle({\r\n        flexDirection: 'column',\r\n        flex: 1,\r\n    }),\r\n};\r\n\r\nexport class MainLayout extends SimpleComponentBase<\r\n    {\r\n        backgroundColor?: string,\r\n        // sideContent?: JSX.Element,\r\n        headerContent?: JSX.Element,\r\n        footerContent?: JSX.Element,\r\n        footerHeight: number,\r\n        onScrollReachEnd: () => void,\r\n    }, {\r\n        isExpanded?: boolean,\r\n        isHeaderFixed?: boolean\r\n    }> {\r\n\r\n    private onScroll = () => {\r\n        // From: https://stackoverflow.com/questions/1145850/how-to-get-height-of-entire-document-with-javascript\r\n        const body = document.body;\r\n        const html = document.documentElement;\r\n        const contentHeight = Math.max(body.scrollHeight, body.offsetHeight,\r\n            html.clientHeight, html.scrollHeight, html.offsetHeight);\r\n\r\n        const yTop = document.body.scrollTop;\r\n        const viewHeight = document.body.clientHeight;\r\n        const yBottom = yTop + viewHeight;\r\n\r\n        // console.log('onScroll', { yBottom, contentHeight, viewHeight, yTop });\r\n\r\n        if (yBottom > contentHeight - 100) {\r\n            this.props.onScrollReachEnd && this.props.onScrollReachEnd();\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        if (this.props.onScrollReachEnd) {\r\n            window.addEventListener('scroll', this.onScroll);\r\n            this.onScroll();\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.props.onScrollReachEnd) {\r\n            window.removeEventListener('scroll', this.onScroll);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={`width:100%; height: 100%; background-color: ${this.props.backgroundColor}`}>\r\n                <div style='width:100%'>\r\n                    {this.props.headerContent}\r\n                </div>\r\n                <div style='width:100%; display:flex;'>\r\n                    {/*<RX.View>\r\n                        {this.props.sideContent}\r\n                    </RX.View>*/}\r\n                    <RX.View style={styles.fullColumn}>\r\n                        {this.props.children}\r\n                    </RX.View>\r\n                </div>\r\n                <div style={`height:${this.props.footerHeight}px;`}>\r\n                    {/* Footer Placeholder - margin-bottom didn't work in Safari*/}\r\n                </div>\r\n                <AutoHideHeader>\r\n                    {this.props.headerContent}\r\n                </AutoHideHeader>\r\n                <div style='position:fixed; bottom: 0; width: 100%;'>\r\n                    {this.props.footerContent}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class AutoHideHeader extends SimpleComponentBase<\r\n    {\r\n    }, {\r\n        isVisible: boolean\r\n        clonedChildren?: any,\r\n    }> {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        setTimeout(() => {\r\n            this.state = {\r\n                isVisible: false,\r\n                clonedChildren: RX.Children.map(this.props.children, c => c),\r\n            };\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', this.handleScroll);\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.handleScroll);\r\n    }\r\n\r\n    private _lastScrollY = 0;\r\n    handleScroll = (e: any) => {\r\n\r\n        const scrollY = window.scrollY;\r\n        const dy = scrollY - this._lastScrollY;\r\n\r\n        const isVisible = this.state.isVisible;\r\n\r\n        // Make invisible if negative scroll (mobile web)\r\n        if (scrollY < 0) {\r\n            if (isVisible) {\r\n                this.setState({\r\n                    isVisible: false\r\n                });\r\n            }\r\n            return;\r\n        }\r\n\r\n        // Ignore small changes\r\n        if (Math.abs(dy) < 100) {\r\n            return;\r\n        }\r\n\r\n        this._lastScrollY = scrollY;\r\n\r\n        if (!isVisible && dy < 0) {\r\n            this.setState({\r\n                isVisible: true\r\n            });\r\n        } else if (isVisible && dy > 0) {\r\n            this.setState({\r\n                isVisible: false\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (this.state.isVisible &&\r\n            <div style='position:fixed; top: 0; width: 100%;'>\r\n                {this.state.clonedChildren}\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/layout/main-layout.tsx","import * as RX from 'reactxp';\r\nimport { storeComp } from '../common/store-component-base';\r\nimport { Store } from '../../store/store';\r\nimport { styles } from \"../../styles\";\r\nimport { PostList } from \"../posts/post-list\";\r\nimport { FacebookLogin } from \"../common/account/facebook-login\";\r\nimport { PostsBaseList } from \"../page/posts-base-list\";\r\nimport { PageLayout } from \"../page/page-layout\";\r\n\r\nexport const NewsPage = (props: { store: Store }) => (\r\n    <PageLayout store={props.store} postsStore={props.store.newsFeed} onScrollReachEnd={props.store.newsFeed.loadMorePosts}>\r\n        <RX.View style={styles.page}>\r\n            <NewsPostList store={props.store} />\r\n        </RX.View>\r\n    </PageLayout>\r\n);\r\n\r\nexport const NewsPostList = (props: { store: Store }) => storeComp(() => ({\r\n    isFacebookLoggedIn: props.store.account.getIsFacebookLoggedIn(),\r\n    loginError: props.store.account.getError(),\r\n}), (state) => (\r\n    <RX.View>\r\n        {!state.isFacebookLoggedIn ? (\r\n            <RX.View>\r\n                <RX.Text style={styles.warning_text} >Facebook not Logged In</RX.Text>\r\n                {!!state.loginError && <RX.Text style={styles.warning_text}>{state.loginError}</RX.Text>}\r\n                {/*{!!state.error && <RX.Text style={styles.warning_text}>{state.error}</RX.Text>}*/}\r\n                <RX.View style={styles.postPanel}>\r\n                    <RX.View style={styles.center_content}>\r\n                        <FacebookLogin onLoginFinished={props.store.account.onLoginFinished} onError={props.store.account.setLoginError} />\r\n                    </RX.View>\r\n                </RX.View>\r\n            </RX.View>\r\n        ) : (\r\n                <PostsBaseList store={props.store} postsStore={props.store.newsFeed} />\r\n            )}\r\n    </RX.View>\r\n));\r\n\r\n// export const NewsPostList = (props: { store: Store }) => storeComp(() => ({\r\n// }), (state) => (\r\n//     <RX.View>\r\n//         <PostsBaseList store={props.store} postsStore={props.store.newsFeed} />\r\n//     </RX.View>\r\n// ));\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/pages/news-page.tsx","import { HomeIcon } from '../common/icons/home';\r\nimport { storeComp } from '../common/store-component-base';\r\nimport * as RX from 'reactxp';\r\nimport { Store } from '../../store/store';\r\nimport { styles } from \"../../styles\";\r\nimport { SizedImage } from \"../common/controls/sized-image\";\r\nimport { PhoneButton, MapButton, WebButton, PhoneActionItem, PhoneDisabledActionItem, FaxDisabledActionItem, AddressActionItem, WebActionItem } from \"./post-common\";\r\nimport { WrapContainer } from \"../common/layout/wrap-container\";\r\nimport { FacebookPost, FacebookProfile } from '../../server-access/facebook-access';\r\n\r\nexport const FacebookFeedPost = (props: { store: Store, item: FacebookPost }) => {\r\n\r\n    return (\r\n        <RX.View style={[styles.postPanel, styles.sponsored]}>\r\n            {/* Post Header */}\r\n            <RX.Button onPress={() => RX.Linking.openUrl(props.item.permalink_url)}>\r\n                <RX.View style={styles.fullRow}>\r\n                    <RX.View style={styles.postIcon_padding}>\r\n                        <RX.Image source={props.item.from.picture.data.url} style={styles.postProfilePicture} />\r\n                    </RX.View>\r\n                    <RX.View style={styles.fullColumn}>\r\n                        <RX.View><RX.Text style={styles.postTitle_text}>{props.item.from.name}</RX.Text></RX.View>\r\n                        <RX.View><RX.Text style={styles.postInfo_text}>{formatTime(props.item.created_time)}</RX.Text></RX.View>\r\n                    </RX.View>\r\n                </RX.View>\r\n            </RX.Button>\r\n            {/* Post Body */}\r\n            <RX.View style={[styles.fullColumn]}>\r\n                {/*Description*/}\r\n                {!!props.item.message && (\r\n                    <RX.View style={styles.fullRow}>\r\n                        <RX.View style={styles.postContent_section}>\r\n                            <RX.Text style={styles.postContent_section_text}>{props.item.message}</RX.Text>\r\n                        </RX.View>\r\n                    </RX.View>\r\n                )}\r\n                {!!props.item.full_picture && (\r\n                    <RX.View style={[styles.fullRow, styles.center_content]}>\r\n                        <SizedImage style={styles.postImage} source={props.item.full_picture} maxWidth={styles.postImage_maxWidth} />\r\n                    </RX.View>\r\n                )}\r\n                {!!props.item.caption && (\r\n                    <RX.View style={styles.fullRow}>\r\n                        <RX.View style={styles.postContent_section}>\r\n                            <RX.Text style={styles.postContent_section_caption_text}>{props.item.caption}</RX.Text>\r\n                        </RX.View>\r\n                    </RX.View>\r\n                )}\r\n                {!!props.item.description && (\r\n                    <RX.View style={styles.fullRow}>\r\n                        <RX.View style={styles.postContent_section}>\r\n                            <RX.Text style={styles.postContent_section_details_text}>{props.item.description}</RX.Text>\r\n                        </RX.View>\r\n                    </RX.View>\r\n                )}\r\n            </RX.View>\r\n\r\n            {/*Stats*/}\r\n            {props.item.shares && props.item.shares.count && (\r\n                <RX.View style={[styles.fullColumn, styles.postStats_view]}>\r\n                    <RX.View style={[styles.postContent_section, styles.fullRow]}>\r\n                        <RX.Text style={styles.postContent_section_details_text}>{props.item.shares.count} shares </RX.Text>\r\n                        <RX.Text style={styles.postContent_section_details_text}>{props.item.comments && props.item.comments.data && props.item.comments.data.length || 0} comments </RX.Text>\r\n                    </RX.View>\r\n                </RX.View>\r\n            )}\r\n            {props.item.comments && props.item.comments.data && props.item.comments.data.length && (\r\n                <RX.View style={[styles.fullColumn, styles.postStats_view]}>\r\n                    {props.item.comments.data.map(c => (\r\n                        <Comment key={c.id} comment={c} />\r\n                    ))}\r\n                </RX.View>\r\n            )}\r\n            {/*Actions*/}\r\n            <RX.View style={styles.right_content}>\r\n                <RX.Button style={styles.action_button} onPress={() => RX.Linking.openUrl(props.item.permalink_url)}>\r\n                    <RX.Text style={styles.action_button_text}>\r\n                        Open in Facebook\r\n                    </RX.Text>\r\n                </RX.Button>\r\n            </RX.View>\r\n        </RX.View>\r\n    );\r\n};\r\n\r\nexport const Comment = (props: { comment: { from: FacebookProfile, message: string, created_time: string }, key?: any }) => (\r\n    <RX.View style={[styles.postContent_section, styles.fullRow]}>\r\n        <RX.Image source={props.comment.from.picture.data.url} style={styles.postProfilePicture} />\r\n        <RX.View style={styles.fullColumn}>\r\n            <RX.View style={styles.flex1}>\r\n                <RX.Text style={styles.postContent_comment_message_text}>\r\n                    <RX.Text style={styles.postContent_comment_name_text}>{props.comment.from.name} </RX.Text>\r\n                    {props.comment.message}\r\n                </RX.Text>\r\n            </RX.View>\r\n            <RX.Text style={styles.postContent_comment_info_text}>{formatTime(props.comment.created_time)}</RX.Text>\r\n        </RX.View>\r\n    </RX.View>\r\n);\r\n\r\nexport function formatTime(time: string) {\r\n    const d = new Date(Date.parse(time.replace('+0000', '+00:00')));\r\n    return d.toLocaleDateString() + ' ' + d.toLocaleTimeString();\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/posts/facebook-feed-post.tsx","import { Store } from '../../store/store';\r\nimport * as RX from 'reactxp';\r\nimport { PostSelector } from \"./post-selector\";\r\nimport { styles } from \"../../styles\";\r\nimport { PostItem } from \"../../store/posts-store-base\";\r\n\r\nexport const PostList = (props: { store: Store, items: PostItem[] }) => (\r\n    <RX.View style={styles.postList}>\r\n        {props.items.map((x, i) => (\r\n            <RX.View style={styles.postItem} key={i}>\r\n                <PostSelector store={props.store} item={x} />\r\n            </RX.View>\r\n        ))}\r\n    </RX.View>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/posts/post-list.tsx","import { FacebookPost } from '../../server-access/facebook-access';\r\nimport { CircleOpenIcon } from '../common/icons/circle-open';\r\nimport { styles } from '../../styles';\r\nimport * as RX from 'reactxp';\r\nimport { Store } from '../../store/store';\r\nimport { FacebookFeedPost } from \"./facebook-feed-post\";\r\nimport { PostItem } from \"../../store/posts-store-base\";\r\n\r\nexport const PostSelector = (props: { store: Store, item: PostItem }) => {\r\n\r\n    switch (props.item.kind) {\r\n        case 'FacebookPost': return <FacebookFeedPost store={props.store} item={props.item} />\r\n\r\n        // Should never happen\r\n        default: return <GenericPost store={props.store} item={props.item} />\r\n    }\r\n};\r\n\r\nexport const GenericPost = (props: { store: Store, item: PostItem }) => {\r\n    const x = props.item;\r\n    return (\r\n        <RX.View style={styles.postPanel}>\r\n            <RX.View style={styles.fullRow}>\r\n                <RX.View style={styles.postIcon_padding}>\r\n                    <CircleOpenIcon style={styles.postIcon} />\r\n                </RX.View>\r\n                <RX.View style={styles.fullColumn}>\r\n                    <RX.View><RX.Text style={styles.postTitle_text}>{x.kind}</RX.Text></RX.View>\r\n                </RX.View>\r\n            </RX.View>\r\n            <RX.View style={styles.postContent_section}>\r\n                {Object.getOwnPropertyNames(x).filter(k => k !== 'kind').map((k, i) => (\r\n                    <RX.View key={i}>\r\n                        <RX.Text style={styles.postContent_section_text}>{(x as any)[k] + ''}</RX.Text>\r\n                    </RX.View>\r\n                ))}\r\n            </RX.View>\r\n        </RX.View>\r\n    );\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/posts/post-selector.tsx","import * as RX from 'reactxp';\r\nimport { colors, styles } from '../../styles';\r\nimport { FeedbackIcon } from \"../common/icons/feedback\";\r\n\r\nconst formLinkUrl = 'https://goo.gl/forms/FORM_URL?';\r\n\r\nconst style = { ...styles.postIcon_action, fillColor: colors.actionIcons.e_yellow };\r\n\r\nconst feedbackOnPress = () => {\r\n    RX.Linking.openUrl(formLinkUrl);\r\n};\r\n\r\nexport const FeedbackButton = () => (\r\n    <RX.Button onPress={feedbackOnPress}>\r\n        <FeedbackIcon style={style} />\r\n    </RX.Button>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/smart/feedbackButton.tsx","import { Storage } from './storage';\r\n\r\nconst version = 'v0_1';\r\n\r\nexport function autoDeviceStorage(defaultValue: any = null, classStorageKey = ''): any {\r\n    return function (targetPrototype: any, propertyKey: string) {\r\n\r\n        const propKey = version + classStorageKey + propertyKey + '__value';\r\n\r\n        const descriptor: PropertyDescriptor = {};\r\n        descriptor.get = function () {\r\n            const self = this;\r\n            // const key = propKey + (self['_store_instance_name'] || '');\r\n            const key = propKey;\r\n            let value = self[key];\r\n            // console.log('get from self', { key, propKey, self, value: self[key] });\r\n\r\n            if (value === undefined) {\r\n                self[key] = null;\r\n                value = defaultValue;\r\n\r\n                // Get value from storage\r\n                if (self.startLoading) { self.startLoading(); }\r\n                const prom = Storage.getItem_noMemCache(key);\r\n                prom.then(x => {\r\n                    if (self.endLoading) { self.endLoading(); }\r\n                    if (x == null) {\r\n                        return;\r\n                    }\r\n                    self[key] = JSON.parse(x);\r\n\r\n                    // console.log('get from storage', { key, self, value: self[key] });\r\n                    self.trigger();\r\n                });\r\n            }\r\n            return value;\r\n        };\r\n\r\n        descriptor.set = function (v: any) {\r\n            const self = this;\r\n            //const key = propKey + (self['_store_instance_name'] || '');\r\n            const key = propKey;\r\n            self[key] = v;\r\n            Storage.setItem_noMemCache(key, JSON.stringify(v));\r\n        }\r\n\r\n        return descriptor;\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/extensions/storage/autoDeviceStorage.ts","import * as XP from 'reactxp';\r\nimport { StorageType } from './storageType';\r\n\r\nclass StorageClass implements StorageType {\r\n\r\n    constructor() {\r\n        console.log('Using StorageClass (native)');\r\n    }\r\n\r\n    getItem(key: string): Promise<string> {\r\n        return XP.Storage.getItem(key);\r\n    }\r\n    getItem_noMemCache(key: string): Promise<string> {\r\n        return XP.Storage.getItem(key);\r\n    }\r\n    setItem(key: string, value: string): Promise<void> {\r\n        return XP.Storage.setItem(key, value);\r\n    }\r\n    setItem_noMemCache(key: string, value: string): Promise<void> {\r\n        return XP.Storage.setItem(key, value);\r\n    }\r\n    hasItem = async (key: string): Promise<boolean> => {\r\n        return (await XP.Storage.getItem(key)) != null;\r\n    }\r\n\r\n}\r\n\r\nexport const Storage = new StorageClass() as StorageType;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/extensions/storage/storage.native.tsx","import * as XP from 'reactxp';\r\nimport { StorageType } from './storageType';\r\nimport { Storage as StorageNative } from './storage.native';\r\n\r\nclass StorageClass implements StorageType {\r\n\r\n    constructor() {\r\n        console.log('Using StorageClass (web-memStorage/localStorage)');\r\n    }\r\n\r\n    private _supportsLocalStorage: boolean = undefined;\r\n    get supportsLocalStorage() {\r\n        return this._supportsLocalStorage !== undefined ? this._supportsLocalStorage\r\n            : this._supportsLocalStorage = testLocalStorage();\r\n    }\r\n\r\n    private _memCache: { [key: string]: string } = {};\r\n\r\n    async getItem(key: string): Promise<string> {\r\n        if (this._memCache[key] === undefined) {\r\n            this._memCache[key] = await this.getItem_noMemCache(key);\r\n        }\r\n\r\n        return this._memCache[key];\r\n    }\r\n\r\n    async getItem_noMemCache(key: string): Promise<string> {\r\n        // console.log('getItem_noMemCache', { key });\r\n\r\n        if (this.supportsLocalStorage) {\r\n            return localStorage.getItem(key);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    async setItem(key: string, value: string) {\r\n        this._memCache[key] = value;\r\n        this.setItem_noMemCache(key, value);\r\n    }\r\n\r\n    async setItem_noMemCache(key: string, value: string) {\r\n        // console.log('setItem_noMemCache', { key, value });\r\n        if (this.supportsLocalStorage) {\r\n            return localStorage.setItem(key, value);\r\n        }\r\n    }\r\n\r\n    async hasItem(key: string) {\r\n        return this.getItem(key) !== undefined;\r\n    }\r\n}\r\n\r\nfunction testLocalStorage() {\r\n    try {\r\n        if (typeof localStorage === undefined) { return false; }\r\n        const key = '___test' + Math.random();\r\n        const value = 'Test Value';\r\n        localStorage[key] = value;\r\n        const isOk = localStorage[key] === value;\r\n        localStorage.removeItem(key);\r\n        return isOk;\r\n    } catch (err) {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport const Storage =\r\n    XP.Platform.getType() === 'web' ? new StorageClass() as StorageType\r\n        : StorageNative;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/extensions/storage/storage.tsx","import * as RX from 'reactxp';\r\n\r\nimport { Store } from './store/store';\r\n\r\nexport function handleRoute() {\r\n    if (RX.Platform.getType() !== 'web') { return; }\r\n\r\n    const query = location.search;\r\n    const m = query.match(/\\Wpath=([^&]+)(?:&|$)/);\r\n    const qPath = m && m[1];\r\n    const path = qPath || location.pathname;\r\n\r\n    console.log('handleRoute', { path });\r\n\r\n    const parts = path.replace(/^\\//,'').split('/');\r\n    const page = (parts[0] || '').toLowerCase();\r\n\r\n    // if (page === 'custom') {\r\n    //     const id = parts[1];\r\n\r\n    //     if (id) {\r\n    //         Store.route_openCustomPage(id);\r\n    //         return;\r\n    //     }\r\n    // }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/routes.ts","export interface FacebookClient {\r\n    graphApiRaw<T>(url: string, errorName: string): Promise<T>;\r\n    graphApi<T>(url: string, errorName: string): Promise<T>;\r\n}\r\n\r\nexport interface FacebookPictureData {\r\n    data: {\r\n        // is_silhouette: boolean;\r\n        url: string;\r\n    };\r\n}\r\n\r\nexport interface FacebookCoverPicture {\r\n    source: string;\r\n    // id: string;\r\n    // offset_x: number;\r\n    // offset_y: number;\r\n}\r\n\r\nexport interface FacebookProfile {\r\n    id: string;\r\n    name: string;\r\n    picture: FacebookPictureData;\r\n}\r\n\r\nconst fromFields = 'from{id,name,picture}'\r\n\r\nexport interface FacebookPost {\r\n    kind: 'FacebookPost';\r\n\r\n    from: FacebookProfile;\r\n\r\n    id: string;\r\n    type: string;\r\n    icon: string;\r\n\r\n    created_time: string;\r\n    createdTimeTicks: number;\r\n\r\n    message: string;\r\n    caption: string;\r\n    description: string;\r\n    link: string;\r\n\r\n    picture: string;\r\n    full_picture: string;\r\n    source: string;\r\n\r\n    permalink_url: string;\r\n    shares: {\r\n        count: number;\r\n    };\r\n\r\n    comments: {\r\n        data: {\r\n            id: string;\r\n            created_time: string;\r\n            from: FacebookProfile;\r\n            message: string;\r\n        }[]\r\n    };\r\n}\r\n\r\nconst postFields = `created_time,message,picture,full_picture,id,caption,description,type,source,link,icon,permalink_url,shares,${fromFields},comments{id,${fromFields},message,created_time}`;\r\n\r\n// Get Posts for a single page\r\nexport async function getPosts(client: FacebookClient, accessToken: string, pageName: string, limit = 10, sinceSeconds: number = null, untilSeconds: number = null) {\r\n    const sinceQuery = sinceSeconds && `&since=${sinceSeconds}` || '';\r\n    const untilQuery = untilSeconds && `&until=${untilSeconds}` || '';\r\n    const limitQuery = limit && `&limit=${limit}` || '';\r\n    const url = `https://graph.facebook.com/v2.6/${pageName}/posts?fields=${postFields}${limitQuery}${sinceQuery}${untilQuery}&access_token=${accessToken}`;\r\n\r\n    return client.graphApi<FacebookPost[]>(url, 'getPosts');\r\n}\r\n\r\n// Get posts for multiple pages in a single request\r\n// NOTE: if any pageName is not found, the whole request will fail\r\nexport function getPosts_multiplePages(client: FacebookClient, accessToken: string, pageNames: string[], limitPerPage = 10, sinceSeconds: number = null, untilSeconds: number = null) {\r\n\r\n    const sinceQuery = sinceSeconds && `&since=${sinceSeconds}` || '';\r\n    const untilQuery = untilSeconds && `&until=${untilSeconds}` || '';\r\n    const limitQuery = limitPerPage && `&limit=${limitPerPage}` || '';\r\n    const url = `https://graph.facebook.com/v2.6/posts?ids=${pageNames.join(',')}&fields=${postFields}${limitQuery}${sinceQuery}${untilQuery}&access_token=${accessToken}`;\r\n\r\n    type returnType = {\r\n        [pageName: string]: {\r\n            data: FacebookPost[];\r\n            paging: {\r\n                cursors: {\r\n                    before: string;\r\n                    after: string;\r\n                },\r\n                // Request Url for next n=limit items of this pageName\r\n                next: string\r\n            }\r\n        }\r\n    };\r\n\r\n    return client.graphApiRaw<returnType>(url, 'getPosts_multiplePages');\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/server-access/facebook-access.ts","import { autoTimeout } from '../components/common/utils/auto-timeout';\r\n\r\nasync function graphApiRaw<T>(url: string, errorName: string): Promise<T> {\r\n    return autoTimeout({\r\n        timeoutErrorMessage: 'Timeout: ' + errorName,\r\n        errorMessage: 'Error: ' + errorName\r\n    }, async () => {\r\n        const r = await fetch(url, { method: 'GET' });\r\n        const json = await r.json();\r\n\r\n        if (json.error) {\r\n            console.error(errorName + 'graphApi ERROR', json);\r\n            throw '' + json.error;\r\n        }\r\n\r\n        const result = json as T;\r\n        return result;\r\n    });\r\n}\r\n\r\nasync function graphApi<T>(url: string, errorName: string): Promise<T> {\r\n    return ((await graphApiRaw(url, errorName)) as { data: T }).data;\r\n}\r\n\r\nexport const facebookClient = {\r\n    graphApiRaw,\r\n    graphApi,\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/app/server-access/facebook-client.ts","export const facebookAppId = '12345'; // localhost:3100\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings.dev.ts","export * from './settings.dev';\r\n// export * from './settings.prod';\n\n\n// WEBPACK FOOTER //\n// ./src/app/settings.ts","import { StoreBase, AutoSubscribeStore, autoSubscribe } from 'resub';\r\nimport { autoDeviceStorage } from \"../extensions/storage/autoDeviceStorage\";\r\nimport { isMatch } from './helpers';\r\nimport { PostsStoreBase } from \"./posts-store-base\";\r\nimport { FacebookPost, getPosts_multiplePages, getPosts } from \"../server-access/facebook-access\";\r\nimport { AccountStore } from \"./account-store\";\r\nimport { facebookClient } from \"../server-access/facebook-client\";\r\n\r\nconst facebookPageIds: string[] = [];\r\n\r\ninterface NewsFeedEntry {\r\n    pageId: string;\r\n    posts: FacebookPost[];\r\n    isLoading?: boolean;\r\n    oldestEntryTimeTicks?: number;\r\n}\r\n\r\n@AutoSubscribeStore\r\nexport class NewsFeedStoreClass extends PostsStoreBase {\r\n    accountStore = AccountStore;\r\n\r\n    _postsAll_facebook: FacebookPost[];\r\n    _newsFeedData: {\r\n        feeds: NewsFeedEntry[];\r\n    };\r\n\r\n    protected load() {\r\n        this._newsFeedData = {\r\n            feeds: facebookPageIds.map(x => ({\r\n                pageId: x,\r\n                posts: [],\r\n            }))\r\n        };\r\n    }\r\n\r\n    async getPosts_filtered(search: string) {\r\n\r\n        if (!this._postsAll_facebook) {\r\n            await this.loadFacebookPosts();\r\n        }\r\n\r\n        return this._postsAll_facebook.filter(x => isMatch(search, x));\r\n    };\r\n\r\n    private loadFacebookPosts = async () => {\r\n        // Load Facebook Posts\r\n        try {\r\n            await this.accountStore.getFacebookAccessToken_async();\r\n            await this.populateActivePosts();\r\n        } catch (err) {\r\n            this.setError('Failed to load data from Facebook', err);\r\n        }\r\n\r\n    };\r\n\r\n    private populateActivePosts = async () => {\r\n\r\n\r\n        const accessToken = this.accountStore.getFacebookAccessToken();\r\n        console.log('NewsFeedStore.populateActivePosts START', { accessToken });\r\n\r\n        if (!accessToken) {\r\n            this.setError('Facebook Account not Connected');\r\n            return;\r\n        }\r\n\r\n        const allPosts = this._postsAll_facebook;\r\n\r\n        // If no results yet, get from all pages simultaneously\r\n        if (!allPosts || !allPosts.length) {\r\n            // Add all feeds\r\n            try {\r\n                const pagePosts = await getPosts_multiplePages(facebookClient, accessToken, this._newsFeedData.feeds.map(x => x.pageId));\r\n\r\n                const newPosts: FacebookPost[] = [];\r\n                for (let k in pagePosts) {\r\n                    const feed = this._newsFeedData.feeds.filter(f => f.pageId === k)[0];\r\n                    console.log('NewsFeedStore.populateActivePosts AddAllFeeds', { k, feed, pagePosts, _newsFeedData: this._newsFeedData });\r\n\r\n                    const fPosts = pagePosts[k].data;\r\n                    feed.posts = feed.posts || [];\r\n                    feed.posts.push(...fPosts);\r\n                    feed.posts = cleanAndSortPosts(feed.posts);\r\n                    feed.isLoading = false;\r\n                    feed.oldestEntryTimeTicks = feed.posts && feed.posts[feed.posts.length - 1].createdTimeTicks || 0;\r\n\r\n                    newPosts.push(...fPosts);\r\n                }\r\n\r\n                this._postsAll_facebook = this._postsAll_facebook || [];\r\n                this._postsAll_facebook.push(...newPosts);\r\n                this._postsAll_facebook = cleanAndSortPosts(this._postsAll_facebook);\r\n\r\n                console.log('NewsFeedStore.populateActivePosts END', { allPosts: this._postsAll_facebook, pagePosts });\r\n                return;\r\n            } catch (err) {\r\n                this.setError('Failed to load posts from Facebook', err);\r\n                return;\r\n            }\r\n        }\r\n\r\n        // Add more data for each feed\r\n        const postsActive = this._postsAll_facebook.slice(0, this._postsActiveCount);\r\n        const lastPost = postsActive && postsActive.length && postsActive[postsActive.length - 1];\r\n        const oldestActiveTimeTicks = lastPost && lastPost.createdTimeTicks || Number.MAX_VALUE;\r\n\r\n        const promises = this._newsFeedData.feeds.filter(f =>\r\n            // If the feed has newer items (greater), expand it\r\n            !f.isLoading && ((f.oldestEntryTimeTicks || 0) > oldestActiveTimeTicks)\r\n        ).map(x => this.loadMoreFeedPosts(x));\r\n\r\n        try {\r\n            await Promise.all(promises);\r\n        } catch (err) {\r\n            this.setError('Failed to load more posts from Facebook', err);\r\n            return;\r\n        }\r\n\r\n        console.log('NewsFeedStore.populateActivePosts END', { allPosts: this._postsAll_facebook, promises, oldestActiveTimeTicks });\r\n    };\r\n\r\n    private loadMoreFeedPosts = async (feed: NewsFeedEntry) => {\r\n        const accessToken = this.accountStore.getFacebookAccessToken();\r\n        console.log('NewsFeedStore.loadMoreFeedPosts START', { feed, allPosts: this._postsAll_facebook, accessToken });\r\n\r\n        try {\r\n            feed.isLoading = true;\r\n            feed.posts = feed.posts || [];\r\n            const untilSeconds = feed.posts && feed.posts[feed.posts.length - 1].createdTimeTicks / 1000 || null;\r\n            feed.posts.push(... await getPosts(facebookClient, accessToken, feed.pageId, null, null, untilSeconds));\r\n            feed.posts = cleanAndSortPosts(feed.posts);\r\n            feed.isLoading = false;\r\n            feed.oldestEntryTimeTicks = feed.posts && feed.posts[feed.posts.length - 1].createdTimeTicks || 0;\r\n\r\n            this._postsAll_facebook = this._postsAll_facebook || [];\r\n            this._postsAll_facebook.push(...feed.posts);\r\n            this._postsAll_facebook = cleanAndSortPosts(this._postsAll_facebook);\r\n\r\n            // this.trigger();\r\n        } catch (err) {\r\n            console.log('NewsFeedStore.loadMoreFeedPosts FAIL', err);\r\n            feed.isLoading = false;\r\n            throw err;\r\n        }\r\n\r\n        console.log('NewsFeedStore.loadMoreFeedPosts END', { feed, allPosts: this._postsAll_facebook });\r\n    };\r\n\r\n}\r\n\r\nfunction cleanAndSortPosts(items: FacebookPost[]) {\r\n    items.forEach(x => {\r\n        x.createdTimeTicks = Date.parse(x.created_time.replace('+0000', '+00:00'));\r\n        x.kind = 'FacebookPost';\r\n    });\r\n\r\n    const hash = items.reduce((out, x) => {\r\n        out[x.id] = x;\r\n        return out;\r\n    }, {} as { [key: string]: FacebookPost });\r\n\r\n    const final = Object.getOwnPropertyNames(hash).map(k => hash[k]);\r\n    return final.sort((a, b) => b.createdTimeTicks - a.createdTimeTicks);\r\n}\r\n\r\nexport const NewsFeedStore = new NewsFeedStoreClass();\r\nexport type NewsFeedStore = NewsFeedStoreClass;\n\n\n// WEBPACK FOOTER //\n// ./src/app/store/news-feed-store.ts","import { autoSubscribeWithKey } from 'resub/dist/src/AutoSubscriptions';\r\nimport { StoreBase, AutoSubscribeStore, autoSubscribe } from 'resub';\r\nimport { autoDeviceStorage } from \"../extensions/storage/autoDeviceStorage\";\r\nimport { FacebookPost } from '../server-access/facebook-access';\r\nimport { delay } from \"./helpers\";\r\n\r\nexport type PostItem = FacebookPost;\r\n\r\n@AutoSubscribeStore\r\nexport abstract class PostsStoreBase extends StoreBase {\r\n\r\n    private _error: string = null;\r\n    private _isLoading = true;\r\n    private _isLoaded = false;\r\n    private _isLoadingMore = false;\r\n\r\n    private _postsFiltered: PostItem[];\r\n    private _postsActive: PostItem[];\r\n\r\n    private _search: string;\r\n    protected _postsActiveCount = 10;\r\n    private _hasMorePosts = false;\r\n\r\n    constructor() {\r\n        super();\r\n        setTimeout(this.load_super, 10);\r\n\r\n        // Load Data Automatically on App Load\r\n        setTimeout(this.loadData, 1000);\r\n    }\r\n\r\n    @autoSubscribe\r\n    getPosts() {\r\n        if (!this._postsActive) {\r\n            this._postsActive = [];\r\n            setTimeout(this.loadData);\r\n        }\r\n\r\n        return this._postsActive;\r\n    }\r\n\r\n    @autoSubscribe\r\n    getError() {\r\n        return this._error;\r\n    }\r\n\r\n    @autoSubscribe\r\n    getIsLoading() {\r\n        return this._isLoading;\r\n    }\r\n\r\n    @autoSubscribe\r\n    getIsLoaded() {\r\n        return this._isLoaded;\r\n    }\r\n\r\n    @autoSubscribeWithKey('_isLoadingMore')\r\n    getIsLoadingMore() {\r\n        return this._isLoadingMore;\r\n    }\r\n\r\n    @autoSubscribe\r\n    getSearch() {\r\n        return this._search;\r\n    }\r\n\r\n    @autoSubscribe\r\n    getHasMorePosts() {\r\n        return this._hasMorePosts;\r\n    }\r\n\r\n    setSearch = async (search: string) => {\r\n        console.log('PostsStoreBase.setSearch', { search });\r\n        if (search === this._search) { return; }\r\n\r\n        this._search = search;\r\n        this.resetData(true);\r\n    };\r\n\r\n    loadMorePosts = () => {\r\n        setTimeout(this.loadMorePosts_inner);\r\n    };\r\n\r\n    private _isIgnoringLoadMore = false;\r\n\r\n    private loadMorePosts_inner = async () => {\r\n        console.log('PostsStoreBase.loadMorePosts');\r\n\r\n        if (!this._isLoadingMore && !this._isIgnoringLoadMore && this._postsFiltered) {\r\n            this._isIgnoringLoadMore = true;\r\n            setTimeout(this.loadMorePosts_resume, 500);\r\n            this._isLoadingMore = true;\r\n            // this.trigger('_isLoadingMore');\r\n            // await delay(1000);\r\n\r\n            this._postsActiveCount += 10;\r\n            this.showActivePosts();\r\n        }\r\n    };\r\n\r\n    private loadMorePosts_resume = () => {\r\n        this._isIgnoringLoadMore = false;\r\n    };\r\n\r\n\r\n    protected setError = (message: string, data?: any) => {\r\n        console.error(message, data);\r\n        this._error = message;\r\n\r\n        if (data) {\r\n            try {\r\n                this._error = message + ': ' + JSON.stringify(data);\r\n            } catch (err) {\r\n                this._error = message + ': ' + data;\r\n            }\r\n        }\r\n\r\n        this._isLoading = false;\r\n        this._isLoaded = false;\r\n        this._isLoadingMore = false;\r\n        this.trigger();\r\n    };\r\n\r\n    private load_super = () => {\r\n        this.load();\r\n        this.resetData(true);\r\n    };\r\n\r\n\r\n    protected resetData = (shouldResetSearch = false) => {\r\n        this._error = null;\r\n        this._isLoading = true;\r\n        this._isLoaded = false;\r\n        this._isLoadingMore = false;\r\n\r\n        if (shouldResetSearch) {\r\n            this._postsFiltered = null;\r\n            this._postsActiveCount = 10;\r\n        }\r\n\r\n        this._postsActive = null;\r\n        this.trigger();\r\n    };\r\n\r\n    private loadData = async () => {\r\n\r\n        if (!this._postsFiltered) {\r\n            this._postsFiltered = await this.getPosts_filtered(this._search);\r\n        }\r\n\r\n        this.showActivePosts();\r\n    }\r\n\r\n    private showActivePosts = () => {\r\n\r\n        const posts = this._postsFiltered;\r\n        this._postsActive = posts.slice(0, this._postsActiveCount);\r\n        this._hasMorePosts = this._postsActive.length !== posts.length;\r\n\r\n        this._isLoaded = true;\r\n        this._isLoading = false;\r\n        this._isLoadingMore = false;\r\n        this.trigger();\r\n    };\r\n\r\n    protected abstract load(): void;\r\n    abstract getPosts_filtered(search: string): Promise<PostItem[]>;\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/store/posts-store-base.ts","import { StoreBase, AutoSubscribeStore, autoSubscribe } from 'resub';\r\nimport { autoDeviceStorage } from '../extensions/storage/autoDeviceStorage';\r\nimport { delay, isMatch } from './helpers';\r\nimport { AccountStore } from './account-store';\r\nimport { facebookClient } from '../server-access/facebook-client';\r\nimport { NewsFeedStore } from \"./news-feed-store\";\r\nimport { PageName } from \"../components/pages/page-names\";\r\n\r\n@AutoSubscribeStore\r\nexport class StoreClass extends StoreBase {\r\n\r\n    newsFeed = NewsFeedStore;\r\n    account = AccountStore;\r\n\r\n    uiActions: { [key: string]: any } = [];\r\n\r\n    _isLoading = true;\r\n    _isLoadingChangeId = 0;\r\n\r\n    @autoDeviceStorage('Settings')\r\n    _page: PageName;\r\n\r\n    constructor() {\r\n        super();\r\n        setTimeout(this.load, 250);\r\n    }\r\n\r\n    load = async () => {\r\n        // await this.startLoading();\r\n        // this.endLoading();\r\n    }\r\n\r\n    @autoSubscribe\r\n    getIsLoading() {\r\n        return this._isLoading;\r\n    }\r\n\r\n    startLoading = async (fast = false) => {\r\n        if (this._isLoading) { return; }\r\n\r\n        this._isLoading = true;\r\n        this._isLoadingChangeId++;\r\n\r\n        if (!fast) {\r\n            this.trigger();\r\n            await delay(10);\r\n        }\r\n    }\r\n\r\n    endLoading = async (fast = false) => {\r\n        // this.refreshPage();\r\n\r\n        if (!this._isLoading) { return; }\r\n\r\n        const id = this._isLoadingChangeId;\r\n        //if (!fast) await delay(500);\r\n        if (!fast) await delay(10);\r\n\r\n        if (!this._isLoading) { return; }\r\n        if (id !== this._isLoadingChangeId) { return; }\r\n\r\n        this._isLoading = false;\r\n        this._isLoadingChangeId++;\r\n        this.trigger();\r\n    }\r\n\r\n    @autoSubscribe\r\n    getPage() {\r\n        return this._page;\r\n    }\r\n\r\n    gotoPage = async (page: PageName) => {\r\n        // console.log('gotoPage', { page });\r\n\r\n        this.startLoading(true);\r\n        // await this.startLoading(true);\r\n        this._page = 'Empty';\r\n        this.trigger();\r\n        await delay(10);\r\n\r\n        this._page = page;\r\n\r\n        this.endLoading();\r\n    }\r\n\r\n};\r\n\r\nexport const Store = new StoreClass();\r\nexport type Store = StoreClass;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/store/store.ts","import * as RX from 'reactxp';\r\nimport { App } from './app/app';\r\n\r\nRX.App.initialize(true, true);\r\nRX.UserInterface.setMainView(<App />);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.tsx","import * as RX from 'reactxp';\r\nimport { ComponentBase } from 'resub';\r\nimport { Debug } from './utils/debug';\r\n\r\nexport function storeComp<S>(buildStateCallback: () => S, renderCallback: (state: S) => JSX.Element | null) {\r\n    return <StoreComponentBase buildStateCallback={buildStateCallback} renderCallback={renderCallback} />;\r\n};\r\n\r\nclass StoreComponentBase extends ComponentBase<{\r\n    buildStateCallback: () => any,\r\n    renderCallback: (state: any) => JSX.Element | null\r\n}, any> {\r\n\r\n    protected _buildState(props: {}, initialBuild: boolean): any {\r\n        return this.props.buildStateCallback();\r\n    }\r\n\r\n    render() {\r\n        return this.props.renderCallback(this.state);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/store-component-base.tsx","import * as RX from 'reactxp';\r\nimport { Store } from '../../store/store';\r\nimport { styles } from \"../../styles\";\r\nimport { IconDemo } from \"../common/icons/icon-demo\";\r\nimport { FacebookLogin } from \"../common/account/facebook-login\";\r\nimport { storeComp } from \"../common/store-component-base\";\r\nimport { PageName } from \"../pages/page-names\";\r\nimport { PageLayout } from \"../page/page-layout\";\r\n\r\nexport const SettingsPage = (props: { store: Store }) => storeComp(() => ({\r\n    loginError: props.store.account.getError(),\r\n    isLoggedIn: props.store.account.getIsFacebookLoggedIn(),\r\n    accountMessage: `accessToken = '${(props.store.account.getFacebookAccessToken() || '').substr(0, 10) + '...'}'`,\r\n    platform: RX.Platform.getType(),\r\n}), (state) => (\r\n    <PageLayout store={props.store} postsStore={props.store}>\r\n        <RX.View style={styles.page}>\r\n            {!!state.loginError && <RX.Text style={styles.warning_text}>{state.loginError}</RX.Text>}\r\n\r\n            <RX.View style={styles.heading}>\r\n                <RX.Text style={styles.heading_text}>\r\n                    Settings\r\n                </RX.Text>\r\n            </RX.View>\r\n\r\n            <RX.View style={styles.postPanel}>\r\n                <RX.View style={[styles.fullRow, styles.center_content]}>\r\n                    <RX.View style={styles.flex1}>\r\n                        <RX.Text>Facebook: </RX.Text>\r\n                    </RX.View>\r\n                    <FacebookLogin onLoginFinished={props.store.account.onLoginFinished} onError={props.store.account.setLoginError} />\r\n                </RX.View>\r\n            </RX.View>\r\n\r\n            <RX.View style={styles.heading}>\r\n                <RX.Text style={styles.heading_text}>\r\n                    Other Pages\r\n                </RX.Text>\r\n            </RX.View>\r\n\r\n            <RX.View style={styles.heading}>\r\n                <RX.Text style={styles.heading_text}>\r\n                    Debug\r\n                </RX.Text>\r\n            </RX.View>\r\n            <RX.View style={styles.postPanel}>\r\n                <RX.View style={styles.center_content}>\r\n                    <RX.Text>{state.accountMessage}</RX.Text>\r\n                    <RX.Text>Platform: '{state.platform}'</RX.Text>\r\n                </RX.View>\r\n            </RX.View>\r\n        </RX.View>\r\n    </PageLayout>\r\n));\r\n\r\nconst PageLink = (props: { store: Store, title: string, pageName: PageName }) => (\r\n    <RX.View style={styles.postPanel}>\r\n        <RX.View style={[styles.fullRow, styles.center_content]}>\r\n            <RX.View style={styles.flex1}>\r\n                <RX.Text>{props.title}</RX.Text>\r\n            </RX.View>\r\n            <RX.Button style={styles.action_button} onPress={() => props.store.gotoPage(props.pageName)}>\r\n                <RX.Text style={styles.action_button_text}>Open {props.title}</RX.Text>\r\n            </RX.Button>\r\n        </RX.View>\r\n    </RX.View>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/pages/settings-page.tsx","import * as RX from 'reactxp';\r\n\r\nimport { Store } from \"../../store/store\";\r\nimport { NewsIcon } from \"../common/icons/news\";\r\nimport { MenuIcon } from \"../common/icons/menu\";\r\nimport { IconStyle } from \"../common/icons/icon-base\";\r\nimport { PageLayout } from \"../page/page-layout\";\r\nimport { SettingsPage } from \"./settings-page\";\r\nimport { NewsPage } from \"./news-page\";\r\n\r\nexport const PageSelector = (props: { store: Store, pageName: string }) => {\r\n    switch (props.pageName) {\r\n        case 'Empty': return <EmptyPage store={props.store} />\r\n        case 'Newsfeed': return <NewsPage store={props.store} />\r\n        default: return <SettingsPage store={props.store} />\r\n    }\r\n};\r\n\r\nexport const PageIcon = (props: { pageName: string, iconStyle: IconStyle }) => {\r\n    switch (props.pageName) {\r\n        case 'Newsfeed': return <NewsIcon style={props.iconStyle} />\r\n        default: return <MenuIcon style={props.iconStyle} />\r\n    }\r\n};\r\n\r\nexport const EmptyPage = (props: { store: Store }) => (\r\n    <PageLayout store={props.store} postsStore={props.store}>\r\n        <RX.View >\r\n        </RX.View>\r\n    </PageLayout>\r\n);\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/pages/page-selector.tsx","import { ViewOnLayoutEvent } from 'reactxp/dist/common/Types';\r\nimport * as RX from 'reactxp';\r\nimport { styles, sizes, colors } from '../../styles';\r\nimport { MainLayout } from '../common/layout/main-layout';\r\nimport { Store } from \"../../store/store\";\r\nimport { HeaderBar, PostsStoreProvider, TabBar } from './page-layout-common';\r\n\r\nexport const PageLayout = (props: { children?: any, store: Store, postsStore: PostsStoreProvider, onScrollReachEnd?: () => void }) => {\r\n\r\n    return (\r\n        <MainLayout\r\n            backgroundColor={colors.back_page}\r\n            headerContent={<HeaderBar store={props.postsStore} />}\r\n            footerContent={<TabBar store={props.store} />}\r\n            footerHeight={sizes.footer_height}\r\n            onScrollReachEnd={props.onScrollReachEnd}\r\n        >\r\n            <RX.View style={[styles.fullColumn, styles.pageBackground]}>\r\n                {props.children}\r\n            </RX.View>\r\n        </MainLayout>\r\n    );\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/page/page-layout.tsx","import { ViewOnLayoutEvent } from 'reactxp/dist/common/Types';\r\nimport * as RX from 'reactxp';\r\nimport { styles, sizes, colors } from '../../styles';\r\nimport { NewsIcon } from '../common/icons/news';\r\nimport { LocalIcon } from '../common/icons/local';\r\nimport { DirectoryIcon } from '../common/icons/directory';\r\nimport { HomeIcon } from '../common/icons/home';\r\nimport { MenuIcon } from '../common/icons/menu';\r\nimport { Store } from '../../store/store';\r\nimport { storeComp } from '../common/store-component-base';\r\nimport { Debug } from '../common/utils/debug';\r\nimport { SearchIcon } from \"../common/icons/search\";\r\nimport { ClearIcon } from \"../common/icons/clear\";\r\nimport { FeedbackButton } from \"../smart/feedbackButton\";\r\nimport { PageName } from \"../pages/page-names\";\r\nimport { PageIcon } from \"../pages/page-selector\";\r\n\r\nexport interface PostsStoreProvider {\r\n    getIsLoading(): boolean;\r\n\r\n    setSearch?(value: string): void;\r\n    getSearch?(): string;\r\n}\r\n\r\n\r\nexport const TabBar = (props: { store: Store }) => {\r\n    return (\r\n        <RX.View style={[styles.tabBar]} >\r\n            <PageTab name='Newsfeed' store={props.store} />\r\n            <PageTab name='Settings' store={props.store} />\r\n        </RX.View>\r\n    );\r\n};\r\n\r\nconst PageTab = (props: { name: PageName, store: Store, title?: string }) => storeComp(() => ({\r\n    active: props.store.getPage()\r\n}), (state) => {\r\n\r\n    // Cache Action in Store    \r\n    const s = props.store.uiActions;\r\n    const n = 'PageTab_onPress_' + props.name;\r\n    const onPress = s[n] = s[n] || (() => props.store.gotoPage(props.name));\r\n\r\n    // Creates an arrow function every render\r\n    // const onPress = () => props.store.gotoPage(props.name);\r\n\r\n    const active = state.active;\r\n    const buttonStyle = props.name === active ? styles.tab_button_active : styles.tab_button;\r\n    const textStyle = props.name === active ? styles.tab_text_active : styles.tab_text;\r\n    const iconStyle = props.name === active ? styles.tabIcon_active : styles.tabIcon;\r\n    const icon = (\r\n        <PageIcon pageName={props.name} iconStyle={iconStyle} />\r\n    );\r\n\r\n    return (\r\n        <RX.Button style={buttonStyle} onPress={onPress}>\r\n            <RX.View style={styles.center_content}>{icon}</RX.View>\r\n            <RX.Text style={textStyle}>{props.title || props.name}</RX.Text>\r\n        </RX.Button>\r\n    );\r\n});\r\n\r\n\r\nexport const Loader = (props: { store: PostsStoreProvider }) => storeComp(() => ({\r\n    isLoading: props.store.getIsLoading(),\r\n}), (state) => {\r\n\r\n    // console.log('Loader.render', state.isLoading);\r\n\r\n    return state.isLoading && (\r\n        <RX.View style={styles.loader}>\r\n            <RX.ActivityIndicator size={'medium'} color={colors.loader} />\r\n        </RX.View>\r\n    );\r\n});\r\n\r\nexport const MiniLoader = (props: { store: PostsStoreProvider }) => storeComp(() => ({\r\n    isLoading: props.store.getIsLoading(),\r\n    isWeb: RX.Platform.getType() === 'web'\r\n}), (state) => {\r\n\r\n    // console.log('Loader.render', state.isLoading);\r\n\r\n    return (\r\n        <RX.View style={styles.mini_loader}>\r\n            {state.isLoading && (\r\n                state.isWeb ? (\r\n                    <RX.View style={styles.mini_loader_container_web} >\r\n                        <RX.ActivityIndicator size={'tiny'} color={colors.mini_loader_web} deferTime={0} />\r\n                    </RX.View>\r\n                ) : (\r\n                        <RX.ActivityIndicator size={'tiny'} color={colors.mini_loader_native} deferTime={0} />\r\n                    )\r\n            )}\r\n        </RX.View>\r\n    );\r\n});\r\n\r\nexport const AppIconImage = () => (\r\n    <RX.View style={styles.headerBar_appIconImage_view}>\r\n        <RX.Image style={styles.headerBar_appIconImage} source='/static/images/icon_24.png'></RX.Image>\r\n    </RX.View>\r\n);\r\n\r\nexport const AppImage = () => (\r\n    <RX.View style={styles.appImage_view}>\r\n        <RX.Image style={styles.appImage} source='/static/images/icon_128.png'></RX.Image>\r\n    </RX.View>\r\n);\r\n\r\nexport const HeaderBar = (props: { store: PostsStoreProvider }) => storeComp(() => ({\r\n    hasSearch: props.store.getSearch,\r\n    search: props.store.getSearch && props.store.getSearch(),\r\n}), (state) => {\r\n\r\n    let s = state.search;\r\n    let searchTimeoutId: any = null;\r\n\r\n    const setSearch = (value: string) => {\r\n        s = value;\r\n\r\n        clearTimeout(searchTimeoutId);\r\n        searchTimeoutId = setTimeout(onDone, 1000);\r\n    };\r\n\r\n    const clearSearch = () => {\r\n        clearTimeout(searchTimeoutId);\r\n        props.store.setSearch('');\r\n    };\r\n\r\n    const onDone = () => {\r\n        clearTimeout(searchTimeoutId);\r\n        props.store.setSearch(s);\r\n    };\r\n\r\n    return (\r\n        <RX.View style={styles.headerBar}>\r\n            <AppIconImage />\r\n            <MiniLoader store={props.store} />\r\n            {state.hasSearch ? (\r\n                <RX.View style={styles.searchBox_view}>\r\n                    <SearchIcon style={styles.searchIcon} />\r\n                    <SearchTextBox value={state.search} setValue={setSearch} onDone={onDone} />\r\n                    <RX.Button onPress={clearSearch}>\r\n                        <ClearIcon style={styles.searchIcon} />\r\n                    </RX.Button>\r\n                </RX.View>\r\n            ) : (\r\n                    <RX.View style={styles.flex1}>\r\n                    </RX.View>\r\n                )}\r\n            <RX.View style={styles.headerButtons}>\r\n                <FeedbackButton />\r\n            </RX.View>\r\n        </RX.View>\r\n    );\r\n});\r\n\r\nconst SearchTextBox = (props: { value: string, setValue: (value: string) => void, onDone: () => void }) => (\r\n    <RX.TextInput\r\n        style={styles.searchBox_text}\r\n        value={props.value}\r\n        onChangeText={props.setValue}\r\n        onSubmitEditing={props.onDone}\r\n        onBlur={props.onDone}\r\n        placeholder='Search'\r\n        placeholderTextColor={styles.searchBox_text_placeholder_color}\r\n    />\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/page/page-layout-common.tsx","import * as RX from 'reactxp';\r\nimport { styles, colors } from \"../../styles\";\r\nimport { storeComp } from \"../common/store-component-base\";\r\nimport { Store } from \"../../store/store\";\r\nimport { PostsStoreBase } from '../../store/posts-store-base';\r\nimport { PostList } from \"../posts/post-list\";\r\n\r\nexport const PostsBaseList = (props: { store: Store, postsStore: PostsStoreBase }) => storeComp(() => ({\r\n    isLoading: props.postsStore.getIsLoading(),\r\n    isLoaded: props.postsStore.getIsLoaded(),\r\n    error: props.postsStore.getError(),\r\n    posts: props.postsStore.getPosts(),\r\n}), (state) => (\r\n    <RX.View>\r\n        {!!state.error && <RX.Text style={styles.warning_text}>{state.error}</RX.Text>}\r\n        {state.isLoaded && !state.posts.length && (\r\n            <RX.Text style={styles.warning_text} >No Items</RX.Text>\r\n        )}\r\n        {state.posts && !!state.posts.length && (\r\n            <RX.View>\r\n                <PostList store={props.store} items={state.posts} />\r\n                <LoadMore postsStore={props.postsStore} />\r\n            </RX.View>\r\n        )}\r\n    </RX.View>\r\n));\r\n\r\n\r\nexport const LoadMore = (props: { postsStore: PostsStoreBase }) => storeComp(() => ({\r\n    isLoadingMore: props.postsStore.getIsLoadingMore(),\r\n    hasMorePosts: props.postsStore.getHasMorePosts(),\r\n}), (state) => (state.hasMorePosts && (!state.isLoadingMore ? (\r\n    <RX.View style={styles.center_content}>\r\n        <RX.Button style={styles.action_button} onPress={props.postsStore.loadMorePosts}>\r\n            <RX.Text style={styles.action_button_text}>\r\n                Load More\r\n                </RX.Text>\r\n        </RX.Button>\r\n    </RX.View>\r\n) : (\r\n        <RX.View style={styles.center_content}>\r\n            <RX.ActivityIndicator size={'medium'} color={colors.loader} />\r\n        </RX.View>\r\n    )\r\n)\r\n));\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/page/posts-base-list.tsx","import { storeComp } from '../common/store-component-base';\r\nimport * as RX from 'reactxp';\r\nimport { SettingsPage } from './settings-page';\r\nimport { Store } from '../../store/store';\r\nimport { PageLayout } from \"./page-layout\";\r\nimport { PageSelector } from \"../pages/page-selector\";\r\n\r\nexport const Root = (props: { store: Store }) => storeComp(() => ({\r\n    page: props.store.getPage()\r\n}), (state) => (\r\n    <PageSelector store={props.store} pageName={state.page} />\r\n));\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/page/root.tsx","import { autoTimeout } from '../utils/auto-timeout';\r\nimport * as RX from 'reactxp';\r\nimport { FacebookLoginProps, FacebookAccessType } from \"./facebook-login-common\";\r\nimport { createIconStyle } from \"../icons/icon-base\";\r\nimport { FacebookIcon } from \"../icons/facebook\";\r\nimport { loadFacebookSdk } from \"./facebook-sdk-web\";\r\nimport { styles } from \"../../../styles\";\r\n\r\n\r\nexport class FacebookLogin extends RX.Component<FacebookLoginProps, { isLoggedIn: boolean }> {\r\n\r\n    onLoginPress = async () => {\r\n        try {\r\n            await autoTimeout({\r\n                timeoutErrorMessage: 'Timeout: Facebook Login',\r\n                errorMessage: 'Error: Facebook Login',\r\n            }, async () => {\r\n                const fb = await loadFacebookSdk();\r\n                const result = await fb.login();\r\n                this.setState({\r\n                    isLoggedIn: result.status === 'connected',\r\n                });\r\n\r\n                if (result.error) {\r\n                    this.props.onError('Error: Facebook Login', result.error);\r\n                } else if (result.status !== 'connected') {\r\n                    this.props.onError('Error: Facebook Login', 'Not Connected');\r\n                }\r\n            });\r\n        } catch (err) {\r\n            this.props.onError('Error: Facebook Login', err);\r\n        }\r\n    };\r\n\r\n    onLogoutPress = async () => {\r\n        const fb = await loadFacebookSdk();\r\n        const result = await fb.logout();\r\n        this.setState({\r\n            isLoggedIn: result.status === 'connected',\r\n        });\r\n    };\r\n\r\n    render() {\r\n        if (this.state.isLoggedIn === undefined) {\r\n            setTimeout(async () => {\r\n                try {\r\n                    const fb = await loadFacebookSdk();\r\n                    const result = await fb.getLoginStatus();\r\n                    this.setState({\r\n                        isLoggedIn: result.status === 'connected',\r\n                    });\r\n                }\r\n                catch (err) {\r\n                    this.setState({\r\n                        isLoggedIn: false,\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        return (!this.state.isLoggedIn ? (\r\n            <RX.Button style={styles.facebook_button} onPress={this.onLoginPress}>\r\n                <FacebookIcon style={styles.facebook_icon} /> <RX.Text style={styles.facebook_button_text}>Continue with Facebook</RX.Text>\r\n            </RX.Button>\r\n        ) : (\r\n                <RX.Button style={styles.facebook_button} onPress={this.onLogoutPress}>\r\n                    <RX.Text style={styles.facebook_button_text}>Logout of Facebook</RX.Text>\r\n                </RX.Button>\r\n            ));\r\n    }\r\n};\r\n\r\nclass FacebookAccessClass implements FacebookAccessType {\r\n    async getCurrentAccessToken(): Promise<string> {\r\n        console.log('START FacebookAccessClass.getCurrentAccessToken()');\r\n\r\n\r\n        const fb = await loadFacebookSdk();\r\n        console.log('FacebookAccessClass.getCurrentAccessToken() loadedFacebookSdk');\r\n\r\n        const result = await fb.getLoginStatus();\r\n        console.log('FacebookAccessClass.getCurrentAccessToken() got login status');\r\n\r\n        const token = result.status === 'connected' && result.authResponse.accessToken;\r\n\r\n        console.log('END FacebookAccessClass.getCurrentAccessToken()', { token, result });\r\n        return token || null;\r\n    }\r\n}\r\n\r\nexport const FacebookAccess = new FacebookAccessClass();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/account/facebook-login.tsx","\r\n\r\nexport function autoTimeout<T>(options: { time?: number, timeoutErrorMessage?: string, errorMessage?: string }, process: () => Promise<T>): Promise<T> {\r\n    options = {\r\n        time: options.time || 10000,\r\n        timeoutErrorMessage: options.timeoutErrorMessage || 'Timeout',\r\n        errorMessage: options.errorMessage || 'Error',\r\n    };\r\n    return new Promise<T>((resolve, reject) => {\r\n        try {\r\n            const id = setTimeout(() => {\r\n                console.error(options.timeoutErrorMessage);\r\n                reject(options.timeoutErrorMessage);\r\n            }, options.time);\r\n            process()\r\n                .then(x => {\r\n                    clearTimeout(id);\r\n                    resolve(x);\r\n                })\r\n                .catch(err => {\r\n                    clearTimeout(id);\r\n                    console.error(options.errorMessage, err);\r\n                    reject(err);\r\n                });\r\n        } catch (err) {\r\n            console.error(options.errorMessage, err);\r\n            reject(err);\r\n        }\r\n    });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/common/utils/auto-timeout.ts"],"sourceRoot":""}